let e,t,n;function r(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function i(e){return e&&e.__esModule?e.default:e}var s,a,o,l,u,c,h,d,f,p,m,g,y,v,b,w,E,S,_,k,T=globalThis,x={},C={},I=T.parcelRequire53e4;null==I&&((I=function(e){if(e in x)return x[e].exports;if(e in C){var t=C[e];delete C[e];var n={id:e,exports:{}};return x[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){C[e]=t},T.parcelRequire53e4=I);var N=I.register;N("8rWe0",function(e,t){r(e.exports,"Fragment",()=>n,e=>n=e),r(e.exports,"jsx",()=>i,e=>i=e),r(e.exports,"jsxs",()=>s,e=>s=e);var n,i,s,a=Symbol.for("react.transitional.element");function o(e,t,n){var r=null;if(void 0!==n&&(r=""+n),void 0!==t.key&&(r=""+t.key),"key"in t)for(var i in n={},t)"key"!==i&&(n[i]=t[i]);else n=t;return{$$typeof:a,type:e,key:r,ref:void 0!==(t=n.ref)?t:null,props:n}}n=Symbol.for("react.fragment"),i=o,s=o}),N("9Qu0I",function(e,t){r(e.exports,"Children",()=>n,e=>n=e),r(e.exports,"Component",()=>i,e=>i=e),r(e.exports,"Fragment",()=>s,e=>s=e),r(e.exports,"Profiler",()=>a,e=>a=e),r(e.exports,"PureComponent",()=>o,e=>o=e),r(e.exports,"StrictMode",()=>l,e=>l=e),r(e.exports,"Suspense",()=>u,e=>u=e),r(e.exports,"__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE",()=>c,e=>c=e),r(e.exports,"__COMPILER_RUNTIME",()=>h,e=>h=e),r(e.exports,"cache",()=>d,e=>d=e),r(e.exports,"cloneElement",()=>f,e=>f=e),r(e.exports,"createContext",()=>p,e=>p=e),r(e.exports,"createElement",()=>m,e=>m=e),r(e.exports,"createRef",()=>g,e=>g=e),r(e.exports,"forwardRef",()=>y,e=>y=e),r(e.exports,"isValidElement",()=>v,e=>v=e),r(e.exports,"lazy",()=>b,e=>b=e),r(e.exports,"memo",()=>w,e=>w=e),r(e.exports,"startTransition",()=>E,e=>E=e),r(e.exports,"unstable_useCacheRefresh",()=>S,e=>S=e),r(e.exports,"use",()=>_,e=>_=e),r(e.exports,"useActionState",()=>k,e=>k=e),r(e.exports,"useCallback",()=>T,e=>T=e),r(e.exports,"useContext",()=>x,e=>x=e),r(e.exports,"useDebugValue",()=>C,e=>C=e),r(e.exports,"useDeferredValue",()=>I,e=>I=e),r(e.exports,"useEffect",()=>N,e=>N=e),r(e.exports,"useId",()=>A,e=>A=e),r(e.exports,"useImperativeHandle",()=>R,e=>R=e),r(e.exports,"useInsertionEffect",()=>P,e=>P=e),r(e.exports,"useLayoutEffect",()=>O,e=>O=e),r(e.exports,"useMemo",()=>D,e=>D=e),r(e.exports,"useOptimistic",()=>L,e=>L=e),r(e.exports,"useReducer",()=>M,e=>M=e),r(e.exports,"useRef",()=>F,e=>F=e),r(e.exports,"useState",()=>U,e=>U=e),r(e.exports,"useSyncExternalStore",()=>j,e=>j=e),r(e.exports,"useTransition",()=>V,e=>V=e),r(e.exports,"version",()=>z,e=>z=e);var n,i,s,a,o,l,u,c,h,d,f,p,m,g,y,v,b,w,E,S,_,k,T,x,C,I,N,A,R,P,O,D,L,M,F,U,j,V,z,B=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),K=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),X=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),Z=Symbol.iterator,ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,en={};function er(e,t,n){this.props=e,this.context=t,this.refs=en,this.updater=n||ee}function ei(){}function es(e,t,n){this.props=e,this.context=t,this.refs=en,this.updater=n||ee}er.prototype.isReactComponent={},er.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},er.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},ei.prototype=er.prototype;var ea=es.prototype=new ei;ea.constructor=es,et(ea,er.prototype),ea.isPureReactComponent=!0;var eo=Array.isArray,el={H:null,A:null,T:null,S:null,V:null},eu=Object.prototype.hasOwnProperty;function ec(e,t,n,r,i,s){return{$$typeof:B,type:e,key:t,ref:void 0!==(n=s.ref)?n:null,props:s}}function eh(e){return"object"==typeof e&&null!==e&&e.$$typeof===B}var ed=/\/+/g;function ef(e,t){var n,r;return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36)}function ep(){}function em(e,t,n){if(null==e)return e;var r=[],i=0;return!function e(t,n,r,i,s){var a,o,l,u=typeof t;("undefined"===u||"boolean"===u)&&(t=null);var c=!1;if(null===t)c=!0;else switch(u){case"bigint":case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case B:case $:c=!0;break;case J:return e((c=t._init)(t._payload),n,r,i,s)}}if(c)return s=s(t),c=""===i?"."+ef(t,0):i,eo(s)?(r="",null!=c&&(r=c.replace(ed,"$&/")+"/"),e(s,n,r,"",function(e){return e})):null!=s&&(eh(s)&&(a=s,o=r+(null==s.key||t&&t.key===s.key?"":(""+s.key).replace(ed,"$&/")+"/")+c,s=ec(a.type,o,void 0,void 0,void 0,a.props)),n.push(s)),1;c=0;var h=""===i?".":i+":";if(eo(t))for(var d=0;d<t.length;d++)u=h+ef(i=t[d],d),c+=e(i,n,r,u,s);else if("function"==typeof(d=null===(l=t)||"object"!=typeof l?null:"function"==typeof(l=Z&&l[Z]||l["@@iterator"])?l:null))for(t=d.call(t),d=0;!(i=t.next()).done;)u=h+ef(i=i.value,d++),c+=e(i,n,r,u,s);else if("object"===u){if("function"==typeof t.then)return e(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(ep,ep):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(t),n,r,i,s);throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(n=String(t))?"object with keys {"+Object.keys(t).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.")}return c}(e,r,"","",function(e){return t.call(n,e,i++)}),r}function eg(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var ey="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}console.error(e)};function ev(){}n={map:em,forEach:function(e,t,n){em(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return em(e,function(){t++}),t},toArray:function(e){return em(e,function(e){return e})||[]},only:function(e){if(!eh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},i=er,s=q,a=G,o=es,l=H,u=Y,c=el,h={__proto__:null,c:function(e){return el.H.useMemoCache(e)}},d=function(e){return function(){return e.apply(null,arguments)}},f=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r=et({},e.props),i=e.key,s=void 0;if(null!=t)for(a in void 0!==t.ref&&(s=void 0),void 0!==t.key&&(i=""+t.key),t)eu.call(t,a)&&"key"!==a&&"__self"!==a&&"__source"!==a&&("ref"!==a||void 0!==t.ref)&&(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];r.children=o}return ec(e.type,i,void 0,void 0,s,r)},p=function(e){return(e={$$typeof:K,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:W,_context:e},e},m=function(e,t,n){var r,i={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)eu.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return ec(e,s,void 0,void 0,null,i)},g=function(){return{current:null}},y=function(e){return{$$typeof:Q,render:e}},v=eh,b=function(e){return{$$typeof:J,_payload:{_status:-1,_result:e},_init:eg}},w=function(e,t){return{$$typeof:X,type:e,compare:void 0===t?null:t}},E=function(e){var t=el.T,n={};el.T=n;try{var r=e(),i=el.S;null!==i&&i(n,r),"object"==typeof r&&null!==r&&"function"==typeof r.then&&r.then(ev,ey)}catch(e){ey(e)}finally{el.T=t}},S=function(){return el.H.useCacheRefresh()},_=function(e){return el.H.use(e)},k=function(e,t,n){return el.H.useActionState(e,t,n)},T=function(e,t){return el.H.useCallback(e,t)},x=function(e){return el.H.useContext(e)},C=function(){},I=function(e,t){return el.H.useDeferredValue(e,t)},N=function(e,t,n){var r=el.H;if("function"==typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},A=function(){return el.H.useId()},R=function(e,t,n){return el.H.useImperativeHandle(e,t,n)},P=function(e,t){return el.H.useInsertionEffect(e,t)},O=function(e,t){return el.H.useLayoutEffect(e,t)},D=function(e,t){return el.H.useMemo(e,t)},L=function(e,t){return el.H.useOptimistic(e,t)},M=function(e,t,n){return el.H.useReducer(e,t,n)},F=function(e){return el.H.useRef(e)},U=function(e){return el.H.useState(e)},j=function(e,t,n){return el.H.useSyncExternalStore(e,t,n)},V=function(){return el.H.useTransition()},z="19.1.0"}),N("iWoMt",function(e,t){r(e.exports,"createRoot",()=>tL,e=>tL=e),r(e.exports,"hydrateRoot",()=>tM,e=>tM=e),r(e.exports,"version",()=>tF,e=>tF=e);var n,i=I("fO90s"),s=I("acw62"),a=I("1u0KT");function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function u(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do 0!=(4098&(t=e).flags)&&(n=t.return),e=t.return;while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function h(e){if(u(e)!==e)throw Error(o(188))}var d=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),E=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),x=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var N=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var A=Symbol.iterator;function R(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=A&&e[A]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference"),O=Array.isArray,D=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},F=[],U=-1;function j(e){return{current:e}}function V(e){0>U||(e.current=F[U],F[U]=null,U--)}function z(e,t){F[++U]=e.current,e.current=t}var B=j(null),$=j(null),q=j(null),H=j(null);function G(e,t){switch(z(q,t),z($,e),z(B,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?uc(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=uh(t=uc(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(B),z(B,e)}function W(){V(B),V($),V(q)}function K(e){null!==e.memoizedState&&z(H,e);var t=B.current,n=uh(t,e.type);t!==n&&(z($,e),z(B,n))}function Q(e){$.current===e&&(V(B),V($)),H.current===e&&(V(H),u0._currentValue=M)}var Y=Object.prototype.hasOwnProperty,X=i.unstable_scheduleCallback,J=i.unstable_cancelCallback,Z=i.unstable_shouldYield,ee=i.unstable_requestPaint,et=i.unstable_now,en=i.unstable_getCurrentPriorityLevel,er=i.unstable_ImmediatePriority,ei=i.unstable_UserBlockingPriority,es=i.unstable_NormalPriority,ea=i.unstable_LowPriority,eo=i.unstable_IdlePriority,el=i.log,eu=i.unstable_setDisableYieldValue,ec=null,eh=null;function ed(e){if("function"==typeof el&&eu(e),eh&&"function"==typeof eh.setStrictMode)try{eh.setStrictMode(ec,e)}catch(e){}}var ef=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(ep(e)/em|0)|0},ep=Math.log,em=Math.LN2,eg=256,ey=4194304;function ev(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 0x1000000:case 0x2000000:return 0x3c00000&e;case 0x4000000:return 0x4000000;case 0x8000000:return 0x8000000;case 0x10000000:return 0x10000000;case 0x20000000:return 0x20000000;case 0x40000000:return 0;default:return e}}function eb(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=0x7ffffff&r;return 0!==o?0!=(r=o&~s)?i=ev(r):0!=(a&=o)?i=ev(a):n||0!=(n=o&~e)&&(i=ev(n)):0!=(o=r&~s)?i=ev(o):0!==a?i=ev(a):n||0!=(n=r&~e)&&(i=ev(n)),0===i?0:0!==t&&t!==i&&0==(t&s)&&((s=i&-i)>=(n=t&-t)||32===s&&0!=(4194048&n))?t:i}function ew(e,t){return 0==(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function eE(){var e=eg;return 0==(4194048&(eg<<=1))&&(eg=256),e}function eS(){var e=ey;return 0==(0x3c00000&(ey<<=1))&&(ey=4194304),e}function e_(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ek(e,t){e.pendingLanes|=t,0x10000000!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function eT(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-ef(t);e.entangledLanes|=t,e.entanglements[r]=0x40000000|e.entanglements[r]|4194090&n}function ex(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ef(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function eC(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 0x1000000:case 0x2000000:e=128;break;case 0x10000000:e=0x8000000;break;default:e=0}return e}function eI(e){return 2<(e&=-e)?8<e?0!=(0x7ffffff&e)?32:0x10000000:8:2}function eN(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:ci(e.type)}var eA=Math.random().toString(36).slice(2),eR="__reactFiber$"+eA,eP="__reactProps$"+eA,eO="__reactContainer$"+eA,eD="__reactEvents$"+eA,eL="__reactListeners$"+eA,eM="__reactHandles$"+eA,eF="__reactResources$"+eA,eU="__reactMarker$"+eA;function ej(e){delete e[eR],delete e[eP],delete e[eD],delete e[eL],delete e[eM]}function eV(e){var t=e[eR];if(t)return t;for(var n=e.parentNode;n;){if(t=n[eO]||n[eR]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uT(e);null!==e;){if(n=e[eR])return n;e=uT(e)}return t}n=(e=n).parentNode}return null}function ez(e){if(e=e[eR]||e[eO]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function eB(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function e$(e){var t=e[eF];return t||(t=e[eF]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function eq(e){e[eU]=!0}var eH=new Set,eG={};function eW(e,t){eK(e,t),eK(e+"Capture",t)}function eK(e,t){for(eG[e]=t,e=0;e<t.length;e++)eH.add(t[e])}var eQ=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),eY={},eX={};function eJ(e,t,n){if(Y.call(eX,t)||!Y.call(eY,t)&&(eQ.test(t)?eX[t]=!0:(eY[t]=!0,!1)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function eZ(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function e0(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}function e1(e){if(void 0===tU)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);tU=t&&t[1]||"",tj=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+tU+e+tj}var e2=!1;function e3(e,t){if(!e||e2)return"";e2=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(e){if(e&&r&&"string"==typeof e.stack)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split("\n"),u=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(1!==r||1!==i)do if(r--,i--,0>i||l[r]!==u[i]){var c="\n"+l[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=r&&0<=i)break}}}finally{e2=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?e1(n):""}function e4(e){try{var t="";do t+=function(e){switch(e.tag){case 26:case 27:case 5:return e1(e.type);case 16:return e1("Lazy");case 13:return e1("Suspense");case 19:return e1("SuspenseList");case 0:case 15:return e3(e.type,!1);case 11:return e3(e.type.render,!1);case 1:return e3(e.type,!0);case 31:return e1("Activity");default:return""}}(e),e=e.return;while(e)return t}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}function e6(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function e5(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function e8(e){e._valueTracker||(e._valueTracker=function(e){var t=e5(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function e7(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=e5(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function e9(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var te=/[\n"\\]/g;function tt(e){return e.replace(te,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function tn(e,t,n,r,i,s,a,o){e.name="",null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+e6(t)):e.value!==""+e6(t)&&(e.value=""+e6(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?ti(e,a,e6(t)):null!=n?ti(e,a,e6(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!=typeof i&&"symbol"!=typeof i),null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.name=""+e6(o):e.removeAttribute("name")}function tr(e,t,n,r,i,s,a,o){if(null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.type=s),null!=t||null!=n){if(("submit"===s||"reset"===s)&&null==t)return;n=null!=n?""+e6(n):"",t=null!=t?""+e6(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:i)&&"symbol"!=typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(e.name=a)}function ti(e,t,n){"number"===t&&e9(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ts(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(i=0,n=""+e6(n),t=null;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ta(e,t,n){if(null!=t&&((t=""+e6(t))!==e.value&&(e.value=t),null==n)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=null!=n?""+e6(n):""}function to(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(o(92));if(O(r)){if(1<r.length)throw Error(o(93));r=r[0]}n=r}null==n&&(n=""),t=n}e.defaultValue=n=e6(t),(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function tl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType){n.nodeValue=t;return}}e.textContent=t}var tu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tc(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||tu.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function th(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&tc(e,i,r)}else for(var s in t)t.hasOwnProperty(s)&&tc(e,s,t[s])}function td(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tm(e){return tp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var tg=null;function ty(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var tv=null,tb=null;function tw(e){var t=ez(e);if(t&&(e=t.stateNode)){var n=e[eP]||null;switch(e=t.stateNode,t.type){case"input":if(tn(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+tt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[eP]||null;if(!i)throw Error(o(90));tn(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&e7(r)}break;case"textarea":ta(e,n.value,n.defaultValue);break;case"select":null!=(t=n.value)&&ts(e,!!n.multiple,t,!1)}}}var tE=!1;function tS(e,t,n){if(tE)return e(t,n);tE=!0;try{return e(t)}finally{if(tE=!1,(null!==tv||null!==tb)&&(ls(),tv&&(t=tv,e=tb,tb=tv=null,tw(t),e)))for(t=0;t<e.length;t++)tw(e[t])}}function t_(e,t){var n=e.stateNode;if(null===n)return null;var r=n[eP]||null;if(null===r)return null;switch(n=r[t],t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r="button"!==(e=e.type)&&"input"!==e&&"select"!==e&&"textarea"!==e),e=!r;break;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var tk="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,tT=!1;if(tk)try{var tx={};Object.defineProperty(tx,"passive",{get:function(){tT=!0}}),window.addEventListener("test",tx,tx),window.removeEventListener("test",tx,tx)}catch(e){tT=!1}var tC=null,tI=null,tN=null;function tA(){if(tN)return tN;var e,t,n=tI,r=n.length,i="value"in tC?tC.value:tC.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return tN=i.slice(e,1<t?1-t:void 0)}function tR(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function tP(){return!0}function tO(){return!1}function tD(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?tP:tO,this.isPropagationStopped=tO,this}return d(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=tP)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=tP)},persist:function(){},isPersistent:tP}),t}var tL,tM,tF,tU,tj,tV,tz,tB,t$={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tq=tD(t$),tH=d({},t$,{view:0,detail:0}),tG=tD(tH),tW=d({},tH,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:t4,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tB&&(tB&&"mousemove"===e.type?(tV=e.screenX-tB.screenX,tz=e.screenY-tB.screenY):tz=tV=0,tB=e),tV)},movementY:function(e){return"movementY"in e?e.movementY:tz}}),tK=tD(tW),tQ=tD(d({},tW,{dataTransfer:0})),tY=tD(d({},tH,{relatedTarget:0})),tX=tD(d({},t$,{animationName:0,elapsedTime:0,pseudoElement:0})),tJ=tD(d({},t$,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),tZ=tD(d({},t$,{data:0})),t0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},t1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},t2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t3(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=t2[e])&&!!t[e]}function t4(){return t3}var t6=tD(d({},tH,{key:function(e){if(e.key){var t=t0[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tR(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?t1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:t4,charCode:function(e){return"keypress"===e.type?tR(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tR(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),t5=tD(d({},tW,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),t8=tD(d({},tH,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:t4})),t7=tD(d({},t$,{propertyName:0,elapsedTime:0,pseudoElement:0})),t9=tD(d({},tW,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),ne=tD(d({},t$,{newState:0,oldState:0})),nt=[9,13,27,32],nn=tk&&"CompositionEvent"in window,nr=null;tk&&"documentMode"in document&&(nr=document.documentMode);var ni=tk&&"TextEvent"in window&&!nr,ns=tk&&(!nn||nr&&8<nr&&11>=nr),na=!1;function no(e,t){switch(e){case"keyup":return -1!==nt.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nl(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var nu=!1,nc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!nc[e.type]:"textarea"===t}function nd(e,t,n,r){tv?tb?tb.push(r):tb=[r]:tv=r,0<(t=l5(t,"onChange")).length&&(n=new tq("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var nf=null,np=null;function nm(e){lJ(e,0)}function ng(e){if(e7(eB(e)))return e}function ny(e,t){if("change"===e)return t}var nv=!1;if(tk){if(tk){var nb="oninput"in document;if(!nb){var nw=document.createElement("div");nw.setAttribute("oninput","return;"),nb="function"==typeof nw.oninput}n=nb}else n=!1;nv=n&&(!document.documentMode||9<document.documentMode)}function nE(){nf&&(nf.detachEvent("onpropertychange",nS),np=nf=null)}function nS(e){if("value"===e.propertyName&&ng(np)){var t=[];nd(t,np,e,ty(e)),tS(nm,t)}}function n_(e,t,n){"focusin"===e?(nE(),nf=t,np=n,nf.attachEvent("onpropertychange",nS)):"focusout"===e&&nE()}function nk(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return ng(np)}function nT(e,t){if("click"===e)return ng(t)}function nx(e,t){if("input"===e||"change"===e)return ng(t)}var nC="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function nI(e,t){if(nC(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Y.call(t,i)||!nC(e[i],t[i]))return!1}return!0}function nN(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nA(e,t){var n,r=nN(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nN(r)}}function nR(e){e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;for(var t=e9(e.document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(n)e=t.contentWindow;else break;t=e9(e.document)}return t}function nP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nO=tk&&"documentMode"in document&&11>=document.documentMode,nD=null,nL=null,nM=null,nF=!1;function nU(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;nF||null==nD||nD!==e9(r)||(r="selectionStart"in(r=nD)&&nP(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},nM&&nI(nM,r)||(nM=r,0<(r=l5(nL,"onSelect")).length&&(t=new tq("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=nD)))}function nj(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var nV={animationend:nj("Animation","AnimationEnd"),animationiteration:nj("Animation","AnimationIteration"),animationstart:nj("Animation","AnimationStart"),transitionrun:nj("Transition","TransitionRun"),transitionstart:nj("Transition","TransitionStart"),transitioncancel:nj("Transition","TransitionCancel"),transitionend:nj("Transition","TransitionEnd")},nz={},nB={};function n$(e){if(nz[e])return nz[e];if(!nV[e])return e;var t,n=nV[e];for(t in n)if(n.hasOwnProperty(t)&&t in nB)return nz[e]=n[t];return e}tk&&(nB=document.createElement("div").style,"AnimationEvent"in window||(delete nV.animationend.animation,delete nV.animationiteration.animation,delete nV.animationstart.animation),"TransitionEvent"in window||delete nV.transitionend.transition);var nq=n$("animationend"),nH=n$("animationiteration"),nG=n$("animationstart"),nW=n$("transitionrun"),nK=n$("transitionstart"),nQ=n$("transitioncancel"),nY=n$("transitionend"),nX=new Map,nJ="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nZ(e,t){nX.set(e,t),eW(t,[e])}nJ.push("scrollEnd");var n0=new WeakMap;function n1(e,t){if("object"==typeof e&&null!==e){var n=n0.get(e);return void 0!==n?n:(t={value:e,source:t,stack:e4(t)},n0.set(e,t),t)}return{value:e,source:t,stack:e4(t)}}var n2=[],n3=0,n4=0;function n6(){for(var e=n3,t=n4=n3=0;t<e;){var n=n2[t];n2[t++]=null;var r=n2[t];n2[t++]=null;var i=n2[t];n2[t++]=null;var s=n2[t];if(n2[t++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==s&&n9(n,i,s)}}function n5(e,t,n,r){n2[n3++]=e,n2[n3++]=t,n2[n3++]=n,n2[n3++]=r,n4|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function n8(e,t,n,r){return n5(e,t,n,r),re(e)}function n7(e,t){return n5(e,null,null,t),re(e)}function n9(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,i&&null!==t&&(i=31-ef(n),null===(r=(e=s.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=0x20000000|n),s):null}function re(e){if(50<o8)throw o8=0,o7=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var rt={};function rn(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rr(e,t,n,r){return new rn(e,t,n,r)}function ri(e){return!(!(e=e.prototype)||!e.isReactComponent)}function rs(e,t){var n=e.alternate;return null===n?((n=rr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=0x3e00000&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function ra(e,t){e.flags&=0x3e00002;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,e.dependencies=null===(t=n.dependencies)?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ro(e,t,n,r,i,s){var a=0;if(r=e,"function"==typeof e)ri(e)&&(a=1);else if("string"==typeof e)a=!function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;if("stylesheet"===t.rel)return e=t.disabled,"string"==typeof t.precedence&&null==e;return!0;case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,B.current)?"html"===e||"head"===e||"body"===e?27:5:26;else e:switch(e){case C:return(e=rr(31,n,t,i)).elementType=C,e.lanes=s,e;case g:return rl(n.children,i,s,t);case y:a=8,i|=24;break;case v:return(e=rr(12,n,t,2|i)).elementType=v,e.lanes=s,e;case _:return(e=rr(13,n,t,i)).elementType=_,e.lanes=s,e;case k:return(e=rr(19,n,t,i)).elementType=k,e.lanes=s,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case b:case E:a=10;break e;case w:a=9;break e;case S:a=11;break e;case T:a=14;break e;case x:a=16,r=null;break e}a=29,n=Error(o(130,null===e?"null":typeof e,"")),r=null}return(t=rr(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function rl(e,t,n,r){return(e=rr(7,e,r,t)).lanes=n,e}function ru(e,t,n){return(e=rr(6,e,null,t)).lanes=n,e}function rc(e,t,n){return(t=rr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var rh=[],rd=0,rf=null,rp=0,rm=[],rg=0,ry=null,rv=1,rb="";function rw(e,t){rh[rd++]=rp,rh[rd++]=rf,rf=e,rp=t}function rE(e,t,n){rm[rg++]=rv,rm[rg++]=rb,rm[rg++]=ry,ry=e;var r=rv;e=rb;var i=32-ef(r)-1;r&=~(1<<i),n+=1;var s=32-ef(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,rv=1<<32-ef(t)+i|n<<i|r,rb=s+e}else rv=1<<s|n<<i|r,rb=e}function rS(e){null!==e.return&&(rw(e,1),rE(e,1,0))}function r_(e){for(;e===rf;)rf=rh[--rd],rh[rd]=null,rp=rh[--rd],rh[rd]=null;for(;e===ry;)ry=rm[--rg],rm[rg]=null,rb=rm[--rg],rm[rg]=null,rv=rm[--rg],rm[rg]=null}var rk=null,rT=null,rx=!1,rC=null,rI=!1,rN=Error(o(519));function rA(e){throw rM(n1(Error(o(418,"")),e)),rN}function rR(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[eR]=e,t[eP]=r,n){case"dialog":lZ("cancel",t),lZ("close",t);break;case"iframe":case"object":case"embed":lZ("load",t);break;case"video":case"audio":for(n=0;n<lY.length;n++)lZ(lY[n],t);break;case"source":lZ("error",t);break;case"img":case"image":case"link":lZ("error",t),lZ("load",t);break;case"details":lZ("toggle",t);break;case"input":lZ("invalid",t),tr(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),e8(t);break;case"select":lZ("invalid",t);break;case"textarea":lZ("invalid",t),to(t,r.value,r.defaultValue,r.children),e8(t)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||un(t.textContent,n)?(null!=r.popover&&(lZ("beforetoggle",t),lZ("toggle",t)),null!=r.onScroll&&lZ("scroll",t),null!=r.onScrollEnd&&lZ("scrollend",t),null!=r.onClick&&(t.onclick=ur),t=!0):t=!1,t||rA(e)}function rP(e){for(rk=e.return;rk;)switch(rk.tag){case 5:case 13:rI=!1;return;case 27:case 3:rI=!0;return;default:rk=rk.return}}function rO(e){if(e!==rk)return!1;if(!rx)return rP(e),rx=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t="form"===(t=e.type)||"button"===t||ud(e.type,e.memoizedProps)),t=!t),t&&rT&&rA(e),rP(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(n=0,e=e.nextSibling;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){rT=u_(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}rT=null}}else 27===n?(n=rT,ub(e.type)?(e=uk,uk=null,rT=e):rT=n):rT=rk?u_(e.stateNode.nextSibling):null;return!0}function rD(){rT=rk=null,rx=!1}function rL(){var e=rC;return null!==e&&(null===oK?oK=e:oK.push.apply(oK,e),rC=null),e}function rM(e){null===rC?rC=[e]:rC.push(e)}var rF=j(null),rU=null,rj=null;function rV(e,t,n){z(rF,t._currentValue),t._currentValue=n}function rz(e){e._currentValue=rF.current,V(rF)}function rB(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function r$(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var a=i.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=i;for(var u=0;u<t.length;u++)if(l.context===t[u]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),rB(s.return,n,e),r||(a=null);break e}s=l.next}}else if(18===i.tag){if(null===(a=i.return))throw Error(o(341));a.lanes|=n,null!==(s=a.alternate)&&(s.lanes|=n),rB(a,n,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function rq(e,t,n,r){e=null;for(var i=t,s=!1;null!==i;){if(!s){if(0!=(524288&i.flags))s=!0;else if(0!=(262144&i.flags))break}if(10===i.tag){var a=i.alternate;if(null===a)throw Error(o(387));if(null!==(a=a.memoizedProps)){var l=i.type;nC(i.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(i===H.current){if(null===(a=i.alternate))throw Error(o(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(u0):e=[u0])}i=i.return}null!==e&&r$(t,e,n,r),t.flags|=262144}function rH(e){for(e=e.firstContext;null!==e;){if(!nC(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function rG(e){rU=e,rj=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function rW(e){return rQ(rU,e)}function rK(e,t){return null===rU&&rG(e),rQ(e,t)}function rQ(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===rj){if(null===e)throw Error(o(308));rj=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else rj=rj.next=t;return n}var rY="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},rX=i.unstable_scheduleCallback,rJ=i.unstable_NormalPriority,rZ={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function r0(){return{controller:new rY,data:new Map,refCount:0}}function r1(e){e.refCount--,0===e.refCount&&rX(rJ,function(){e.controller.abort()})}var r2=null,r3=0,r4=0,r6=null;function r5(){if(0==--r3&&null!==r2){null!==r6&&(r6.status="fulfilled");var e=r2;r2=null,r4=0,r6=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var r8=D.S;D.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===r2){var n=r2=[];r3=0,r4=lH(),r6={status:"pending",value:void 0,then:function(e){n.push(e)}}}r3++,t.then(r5,r5)}(0,t),null!==r8&&r8(e,t)};var r7=j(null);function r9(){var e=r7.current;return null!==e?e:oP.pooledCache}function ie(e,t){null===t?z(r7,r7.current):z(r7,t.pool)}function it(){var e=r9();return null===e?null:{parent:rZ._currentValue,pool:e}}var ir=Error(o(460)),ii=Error(o(474)),is=Error(o(542)),ia={then:function(){}};function io(e){return"fulfilled"===(e=e.status)||"rejected"===e}function il(){}function iu(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(il,il),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw id(e=t.reason),e;default:if("string"==typeof t.status)t.then(il,il);else{if(null!==(e=oP)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw id(e=t.reason),e}throw ic=t,ir}}var ic=null;function ih(){if(null===ic)throw Error(o(459));var e=ic;return ic=null,e}function id(e){if(e===ir||e===is)throw Error(o(483))}var ip=!1;function im(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ig(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function iy(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function iv(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!=(2&oR)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=re(e),n9(e,null,n),t}return n5(e,r,t,n),re(e)}function ib(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194048&n))){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ex(e,n)}}function iw(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n)null===s?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var iE=!1;function iS(){if(iE){var e=r6;if(null!==e)throw e}}function i_(e,t,n,r){iE=!1;var i=e.updateQueue;ip=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,u=l.next;l.next=null,null===a?s=u:a.next=u,a=l;var c=e.alternate;null!==c&&(o=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===o?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l)}if(null!==s){var h=i.baseState;for(a=0,c=u=l=null,o=s;;){var f=-0x20000001&o.lane,p=f!==o.lane;if(p?(oD&f)===f:(r&f)===f){0!==f&&f===r4&&(iE=!0),null!==c&&(c=c.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;switch(f=t,g.tag){case 1:if("function"==typeof(m=g.payload)){h=m.call(n,h,f);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(f="function"==typeof(m=g.payload)?m.call(n,h,f):m))break e;h=d({},h,f);break e;case 2:ip=!0}}null!==(f=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=p,l=h):c=c.next=p,a|=f;if(null===(o=o.next))if(null===(o=i.shared.pending))break;else o=(p=o).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null===s&&(i.shared.lanes=0),oB|=a,e.lanes=a,e.memoizedState=h}}function ik(e,t){if("function"!=typeof e)throw Error(o(191,e));e.call(t)}function iT(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ik(n[e],t)}var ix=j(null),iC=j(0);function iI(e,t){z(iC,e=oV),z(ix,t),oV=e|t.baseLanes}function iN(){z(iC,oV),z(ix,ix.current)}function iA(){oV=iC.current,V(ix),V(iC)}var iR=0,iP=null,iO=null,iD=null,iL=!1,iM=!1,iF=!1,iU=0,ij=0,iV=null,iz=0;function iB(){throw Error(o(321))}function i$(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!nC(e[n],t[n]))return!1;return!0}function iq(e,t,n,r,i,s){return iR=s,iP=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?sY:sX,iF=!1,s=n(r,i),iF=!1,iM&&(s=iG(t,n,r,i)),iH(e),s}function iH(e){D.H=sQ;var t=null!==iO&&null!==iO.next;if(iR=0,iD=iO=iP=null,iL=!1,ij=0,iV=null,t)throw Error(o(300));null===e||aE||null!==(e=e.dependencies)&&rH(e)&&(aE=!0)}function iG(e,t,n,r){iP=e;var i=0;do{if(iM&&(iV=null),ij=0,iM=!1,25<=i)throw Error(o(301));if(i+=1,iD=iO=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}D.H=sJ,s=t(n,r)}while(iM)return s}function iW(){var e=D.H,t=e.useState()[0];return t="function"==typeof t.then?i0(t):t,e=e.useState()[0],(null!==iO?iO.memoizedState:null)!==e&&(iP.flags|=1024),t}function iK(){var e=0!==iU;return iU=0,e}function iQ(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function iY(e){if(iL){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}iL=!1}iR=0,iD=iO=iP=null,iM=!1,ij=iU=0,iV=null}function iX(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===iD?iP.memoizedState=iD=e:iD=iD.next=e,iD}function iJ(){if(null===iO){var e=iP.alternate;e=null!==e?e.memoizedState:null}else e=iO.next;var t=null===iD?iP.memoizedState:iD.next;if(null!==t)iD=t,iO=e;else{if(null===e){if(null===iP.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(iO=e).memoizedState,baseState:iO.baseState,baseQueue:iO.baseQueue,queue:iO.queue,next:null},null===iD?iP.memoizedState=iD=e:iD=iD.next=e}return iD}function iZ(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function i0(e){var t=ij;return ij+=1,null===iV&&(iV=[]),e=iu(iV,e,t),t=iP,null===(null===iD?t.memoizedState:iD.next)&&(D.H=null===(t=t.alternate)||null===t.memoizedState?sY:sX),e}function i1(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return i0(e);if(e.$$typeof===E)return rW(e)}throw Error(o(438,String(e)))}function i2(e){var t=null,n=iP.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=iP.alternate;null!==r&&null!==(r=r.updateQueue)&&null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})}if(null==t&&(t={data:[],index:0}),null===n&&(n=iZ(),iP.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=N;return t.index++,n}function i3(e,t){return"function"==typeof t?t(e):t}function i4(e){return i6(iJ(),iO,e)}function i6(e,t,n){var r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=n;var i=e.baseQueue,s=r.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}t.baseQueue=i=s,r.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{t=i.next;var l=a=null,u=null,c=t,h=!1;do{var d=-0x20000001&c.lane;if(d!==c.lane?(oD&d)===d:(iR&d)===d){var f=c.revertLane;if(0===f)null!==u&&(u=u.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===r4&&(h=!0);else if((iR&f)===f){c=c.next,f===r4&&(h=!0);continue}else d={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=d,a=s):u=u.next=d,iP.lanes|=f,oB|=f;d=c.action,iF&&n(s,d),s=c.hasEagerState?c.eagerState:n(s,d)}else f={lane:d,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=f,a=s):u=u.next=f,iP.lanes|=d,oB|=d;c=c.next}while(null!==c&&c!==t)if(null===u?a=s:u.next=l,!nC(s,e.memoizedState)&&(aE=!0,h&&null!==(n=r6)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=u,r.lastRenderedState=s}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function i5(e){var t=iJ(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i)nC(s,t.memoizedState)||(aE=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function i8(e,t,n){var r=iP,i=iJ(),s=rx;if(s){if(void 0===n)throw Error(o(407));n=n()}else n=t();var a=!nC((iO||i).memoizedState,n);if(a&&(i.memoizedState=n,aE=!0),i=i.queue,sE(2048,8,se.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||null!==iD&&1&iD.memoizedState.tag){if(r.flags|=2048,sy(9,sv(),i9.bind(null,r,i,n,t),null),null===oP)throw Error(o(349));s||0!=(124&iR)||i7(r,t,n)}return n}function i7(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=iP.updateQueue)?(t=iZ(),iP.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function i9(e,t,n,r){t.value=n,t.getSnapshot=r,st(t)&&sn(e)}function se(e,t,n){return n(function(){st(t)&&sn(e)})}function st(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nC(e,n)}catch(e){return!0}}function sn(e){var t=n7(e,2);null!==t&&lt(t,e,2)}function sr(e){var t=iX();if("function"==typeof e){var n=e;if(e=n(),iF){ed(!0);try{n()}finally{ed(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i3,lastRenderedState:e},t}function si(e,t,n,r){return e.baseState=n,i6(e,iO,"function"==typeof r?r:i3)}function ss(e,t,n,r,i){if(sG(e))throw Error(o(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==D.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,sa(t,s)):(s.next=n.next,t.pending=n.next=s)}}function sa(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=D.T,a={};D.T=a;try{var o=n(i,r),l=D.S;null!==l&&l(a,o),so(e,t,o)}catch(n){su(e,t,n)}finally{D.T=s}}else try{s=n(i,r),so(e,t,s)}catch(n){su(e,t,n)}}function so(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){sl(e,t,n)},function(n){return su(e,t,n)}):sl(e,t,n)}function sl(e,t,n){t.status="fulfilled",t.value=n,sc(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,sa(e,n)))}function su(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do t.status="rejected",t.reason=n,sc(t),t=t.next;while(t!==r)}e.action=null}function sc(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function sh(e,t){return t}function sd(e,t){if(rx){var n=oP.formState;if(null!==n){e:{var r=iP;if(rx){if(rT){t:{for(var i=rT,s=rI;8!==i.nodeType;)if(!s||null===(i=u_(i.nextSibling))){i=null;break t}i="F!"===(s=i.data)||"F"===s?i:null}if(i){rT=u_(i.nextSibling),r="F!"===i.data;break e}}rA(r)}r=!1}r&&(t=n[0])}}return(n=iX()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sh,lastRenderedState:t},n.queue=r,n=s$.bind(null,iP,r),r.dispatch=n,r=sr(!1),s=sH.bind(null,iP,!1,r.queue),r=iX(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=ss.bind(null,iP,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function sf(e){return sp(iJ(),iO,e)}function sp(e,t,n){if(t=i6(e,t,sh)[0],e=i4(i3)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=i0(t)}catch(e){if(e===ir)throw is;throw e}else r=t;var i=(t=iJ()).queue,s=i.dispatch;return n!==t.memoizedState&&(iP.flags|=2048,sy(9,sv(),sm.bind(null,i,n),null)),[r,s,e]}function sm(e,t){e.action=t}function sg(e){var t=iJ(),n=iO;if(null!==n)return sp(t,n,e);iJ(),t=t.memoizedState;var r=(n=iJ()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function sy(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=iP.updateQueue)&&(t=iZ(),iP.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function sv(){return{destroy:void 0,resource:void 0}}function sb(){return iJ().memoizedState}function sw(e,t,n,r){var i=iX();r=void 0===r?null:r,iP.flags|=e,i.memoizedState=sy(1|t,sv(),n,r)}function sE(e,t,n,r){var i=iJ();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==iO&&null!==r&&i$(r,iO.memoizedState.deps)?i.memoizedState=sy(t,s,n,r):(iP.flags|=e,i.memoizedState=sy(1|t,s,n,r))}function sS(e,t){sw(8390656,8,e,t)}function s_(e,t){sE(2048,8,e,t)}function sk(e,t){return sE(4,2,e,t)}function sT(e,t){return sE(4,4,e,t)}function sx(e,t){if("function"==typeof t){var n=t(e=e());return function(){"function"==typeof n?n():t(null)}}if(null!=t)return t.current=e=e(),function(){t.current=null}}function sC(e,t,n){n=null!=n?n.concat([e]):null,sE(4,4,sx.bind(null,t,e),n)}function sI(){}function sN(e,t){var n=iJ();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&i$(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function sA(e,t){var n=iJ();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&i$(t,r[1]))return r[0];if(r=e(),iF){ed(!0);try{e()}finally{ed(!1)}}return n.memoizedState=[r,t],r}function sR(e,t,n){return void 0===n||0!=(0x40000000&iR)?e.memoizedState=t:(e.memoizedState=n,e=le(),iP.lanes|=e,oB|=e,n)}function sP(e,t,n,r){return nC(n,t)?n:null!==ix.current?(nC(e=sR(e,n,r),t)||(aE=!0),e):0==(42&iR)?(aE=!0,e.memoizedState=n):(e=le(),iP.lanes|=e,oB|=e,t)}function sO(e,t,n,r,i){var s=L.p;L.p=0!==s&&8>s?s:8;var a=D.T,o={};D.T=o,sH(e,!1,t,n);try{var l=i(),u=D.S;if(null!==u&&u(o,l),null!==l&&"object"==typeof l&&"function"==typeof l.then){var c,h,d=(c=[],h={status:"pending",value:null,reason:null,then:function(e){c.push(e)}},l.then(function(){h.status="fulfilled",h.value=r;for(var e=0;e<c.length;e++)(0,c[e])(r)},function(e){for(h.status="rejected",h.reason=e,e=0;e<c.length;e++)(0,c[e])(void 0)}),h);sq(e,t,d,o9(e))}else sq(e,t,r,o9(e))}catch(n){sq(e,t,{then:function(){},status:"rejected",reason:n},o9())}finally{L.p=s,D.T=a}}function sD(){}function sL(e,t,n,r){if(5!==e.tag)throw Error(o(476));var i=sM(e).queue;sO(e,i,t,M,null===n?sD:function(){return sF(e),n(r)})}function sM(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:i3,lastRenderedState:M},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:i3,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function sF(e){var t=sM(e).next.queue;sq(e,t,{},o9())}function sU(){return rW(u0)}function sj(){return iJ().memoizedState}function sV(){return iJ().memoizedState}function sz(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=o9(),r=iv(t,e=iy(n),n);null!==r&&(lt(r,t,n),ib(r,t,n)),t={cache:r0()},e.payload=t;return}t=t.return}}function sB(e,t,n){var r=o9();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},sG(e)?sW(t,n):null!==(n=n8(e,t,n,r))&&(lt(n,e,r),sK(n,t,r))}function s$(e,t,n){sq(e,t,n,o9())}function sq(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(sG(e))sW(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,nC(o,a))return n5(e,t,i,0),null===oP&&n6(),!1}catch(e){}finally{}if(null!==(n=n8(e,t,i,r)))return lt(n,e,r),sK(n,t,r),!0}return!1}function sH(e,t,n,r){if(r={lane:2,revertLane:lH(),action:r,hasEagerState:!1,eagerState:null,next:null},sG(e)){if(t)throw Error(o(479))}else null!==(t=n8(e,n,r,2))&&lt(t,e,2)}function sG(e){var t=e.alternate;return e===iP||null!==t&&t===iP}function sW(e,t){iM=iL=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sK(e,t,n){if(0!=(4194048&n)){var r=t.lanes;r&=e.pendingLanes,t.lanes=n|=r,ex(e,n)}}var sQ={readContext:rW,use:i1,useCallback:iB,useContext:iB,useEffect:iB,useImperativeHandle:iB,useLayoutEffect:iB,useInsertionEffect:iB,useMemo:iB,useReducer:iB,useRef:iB,useState:iB,useDebugValue:iB,useDeferredValue:iB,useTransition:iB,useSyncExternalStore:iB,useId:iB,useHostTransitionStatus:iB,useFormState:iB,useActionState:iB,useOptimistic:iB,useMemoCache:iB,useCacheRefresh:iB},sY={readContext:rW,use:i1,useCallback:function(e,t){return iX().memoizedState=[e,void 0===t?null:t],e},useContext:rW,useEffect:sS,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,sw(4194308,4,sx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return sw(4194308,4,e,t)},useInsertionEffect:function(e,t){sw(4,2,e,t)},useMemo:function(e,t){var n=iX();t=void 0===t?null:t;var r=e();if(iF){ed(!0);try{e()}finally{ed(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=iX();if(void 0!==n){var i=n(t);if(iF){ed(!0);try{n(t)}finally{ed(!1)}}}else i=t;return r.memoizedState=r.baseState=i,r.queue=e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},e=e.dispatch=sB.bind(null,iP,e),[r.memoizedState,e]},useRef:function(e){return iX().memoizedState=e={current:e}},useState:function(e){var t=(e=sr(e)).queue,n=s$.bind(null,iP,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:sI,useDeferredValue:function(e,t){return sR(iX(),e,t)},useTransition:function(){var e=sr(!1);return e=sO.bind(null,iP,e.queue,!0,!1),iX().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=iP,i=iX();if(rx){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===oP)throw Error(o(349));0!=(124&oD)||i7(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,sS(se.bind(null,r,s,e),[e]),r.flags|=2048,sy(9,sv(),i9.bind(null,r,s,n,t),null),n},useId:function(){var e=iX(),t=oP.identifierPrefix;if(rx){var n=rb,r=rv;t=""+t+"R"+(n=(r&~(1<<32-ef(r)-1)).toString(32)+n),0<(n=iU++)&&(t+="H"+n.toString(32)),t+=""}else t=""+t+"r"+(n=iz++).toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:sU,useFormState:sd,useActionState:sd,useOptimistic:function(e){var t=iX();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=sH.bind(null,iP,!0,n),n.dispatch=t,[e,t]},useMemoCache:i2,useCacheRefresh:function(){return iX().memoizedState=sz.bind(null,iP)}},sX={readContext:rW,use:i1,useCallback:sN,useContext:rW,useEffect:s_,useImperativeHandle:sC,useInsertionEffect:sk,useLayoutEffect:sT,useMemo:sA,useReducer:i4,useRef:sb,useState:function(){return i4(i3)},useDebugValue:sI,useDeferredValue:function(e,t){return sP(iJ(),iO.memoizedState,e,t)},useTransition:function(){var e=i4(i3)[0],t=iJ().memoizedState;return["boolean"==typeof e?e:i0(e),t]},useSyncExternalStore:i8,useId:sj,useHostTransitionStatus:sU,useFormState:sf,useActionState:sf,useOptimistic:function(e,t){return si(iJ(),iO,e,t)},useMemoCache:i2,useCacheRefresh:sV},sJ={readContext:rW,use:i1,useCallback:sN,useContext:rW,useEffect:s_,useImperativeHandle:sC,useInsertionEffect:sk,useLayoutEffect:sT,useMemo:sA,useReducer:i5,useRef:sb,useState:function(){return i5(i3)},useDebugValue:sI,useDeferredValue:function(e,t){var n=iJ();return null===iO?sR(n,e,t):sP(n,iO.memoizedState,e,t)},useTransition:function(){var e=i5(i3)[0],t=iJ().memoizedState;return["boolean"==typeof e?e:i0(e),t]},useSyncExternalStore:i8,useId:sj,useHostTransitionStatus:sU,useFormState:sg,useActionState:sg,useOptimistic:function(e,t){var n=iJ();return null!==iO?si(n,iO,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:i2,useCacheRefresh:sV},sZ=null,s0=0;function s1(e){var t=s0;return s0+=1,null===sZ&&(sZ=[]),iu(sZ,e,t)}function s2(e,t){e.ref=void 0!==(t=t.props.ref)?t:null}function s3(e,t){if(t.$$typeof===f)throw Error(o(525));throw Error(o(31,"[object Object]"===(e=Object.prototype.toString.call(t))?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function s4(e){return(0,e._init)(e._payload)}function s6(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=rs(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return(t.index=r,e)?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=0x4000002,n):r:(t.flags|=0x4000002,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=0x4000002),t}function l(e,t,n,r){return null===t||6!==t.tag?(t=ru(n,e.mode,r)).return=e:(t=i(t,n)).return=e,t}function u(e,t,n,r){var s=n.type;return s===g?h(e,t,n.props.children,r,n.key):(null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===x&&s4(s)===t.type)?s2(t=i(t,n.props),n):s2(t=ro(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=rc(n,e.mode,r)).return=e:(t=i(t,n.children||[])).return=e,t}function h(e,t,n,r,s){return null===t||7!==t.tag?(t=rl(n,e.mode,r,s)).return=e:(t=i(t,n)).return=e,t}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=ru(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case p:return s2(n=ro(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=rc(t,e.mode,n)).return=e,t;case x:return d(e,t=(0,t._init)(t._payload),n)}if(O(t)||R(t))return(t=rl(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return d(e,s1(t),n);if(t.$$typeof===E)return d(e,rK(e,t),n);s3(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===i?u(e,t,n,r):null;case m:return n.key===i?c(e,t,n,r):null;case x:return f(e,t,n=(i=n._init)(n._payload),r)}if(O(n)||R(n))return null!==i?null:h(e,t,n,r,null);if("function"==typeof n.then)return f(e,t,s1(n),r);if(n.$$typeof===E)return f(e,t,rK(e,n),r);s3(e,n)}return null}function y(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case p:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return y(e,t,n,r=(0,r._init)(r._payload),i)}if(O(r)||R(r))return h(t,e=e.get(n)||null,r,i,null);if("function"==typeof r.then)return y(e,t,n,s1(r),i);if(r.$$typeof===E)return y(e,t,n,rK(t,r),i);s3(t,r)}return null}return function(l,u,c,h){try{s0=0;var v=function l(u,c,h,v){if("object"==typeof h&&null!==h&&h.type===g&&null===h.key&&(h=h.props.children),"object"==typeof h&&null!==h){switch(h.$$typeof){case p:e:{for(var b=h.key;null!==c;){if(c.key===b){if((b=h.type)===g){if(7===c.tag){n(u,c.sibling),(v=i(c,h.props.children)).return=u,u=v;break e}}else if(c.elementType===b||"object"==typeof b&&null!==b&&b.$$typeof===x&&s4(b)===c.type){n(u,c.sibling),s2(v=i(c,h.props),h),v.return=u,u=v;break e}n(u,c);break}t(u,c),c=c.sibling}h.type===g?(v=rl(h.props.children,u.mode,v,h.key)).return=u:(s2(v=ro(h.type,h.key,h.props,null,u.mode,v),h),v.return=u),u=v}return a(u);case m:e:{for(b=h.key;null!==c;){if(c.key===b)if(4===c.tag&&c.stateNode.containerInfo===h.containerInfo&&c.stateNode.implementation===h.implementation){n(u,c.sibling),(v=i(c,h.children||[])).return=u,u=v;break e}else{n(u,c);break}t(u,c),c=c.sibling}(v=rc(h,u.mode,v)).return=u,u=v}return a(u);case x:return l(u,c,h=(b=h._init)(h._payload),v)}if(O(h))return function(i,a,o,l){for(var u=null,c=null,h=a,p=a=0,m=null;null!==h&&p<o.length;p++){h.index>p?(m=h,h=null):m=h.sibling;var g=f(i,h,o[p],l);if(null===g){null===h&&(h=m);break}e&&h&&null===g.alternate&&t(i,h),a=s(g,a,p),null===c?u=g:c.sibling=g,c=g,h=m}if(p===o.length)return n(i,h),rx&&rw(i,p),u;if(null===h){for(;p<o.length;p++)null!==(h=d(i,o[p],l))&&(a=s(h,a,p),null===c?u=h:c.sibling=h,c=h);return rx&&rw(i,p),u}for(h=r(h);p<o.length;p++)null!==(m=y(h,i,p,o[p],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?p:m.key),a=s(m,a,p),null===c?u=m:c.sibling=m,c=m);return e&&h.forEach(function(e){return t(i,e)}),rx&&rw(i,p),u}(u,c,h,v);if(R(h)){if("function"!=typeof(b=R(h)))throw Error(o(150));return function(i,a,l,u){if(null==l)throw Error(o(151));for(var c=null,h=null,p=a,m=a=0,g=null,v=l.next();null!==p&&!v.done;m++,v=l.next()){p.index>m?(g=p,p=null):g=p.sibling;var b=f(i,p,v.value,u);if(null===b){null===p&&(p=g);break}e&&p&&null===b.alternate&&t(i,p),a=s(b,a,m),null===h?c=b:h.sibling=b,h=b,p=g}if(v.done)return n(i,p),rx&&rw(i,m),c;if(null===p){for(;!v.done;m++,v=l.next())null!==(v=d(i,v.value,u))&&(a=s(v,a,m),null===h?c=v:h.sibling=v,h=v);return rx&&rw(i,m),c}for(p=r(p);!v.done;m++,v=l.next())null!==(v=y(p,i,m,v.value,u))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),a=s(v,a,m),null===h?c=v:h.sibling=v,h=v);return e&&p.forEach(function(e){return t(i,e)}),rx&&rw(i,m),c}(u,c,h=b.call(h),v)}if("function"==typeof h.then)return l(u,c,s1(h),v);if(h.$$typeof===E)return l(u,c,rK(u,h),v);s3(u,h)}return"string"==typeof h&&""!==h||"number"==typeof h||"bigint"==typeof h?(h=""+h,null!==c&&6===c.tag?(n(u,c.sibling),(v=i(c,h)).return=u):(n(u,c),(v=ru(h,u.mode,v)).return=u),a(u=v)):n(u,c)}(l,u,c,h);return sZ=null,v}catch(e){if(e===ir||e===is)throw e;var b=rr(29,e,null,l.mode);return b.lanes=h,b.return=l,b}finally{}}}var s5=s6(!0),s8=s6(!1),s7=j(null),s9=null;function ae(e){var t=e.alternate;z(ai,1&ai.current),z(s7,e),null===s9&&(null===t||null!==ix.current?s9=e:null!==t.memoizedState&&(s9=e))}function at(e){if(22===e.tag){if(z(ai,ai.current),z(s7,e),null===s9){var t=e.alternate;null!==t&&null!==t.memoizedState&&(s9=e)}}else an(e)}function an(){z(ai,ai.current),z(s7,s7.current)}function ar(e){V(s7),s9===e&&(s9=null),V(ai)}var ai=j(0);function as(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||uS(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function aa(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:d({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ao={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=o9(),i=iy(r);i.payload=t,null!=n&&(i.callback=n),null!==(t=iv(e,i,r))&&(lt(t,e,r),ib(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=o9(),i=iy(r);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=iv(e,i,r))&&(lt(t,e,r),ib(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=o9(),r=iy(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=iv(e,r,n))&&(lt(t,e,n),ib(t,e,n))}};function al(e,t,n,r,i,s,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||!nI(n,r)||!nI(i,s)}function au(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ao.enqueueReplaceState(t,t.state,null)}function ac(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=d({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var ah="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}console.error(e)};function ad(e){ah(e)}function af(e){console.error(e)}function ap(e){ah(e)}function am(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function ag(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function ay(e,t,n){return(n=iy(n)).tag=3,n.payload={element:null},n.callback=function(){am(e,t)},n}function av(e){return(e=iy(e)).tag=3,e}function ab(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"==typeof i){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){ag(t,n,r)}}var a=n.stateNode;null!==a&&"function"==typeof a.componentDidCatch&&(e.callback=function(){ag(t,n,r),"function"!=typeof i&&(null===oZ?oZ=new Set([this]):oZ.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var aw=Error(o(461)),aE=!1;function aS(e,t,n,r){t.child=null===e?s8(t,null,n,r):s5(t,e.child,n,r)}function a_(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var a={};for(var o in r)"ref"!==o&&(a[o]=r[o])}else a=r;return(rG(t),r=iq(e,t,n,a,s,i),o=iK(),null===e||aE)?(rx&&o&&rS(t),t.flags|=1,aS(e,t,r,i),t.child):(iQ(e,t,i),a$(e,t,i))}function ak(e,t,n,r,i){if(null===e){var s=n.type;return"function"!=typeof s||ri(s)||void 0!==s.defaultProps||null!==n.compare?((e=ro(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,aT(e,t,s,r,i))}if(s=e.child,!aq(e,i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:nI)(a,r)&&e.ref===t.ref)return a$(e,t,i)}return t.flags|=1,(e=rs(s,r)).ref=t.ref,e.return=t,t.child=e}function aT(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(nI(s,r)&&e.ref===t.ref)if(aE=!1,t.pendingProps=r=s,!aq(e,i))return t.lanes=e.lanes,a$(e,t,i);else 0!=(131072&e.flags)&&(aE=!0)}return aN(e,t,n,r,i)}function ax(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!=(128&t.flags)){if(r=null!==s?s.baseLanes|n:n,null!==e){for(s=0,i=t.child=e.child;null!==i;)s=s|i.lanes|i.childLanes,i=i.sibling;t.childLanes=s&~r}else t.childLanes=0,t.child=null;return aC(e,t,r,n)}if(0==(0x20000000&n))return t.lanes=t.childLanes=0x20000000,aC(e,t,null!==s?s.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&ie(t,null!==s?s.cachePool:null),null!==s?iI(t,s):iN(),at(t)}else null!==s?(ie(t,s.cachePool),iI(t,s),an(t),t.memoizedState=null):(null!==e&&ie(t,null),iN(),an(t));return aS(e,t,i,n),t.child}function aC(e,t,n,r){var i=r9();return t.memoizedState={baseLanes:n,cachePool:i=null===i?null:{parent:rZ._currentValue,pool:i}},null!==e&&ie(t,null),iN(),at(t),null!==e&&rq(e,t,r,!0),null}function aI(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(o(284));(null===e||e.ref!==n)&&(t.flags|=4194816)}}function aN(e,t,n,r,i){return(rG(t),n=iq(e,t,n,r,void 0,i),r=iK(),null===e||aE)?(rx&&r&&rS(t),t.flags|=1,aS(e,t,n,i),t.child):(iQ(e,t,i),a$(e,t,i))}function aA(e,t,n,r,i,s){return(rG(t),t.updateQueue=null,n=iG(t,r,n,i),iH(e),r=iK(),null===e||aE)?(rx&&r&&rS(t),t.flags|=1,aS(e,t,n,s),t.child):(iQ(e,t,s),a$(e,t,s))}function aR(e,t,n,r,i){if(rG(t),null===t.stateNode){var s=rt,a=n.contextType;"object"==typeof a&&null!==a&&(s=rW(a)),t.memoizedState=null!==(s=new n(r,s)).state&&void 0!==s.state?s.state:null,s.updater=ao,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},im(t),a=n.contextType,s.context="object"==typeof a&&null!==a?rW(a):rt,s.state=t.memoizedState,"function"==typeof(a=n.getDerivedStateFromProps)&&(aa(t,n,a,r),s.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(a=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),a!==s.state&&ao.enqueueReplaceState(s,s.state,null),i_(t,r,s,i),iS(),s.state=t.memoizedState),"function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=ac(n,o);s.props=l;var u=s.context,c=n.contextType;a=rt,"object"==typeof c&&null!==c&&(a=rW(c));var h=n.getDerivedStateFromProps;c="function"==typeof h||"function"==typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,c||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(o||u!==a)&&au(t,s,r,a),ip=!1;var d=t.memoizedState;s.state=d,i_(t,r,s,i),iS(),u=t.memoizedState,o||d!==u||ip?("function"==typeof h&&(aa(t,n,h,r),u=t.memoizedState),(l=ip||al(t,n,l,r,d,u,a))?(c||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=a,r=l):("function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,ig(e,t),c=ac(n,a=t.memoizedProps),s.props=c,h=t.pendingProps,d=s.context,u=n.contextType,l=rt,"object"==typeof u&&null!==u&&(l=rW(u)),(u="function"==typeof(o=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==h||d!==l)&&au(t,s,r,l),ip=!1,d=t.memoizedState,s.state=d,i_(t,r,s,i),iS();var f=t.memoizedState;a!==h||d!==f||ip||null!==e&&null!==e.dependencies&&rH(e.dependencies)?("function"==typeof o&&(aa(t,n,o,r),f=t.memoizedState),(c=ip||al(t,n,c,r,d,f,l)||null!==e&&null!==e.dependencies&&rH(e.dependencies))?(u||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=c):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,aI(e,t),r=0!=(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=s5(t,e.child,null,i),t.child=s5(t,null,n,i)):aS(e,t,n,i),t.memoizedState=s.state,e=t.child):e=a$(e,t,i),e}function aP(e,t,n,r){return rD(),t.flags|=256,aS(e,t,n,r),t.child}var aO={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function aD(e){return{baseLanes:e,cachePool:it()}}function aL(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=oH),e}function aM(e,t,n){var r,i=t.pendingProps,s=!1,a=0!=(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!=(2&ai.current)),r&&(s=!0,t.flags&=-129),r=0!=(32&t.flags),t.flags&=-33,null===e){if(rx){if(s?ae(t):an(t),rx){var l,u=rT;if(l=u){n:{for(l=u,u=rI;8!==l.nodeType;)if(!u||null===(l=u_(l.nextSibling))){u=null;break n}u=l}null!==u?(t.memoizedState={dehydrated:u,treeContext:null!==ry?{id:rv,overflow:rb}:null,retryLane:0x20000000,hydrationErrors:null},(l=rr(18,null,null,0)).stateNode=u,l.return=t,t.child=l,rk=t,rT=null,l=!0):l=!1}l||rA(t)}if(null!==(u=t.memoizedState)&&null!==(u=u.dehydrated))return uS(u)?t.lanes=32:t.lanes=0x20000000,null;ar(t)}return(u=i.children,i=i.fallback,s)?(an(t),u=aU({mode:"hidden",children:u},s=t.mode),i=rl(i,s,n,null),u.return=t,i.return=t,u.sibling=i,t.child=u,(s=t.child).memoizedState=aD(n),s.childLanes=aL(e,r,n),t.memoizedState=aO,i):(ae(t),aF(t,u))}if(null!==(l=e.memoizedState)&&null!==(u=l.dehydrated)){if(a)256&t.flags?(ae(t),t.flags&=-257,t=aj(e,t,n)):null!==t.memoizedState?(an(t),t.child=e.child,t.flags|=128,t=null):(an(t),s=i.fallback,u=t.mode,i=aU({mode:"visible",children:i.children},u),s=rl(s,u,n,null),s.flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,s5(t,e.child,null,n),(i=t.child).memoizedState=aD(n),i.childLanes=aL(e,r,n),t.memoizedState=aO,t=s);else if(ae(t),uS(u)){if(r=u.nextSibling&&u.nextSibling.dataset)var c=r.dgst;r=c,(i=Error(o(419))).stack="",i.digest=r,rM({value:i,source:null,stack:null}),t=aj(e,t,n)}else if(aE||rq(e,t,n,!1),r=0!=(n&e.childLanes),aE||r){if(null!==(r=oP)&&0!==(i=0!=((i=0!=(42&(i=n&-n))?1:eC(i))&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane)throw l.retryLane=i,n7(e,i),lt(r,e,i),aw;"$?"===u.data||lh(),t=aj(e,t,n)}else"$?"===u.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,rT=u_(u.nextSibling),rk=t,rx=!0,rC=null,rI=!1,null!==e&&(rm[rg++]=rv,rm[rg++]=rb,rm[rg++]=ry,rv=e.id,rb=e.overflow,ry=t),t=aF(t,i.children),t.flags|=4096);return t}return s?(an(t),s=i.fallback,u=t.mode,c=(l=e.child).sibling,(i=rs(l,{mode:"hidden",children:i.children})).subtreeFlags=0x3e00000&l.subtreeFlags,null!==c?s=rs(c,s):(s=rl(s,u,n,null),s.flags|=2),s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,null===(u=e.child.memoizedState)?u=aD(n):(null!==(l=u.cachePool)?(c=rZ._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=it(),u={baseLanes:u.baseLanes|n,cachePool:l}),s.memoizedState=u,s.childLanes=aL(e,r,n),t.memoizedState=aO,i):(ae(t),e=(n=e.child).sibling,(n=rs(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function aF(e,t){return(t=aU({mode:"visible",children:t},e.mode)).return=e,e.child=t}function aU(e,t){return(e=rr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function aj(e,t,n){return s5(t,e.child,null,n),e=aF(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function aV(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),rB(e.return,t,n)}function az(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function aB(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(aS(e,t,r.children,n),0!=(2&(r=ai.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&aV(e,n,t);else if(19===e.tag)aV(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(z(ai,r),i){case"forwards":for(i=null,n=t.child;null!==n;)null!==(e=n.alternate)&&null===as(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),az(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===as(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}az(t,!0,n,null,s);break;case"together":az(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function a$(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),oB|=t.lanes,0==(n&t.childLanes)){if(null===e)return null;else if(rq(e,t,n,!1),0==(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=rs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=rs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function aq(e,t){return 0!=(e.lanes&t)||!!(null!==(e=e.dependencies)&&rH(e))}function aH(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)aE=!0;else{if(!aq(e,n)&&0==(128&t.flags))return aE=!1,function(e,t,n){switch(t.tag){case 3:G(t,t.stateNode.containerInfo),rV(t,rZ,e.memoizedState.cache),rD();break;case 27:case 5:K(t);break;case 4:G(t,t.stateNode.containerInfo);break;case 10:rV(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r){if(null!==r.dehydrated)return ae(t),t.flags|=128,null;if(0!=(n&t.child.childLanes))return aM(e,t,n);return ae(t),null!==(e=a$(e,t,n))?e.sibling:null}ae(t);break;case 19:var i=0!=(128&e.flags);if((r=0!=(n&t.childLanes))||(rq(e,t,n,!1),r=0!=(n&t.childLanes)),i){if(r)return aB(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),z(ai,ai.current),!r)return null;break;case 22:case 23:return t.lanes=0,ax(e,t,n);case 24:rV(t,rZ,e.memoizedState.cache)}return a$(e,t,n)}(e,t,n);aE=0!=(131072&e.flags)}else aE=!1,rx&&0!=(1048576&t.flags)&&rE(t,rp,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"==typeof r)ri(r)?(e=ac(r,e),t.tag=1,t=aR(null,t,r,e,n)):(t.tag=0,t=aN(null,t,r,e,n));else{if(null!=r){if((i=r.$$typeof)===S){t.tag=11,t=a_(null,t,r,e,n);break e}else if(i===T){t.tag=14,t=ak(null,t,r,e,n);break e}}throw Error(o(306,t=function e(t){if(null==t)return null;if("function"==typeof t)return t.$$typeof===P?null:t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case _:return"Suspense";case k:return"SuspenseList";case C:return"Activity"}if("object"==typeof t)switch(t.$$typeof){case m:return"Portal";case E:return(t.displayName||"Context")+".Provider";case w:return(t._context.displayName||"Context")+".Consumer";case S:var n=t.render;return(t=t.displayName)||(t=""!==(t=n.displayName||n.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case T:return null!==(n=t.displayName||null)?n:e(t.type)||"Memo";case x:n=t._payload,t=t._init;try{return e(t(n))}catch(e){}}return null}(r)||r,""))}}return t;case 0:return aN(e,t,t.type,t.pendingProps,n);case 1:return i=ac(r=t.type,t.pendingProps),aR(e,t,r,i,n);case 3:e:{if(G(t,t.stateNode.containerInfo),null===e)throw Error(o(387));r=t.pendingProps;var s=t.memoizedState;i=s.element,ig(e,t),i_(t,r,null,n);var a=t.memoizedState;if(rV(t,rZ,r=a.cache),r!==s.cache&&r$(t,[rZ],n,!0),iS(),r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=aP(e,t,r,n);break e}else if(r!==i){rM(i=n1(Error(o(424)),t)),t=aP(e,t,r,n);break e}else for(rT=u_((e=9===(e=t.stateNode.containerInfo).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e).firstChild),rk=t,rx=!0,rC=null,rI=!0,n=s8(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling;else{if(rD(),r===i){t=a$(e,t,n);break e}aS(e,t,r,n)}t=t.child}return t;case 26:return aI(e,t),null===e?(n=uD(t.type,null,t.pendingProps,null))?t.memoizedState=n:rx||(n=t.type,e=t.pendingProps,(r=uu(q.current).createElement(n))[eR]=t,r[eP]=e,ua(r,n,e),eq(r),t.stateNode=r):t.memoizedState=uD(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return K(t),null===e&&rx&&(r=t.stateNode=ux(t.type,t.pendingProps,q.current),rk=t,rI=!0,i=rT,ub(t.type)?(uk=i,rT=u_(r.firstChild)):rT=i),aS(e,t,t.pendingProps.children,n),aI(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&rx&&((i=r=rT)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[eU])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence")||i!==n.rel||e.getAttribute("href")!==(null==n.href||""===n.href?null:n.href)||e.getAttribute("crossorigin")!==(null==n.crossOrigin?null:n.crossOrigin)||e.getAttribute("title")!==(null==n.title?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==n.src?null:n.src)||e.getAttribute("type")!==(null==n.type?null:n.type)||e.getAttribute("crossorigin")!==(null==n.crossOrigin?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==n.name?null:""+n.name;if("hidden"===n.type&&e.getAttribute("name")===i)return e}if(null===(e=u_(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,rI))?(t.stateNode=r,rk=t,rT=u_(r.firstChild),rI=!1,i=!0):i=!1),i||rA(t)),K(t),i=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,r=s.children,ud(i,s)?r=null:null!==a&&ud(i,a)&&(t.flags|=32),null!==t.memoizedState&&(u0._currentValue=i=iq(e,t,iW,null,null,n)),aI(e,t),aS(e,t,r,n),t.child;case 6:return null===e&&rx&&((e=n=rT)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;)if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n||null===(e=u_(e.nextSibling)))return null;return e}(n,t.pendingProps,rI))?(t.stateNode=n,rk=t,rT=null,e=!0):e=!1),e||rA(t)),null;case 13:return aM(e,t,n);case 4:return G(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=s5(t,null,r,n):aS(e,t,r,n),t.child;case 11:return a_(e,t,t.type,t.pendingProps,n);case 7:return aS(e,t,t.pendingProps,n),t.child;case 8:case 12:return aS(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,rV(t,t.type,r.value),aS(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,rG(t),r=r(i=rW(i)),t.flags|=1,aS(e,t,r,n),t.child;case 14:return ak(e,t,t.type,t.pendingProps,n);case 15:return aT(e,t,t.type,t.pendingProps,n);case 19:return aB(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?(n=aU(r,n)).ref=t.ref:(n=rs(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n;case 22:return ax(e,t,n);case 24:return rG(t),r=rW(rZ),null===e?(null===(i=r9())&&(i=oP,s=r0(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:r,cache:i},im(t),rV(t,rZ,i)):(0!=(e.lanes&n)&&(ig(e,t),i_(t,null,null,n),iS()),i=e.memoizedState,s=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),rV(t,rZ,r)):(rV(t,rZ,r=s.cache),r!==i.cache&&r$(t,[rZ],n,!0))),aS(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function aG(e){e.flags|=4}function aW(e,t){if("stylesheet"!==t.type||0!=(4&t.state.loading))e.flags&=-0x1000001;else if(e.flags|=0x1000000,!uW(t)){if(null!==(t=s7.current)&&((4194048&oD)===oD?null!==s9:(0x3c00000&oD)!==oD&&0==(0x20000000&oD)||t!==s9))throw ic=ia,ii;e.flags|=8192}}function aK(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?eS():0x20000000,e.lanes|=t,oG|=t)}function aQ(e,t){if(!rx)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function aY(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=0x3e00000&i.subtreeFlags,r|=0x3e00000&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function aX(e,t){switch(r_(t),t.tag){case 3:rz(rZ),W();break;case 26:case 27:case 5:Q(t);break;case 4:W();break;case 13:ar(t);break;case 19:V(ai);break;case 10:rz(t.type);break;case 22:case 23:ar(t),iA(),null!==e&&V(r7);break;case 24:rz(rZ)}}function aJ(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create;n.inst.destroy=r=s()}n=n.next}while(n!==i)}}catch(e){lx(t,t.return,e)}}function aZ(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&e)===e){var a=r.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,i=t;try{o()}catch(e){lx(i,n,e)}}}r=r.next}while(r!==s)}}catch(e){lx(t,t.return,e)}}function a0(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{iT(t,n)}catch(t){lx(e,e.return,t)}}}function a1(e,t,n){n.props=ac(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){lx(e,t,n)}}function a2(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(n){lx(e,t,n)}}function a3(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(n){lx(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(n){lx(e,t,n)}else n.current=null}function a4(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){lx(e,e.return,t)}}function a6(e,t,n){try{var r=e.stateNode;(function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,a=null,l=null,u=null,c=null,h=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":u=d;default:r.hasOwnProperty(p)||ui(e,t,p,null,r,d)}}for(var f in r){var p=r[f];if(d=n[f],r.hasOwnProperty(f)&&(null!=p||null!=d))switch(f){case"type":s=p;break;case"name":i=p;break;case"checked":c=p;break;case"defaultChecked":h=p;break;case"value":a=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:p!==d&&ui(e,t,f,p,r,d)}}tn(e,a,l,u,c,h,s,i);return;case"select":for(s in p=a=l=f=null,n)if(u=n[s],n.hasOwnProperty(s)&&null!=u)switch(s){case"value":break;case"multiple":p=u;default:r.hasOwnProperty(s)||ui(e,t,s,null,r,u)}for(i in r)if(s=r[i],u=n[i],r.hasOwnProperty(i)&&(null!=s||null!=u))switch(i){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==u&&ui(e,t,i,s,r,u)}t=l,n=a,r=p,null!=f?ts(e,!!n,f,!1):!!r!=!!n&&(null!=t?ts(e,!!n,t,!0):ts(e,!!n,n?[]:"",!1));return;case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:ui(e,t,l,null,r,i)}for(a in r)if(i=r[a],s=n[a],r.hasOwnProperty(a)&&(null!=i||null!=s))switch(a){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(o(91));break;default:i!==s&&ui(e,t,a,i,r,s)}ta(e,f,p);return;case"option":for(var m in n)f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m)&&("selected"===m?e.selected=!1:ui(e,t,m,null,r,f));for(u in r)f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p)&&("selected"===u?e.selected=f&&"function"!=typeof f&&"symbol"!=typeof f:ui(e,t,u,f,r,p));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&ui(e,t,g,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:ui(e,t,c,f,r,p)}return;default:if(td(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&us(e,t,y,void 0,r,f);for(h in r)f=r[h],p=n[h],r.hasOwnProperty(h)&&f!==p&&(void 0!==f||void 0!==p)&&us(e,t,h,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&ui(e,t,v,null,r,f);for(d in r)f=r[d],p=n[d],r.hasOwnProperty(d)&&f!==p&&(null!=f||null!=p)&&ui(e,t,d,f,r,p)})(r,e.type,n,t),r[eP]=t}catch(t){lx(e,e.return,t)}}function a5(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&ub(e.type)||4===e.tag}function a8(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||a5(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&ub(e.type)||2&e.flags||null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function a7(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&ub(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(a7(e,t,n),e=e.sibling;null!==e;)a7(e,t,n),e=e.sibling}function a9(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ua(t,r,n),t[eR]=e,t[eP]=n}catch(t){lx(e,e.return,t)}}var oe=!1,ot=!1,on=!1,or="function"==typeof WeakSet?WeakSet:Set,oi=null;function os(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:og(e,n),4&r&&aJ(5,n);break;case 1:if(og(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(e){lx(n,n.return,e)}else{var i=ac(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){lx(n,n.return,e)}}64&r&&a0(n),512&r&&a2(n,n.return);break;case 3:if(og(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{iT(e,t)}catch(e){lx(n,n.return,e)}}break;case 27:null===t&&4&r&&a9(n);case 26:case 5:og(e,n),null===t&&4&r&&a4(n),512&r&&a2(n,n.return);break;case 12:default:og(e,n);break;case 13:og(e,n),4&r&&oc(e,n),64&r&&null!==(e=n.memoizedState)&&null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=lA.bind(null,n));break;case 22:if(!(r=null!==n.memoizedState||oe)){t=null!==t&&null!==t.memoizedState||ot,i=oe;var s=ot;oe=r,(ot=t)&&!s?function e(t,n,r){for(r=r&&0!=(8772&n.subtreeFlags),n=n.child;null!==n;){var i=n.alternate,s=t,a=n,o=a.flags;switch(a.tag){case 0:case 11:case 15:e(s,a,r),aJ(4,a);break;case 1:if(e(s,a,r),"function"==typeof(s=(i=a).stateNode).componentDidMount)try{s.componentDidMount()}catch(e){lx(i,i.return,e)}if(null!==(s=(i=a).updateQueue)){var l=i.stateNode;try{var u=s.shared.hiddenCallbacks;if(null!==u)for(s.shared.hiddenCallbacks=null,s=0;s<u.length;s++)ik(u[s],l)}catch(e){lx(i,i.return,e)}}r&&64&o&&a0(a),a2(a,a.return);break;case 27:a9(a);case 26:case 5:e(s,a,r),r&&null===i&&4&o&&a4(a),a2(a,a.return);break;case 12:default:e(s,a,r);break;case 13:e(s,a,r),r&&4&o&&oc(s,a);break;case 22:null===a.memoizedState&&e(s,a,r),a2(a,a.return);case 30:}n=n.sibling}}(e,n,0!=(8772&n.subtreeFlags)):og(e,n),oe=i,ot=s}case 30:}}var oa=null,oo=!1;function ol(e,t,n){for(n=n.child;null!==n;)ou(e,t,n),n=n.sibling}function ou(e,t,n){if(eh&&"function"==typeof eh.onCommitFiberUnmount)try{eh.onCommitFiberUnmount(ec,n)}catch(e){}switch(n.tag){case 26:ot||a3(n,t),ol(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:ot||a3(n,t);var r=oa,i=oo;ub(n.type)&&(oa=n.stateNode,oo=!1),ol(e,t,n),uC(n.stateNode),oa=r,oo=i;break;case 5:ot||a3(n,t);case 6:if(r=oa,i=oo,oa=null,ol(e,t,n),oa=r,oo=i,null!==oa)if(oo)try{(9===oa.nodeType?oa.body:"HTML"===oa.nodeName?oa.ownerDocument.body:oa).removeChild(n.stateNode)}catch(e){lx(n,t,e)}else try{oa.removeChild(n.stateNode)}catch(e){lx(n,t,e)}break;case 18:null!==oa&&(oo?(uw(9===(e=oa).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),cS(e)):uw(oa,n.stateNode));break;case 4:r=oa,i=oo,oa=n.stateNode.containerInfo,oo=!0,ol(e,t,n),oa=r,oo=i;break;case 0:case 11:case 14:case 15:ot||aZ(2,n,t),ot||aZ(4,n,t),ol(e,t,n);break;case 1:ot||(a3(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&a1(n,t,r)),ol(e,t,n);break;case 21:default:ol(e,t,n);break;case 22:ot=(r=ot)||null!==n.memoizedState,ol(e,t,n),ot=r}}function oc(e,t){if(null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))try{cS(e)}catch(e){lx(t,t.return,e)}}function oh(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new or),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new or),t;default:throw Error(o(435,e.tag))}}(e);t.forEach(function(t){var r=lR.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function od(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(ub(l.type)){oa=l.stateNode,oo=!1;break e}break;case 5:oa=l.stateNode,oo=!1;break e;case 3:case 4:oa=l.stateNode.containerInfo,oo=!0;break e}l=l.return}if(null===oa)throw Error(o(160));ou(s,a,i),oa=null,oo=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)op(t,e),t=t.sibling}var of=null;function op(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:od(t,e),om(e),4&r&&(aZ(3,e,e.return),aJ(3,e),aZ(5,e,e.return));break;case 1:od(t,e),om(e),512&r&&(ot||null===n||a3(n,n.return)),64&r&&oe&&null!==(e=e.updateQueue)&&null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r));break;case 26:var i=of;if(od(t,e),om(e),512&r&&(ot||null===n||a3(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(s=i.getElementsByTagName("title")[0])||s[eU]||s[eR]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),ua(s,r,n),s[eR]=e,eq(s),r=s;break e;case"link":var a=uH("link","href",i).get(r+(n.href||""));if(a){for(var l=0;l<a.length;l++)if((s=a[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}}ua(s=i.createElement(r),r,n),i.head.appendChild(s);break;case"meta":if(a=uH("meta","content",i).get(r+(n.content||""))){for(l=0;l<a.length;l++)if((s=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}}ua(s=i.createElement(r),r,n),i.head.appendChild(s);break;default:throw Error(o(468,r))}s[eR]=e,eq(s),r=s}e.stateNode=r}else uG(i,e.type,e.stateNode);else e.stateNode=uV(i,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?uG(i,e.type,e.stateNode):uV(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&a6(e,e.memoizedProps,n.memoizedProps)}break;case 27:od(t,e),om(e),512&r&&(ot||null===n||a3(n,n.return)),null!==n&&4&r&&a6(e,e.memoizedProps,n.memoizedProps);break;case 5:if(od(t,e),om(e),512&r&&(ot||null===n||a3(n,n.return)),32&e.flags){i=e.stateNode;try{tl(i,"")}catch(t){lx(e,e.return,t)}}4&r&&null!=e.stateNode&&(i=e.memoizedProps,a6(e,i,null!==n?n.memoizedProps:i)),1024&r&&(on=!0);break;case 6:if(od(t,e),om(e),4&r){if(null===e.stateNode)throw Error(o(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){lx(e,e.return,t)}}break;case 3:if(uq=null,i=of,of=uA(t.containerInfo),od(t,e),of=i,om(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{cS(t.containerInfo)}catch(t){lx(e,e.return,t)}on&&(on=!1,function e(t){if(1024&t.subtreeFlags)for(t=t.child;null!==t;){var n=t;e(n),5===n.tag&&1024&n.flags&&n.stateNode.reset(),t=t.sibling}}(e));break;case 4:r=of,of=uA(e.stateNode.containerInfo),od(t,e),om(e),of=r;break;case 12:default:od(t,e),om(e);break;case 13:od(t,e),om(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(oY=et()),4&r&&null!==(r=e.updateQueue)&&(e.updateQueue=null,oh(e,r));break;case 22:i=null!==e.memoizedState;var u=null!==n&&null!==n.memoizedState,c=oe,h=ot;if(oe=c||i,ot=h||u,od(t,e),ot=h,oe=c,om(e),8192&r)e:for((t=e.stateNode)._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||u||oe||ot||function e(t){for(t=t.child;null!==t;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:aZ(4,n,n.return),e(n);break;case 1:a3(n,n.return);var r=n.stateNode;"function"==typeof r.componentWillUnmount&&a1(n,n.return,r),e(n);break;case 27:uC(n.stateNode);case 26:case 5:a3(n,n.return),e(n);break;case 22:null===n.memoizedState&&e(n);break;default:e(n)}t=t.sibling}}(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){u=n=t;try{if(s=u.stateNode,i)a=s.style,"function"==typeof a.setProperty?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var d=u.memoizedProps.style,f=null!=d&&d.hasOwnProperty("display")?d.display:null;l.style.display=null==f||"boolean"==typeof f?"":(""+f).trim()}}catch(e){lx(u,u.return,e)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=i?"":u.memoizedProps}catch(e){lx(u,u.return,e)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&null!==(r=e.updateQueue)&&null!==(n=r.retryQueue)&&(r.retryQueue=null,oh(e,n));break;case 19:od(t,e),om(e),4&r&&null!==(r=e.updateQueue)&&(e.updateQueue=null,oh(e,r));case 30:case 21:}}function om(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(a5(r)){n=r;break}r=r.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var i=n.stateNode,s=a8(e);a7(e,s,i);break;case 5:var a=n.stateNode;32&n.flags&&(tl(a,""),n.flags&=-33);var l=a8(e);a7(e,l,a);break;case 3:case 4:var u=n.stateNode.containerInfo,c=a8(e);!function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?(9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).insertBefore(t,n):((n=9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).appendChild(t),null!=(r=r._reactRootContainer)||null!==n.onclick||(n.onclick=ur));else if(4!==i&&(27===i&&ub(t.type)&&(r=t.stateNode,n=null),null!==(t=t.child)))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,c,u);break;default:throw Error(o(161))}}catch(t){lx(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function og(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)os(e,t.alternate,t),t=t.sibling}function oy(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&r1(n))}function ov(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&r1(e))}function ob(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ow(e,t,n,r),t=t.sibling}function ow(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:ob(e,t,n,r),2048&i&&aJ(9,t);break;case 1:case 13:default:ob(e,t,n,r);break;case 3:ob(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&r1(e)));break;case 12:if(2048&i){ob(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,o=s.onPostCommit;"function"==typeof o&&o(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(e){lx(t,t.return,e)}}else ob(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,null!==t.memoizedState?2&s._visibility?ob(e,t,n,r):oE(e,t):2&s._visibility?ob(e,t,n,r):(s._visibility|=2,function e(t,n,r,i,s){for(s=s&&0!=(10256&n.subtreeFlags),n=n.child;null!==n;){var a=n,o=a.flags;switch(a.tag){case 0:case 11:case 15:e(t,a,r,i,s),aJ(8,a);break;case 23:break;case 22:var l=a.stateNode;null!==a.memoizedState?2&l._visibility?e(t,a,r,i,s):oE(t,a):(l._visibility|=2,e(t,a,r,i,s)),s&&2048&o&&oy(a.alternate,a);break;case 24:e(t,a,r,i,s),s&&2048&o&&ov(a.alternate,a);break;default:e(t,a,r,i,s)}n=n.sibling}}(e,t,n,r,0!=(10256&t.subtreeFlags))),2048&i&&oy(a,t);break;case 24:ob(e,t,n,r),2048&i&&ov(t.alternate,t)}}function oE(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=t,r=n.flags;switch(n.tag){case 22:oE(e,n),2048&r&&oy(n.alternate,n);break;case 24:oE(e,n),2048&r&&ov(n.alternate,n);break;default:oE(e,n)}t=t.sibling}}var oS=8192;function o_(e){if(e.subtreeFlags&oS)for(e=e.child;null!==e;)ok(e),e=e.sibling}function ok(e){switch(e.tag){case 26:o_(e),e.flags&oS&&null!==e.memoizedState&&function(e,t,n){if(null===uK)throw Error(o(475));var r=uK;if("stylesheet"===t.type&&("string"!=typeof n.media||!1!==matchMedia(n.media).matches)&&0==(4&t.state.loading)){if(null===t.instance){var i=uL(n.href),s=e.querySelector(uM(i));if(s){null!==(e=s._p)&&"object"==typeof e&&"function"==typeof e.then&&(r.count++,r=uY.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=s,eq(s);return}s=e.ownerDocument||e,n=uF(n),(i=uI.get(i))&&uB(n,i),eq(s=s.createElement("link"));var a=s;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),ua(s,"link",n),t.instance=s}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0==(3&t.state.loading)&&(r.count++,t=uY.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(of,e.memoizedState,e.memoizedProps);break;case 5:default:o_(e);break;case 3:case 4:var t=of;of=uA(e.stateNode.containerInfo),o_(e),of=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=oS,oS=0x1000000,o_(e),oS=t):o_(e))}}function oT(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(null!==e)}}function ox(e){var t=e.deletions;if(0!=(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];oi=r,oI(r,e)}oT(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)oC(e),e=e.sibling}function oC(e){switch(e.tag){case 0:case 11:case 15:ox(e),2048&e.flags&&aZ(9,e,e.return);break;case 3:case 12:default:ox(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,function e(t){var n=t.deletions;if(0!=(16&t.flags)){if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];oi=i,oI(i,t)}oT(t)}for(t=t.child;null!==t;){switch((n=t).tag){case 0:case 11:case 15:aZ(8,n,n.return),e(n);break;case 22:2&(r=n.stateNode)._visibility&&(r._visibility&=-3,e(n));break;default:e(n)}t=t.sibling}}(e)):ox(e)}}function oI(e,t){for(;null!==oi;){var n=oi;switch(n.tag){case 0:case 11:case 15:aZ(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:r1(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,oi=r;else for(n=e;null!==oi;){var i=(r=oi).sibling,s=r.return;if(!function e(t){var n=t.alternate;null!==n&&(t.alternate=null,e(n)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&null!==(n=t.stateNode)&&ej(n),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}(r),r===n){oi=null;break}if(null!==i){i.return=s,oi=i;break}oi=s}}}var oN={getCacheForType:function(e){var t=rW(rZ),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},oA="function"==typeof WeakMap?WeakMap:Map,oR=0,oP=null,oO=null,oD=0,oL=0,oM=null,oF=!1,oU=!1,oj=!1,oV=0,oz=0,oB=0,o$=0,oq=0,oH=0,oG=0,oW=null,oK=null,oQ=!1,oY=0,oX=1/0,oJ=null,oZ=null,o0=0,o1=null,o2=null,o3=0,o4=0,o6=null,o5=null,o8=0,o7=null;function o9(){if(0!=(2&oR)&&0!==oD)return oD&-oD;if(null!==D.T){var e=r4;return 0!==e?e:lH()}return eN()}function le(){0===oH&&(oH=0==(0x20000000&oD)||rx?eE():0x20000000);var e=s7.current;return null!==e&&(e.flags|=32),oH}function lt(e,t,n){(e===oP&&(2===oL||9===oL)||null!==e.cancelPendingCommit)&&(lo(e,0),li(e,oD,oH,!1)),ek(e,n),(0==(2&oR)||e!==oP)&&(e===oP&&(0==(2&oR)&&(o$|=n),4===oz&&li(e,oD,oH,!1)),lU(e))}function ln(e,t,n){if(0!=(6&oR))throw Error(o(327));for(var r=!n&&0==(124&t)&&0==(t&e.expiredLanes)||ew(e,t),i=r?function(e,t){var n=oR;oR|=2;var r=lu(),i=lc();oP!==e||oD!==t?(oJ=null,oX=et()+500,lo(e,t)):oU=ew(e,t);e:for(;;)try{if(0!==oL&&null!==oO){t=oO;var s=oM;t:switch(oL){case 1:oL=0,oM=null,lm(e,t,s,1);break;case 2:case 9:if(io(s)){oL=0,oM=null,lp(t);break}t=function(){2!==oL&&9!==oL||oP!==e||(oL=7),lU(e)},s.then(t,t);break e;case 3:oL=7;break e;case 4:oL=5;break e;case 7:io(s)?(oL=0,oM=null,lp(t)):(oL=0,oM=null,lm(e,t,s,7));break;case 5:var a=null;switch(oO.tag){case 26:a=oO.memoizedState;case 5:case 27:var l=oO;if(a?uW(a):1){oL=0,oM=null;var u=l.sibling;if(null!==u)oO=u;else{var c=l.return;null!==c?(oO=c,lg(c)):oO=null}break t}}oL=0,oM=null,lm(e,t,s,5);break;case 6:oL=0,oM=null,lm(e,t,s,6);break;case 8:la(),oz=6;break e;default:throw Error(o(462))}}for(;null!==oO&&!Z();)lf(oO);break}catch(t){ll(e,t)}return(rj=rU=null,D.H=r,D.A=i,oR=n,null!==oO)?0:(oP=null,oD=0,n6(),oz)}(e,t):ld(e,t,!0),s=r;;){if(0===i)oU&&!r&&li(e,t,0,!1);else{if(n=e.current.alternate,s&&!function(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&null!==(n=t.updateQueue)&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!nC(s(),i))return!1}catch(e){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(n)){i=ld(e,t,!1),s=!1;continue}if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=0!=(a=-0x20000001&e.pendingLanes)?a:0x20000000&a?0x20000000:0;if(0!==a){t=a;e:{i=oW;var l=e.current.memoizedState.isDehydrated;if(l&&(lo(e,a).flags|=256),2!==(a=ld(e,a,!1))){if(oj&&!l){e.errorRecoveryDisabledLanes|=s,o$|=s,i=4;break e}s=oK,oK=i,null!==s&&(null===oK?oK=s:oK.push.apply(oK,s))}i=a}if(s=!1,2!==i)continue}}if(1===i){lo(e,0),li(e,t,0,!0);break}e:{switch(r=e,s=i){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:li(r,t,oH,!oF);break e;case 2:oK=null;break;case 3:case 5:break;default:throw Error(o(329))}if((0x3c00000&t)===t&&10<(i=oY+300-et())){if(li(r,t,oH,!oF),0!==eb(r,0,!0))break e;r.timeoutHandle=up(lr.bind(null,r,n,oK,oJ,oQ,t,oH,o$,oG,oF,s,2,-0,0),i);break e}lr(r,n,oK,oJ,oQ,t,oH,o$,oG,oF,s,0,-0,0)}}break}lU(e)}function lr(e,t,n,r,i,s,a,l,u,c,h,d,f,p){if(e.timeoutHandle=-1,(8192&(d=t.subtreeFlags)||0x1002000==(0x1002000&d))&&(uK={stylesheets:null,count:0,unsuspend:uQ},ok(t),null!==(d=function(){if(null===uK)throw Error(o(475));var e=uK;return e.stylesheets&&0===e.count&&uJ(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&uJ(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}()))){e.cancelPendingCommit=d(lv.bind(null,e,t,s,n,r,i,a,l,u,h,1,f,p)),li(e,s,a,!c);return}lv(e,t,s,n,r,i,a,l,u)}function li(e,t,n,r){t&=~oq,t&=~o$,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-ef(i),a=1<<s;r[s]=-1,i&=~a}0!==n&&eT(e,n,t)}function ls(){return 0!=(6&oR)||(lj(0,!1),!1)}function la(){if(null!==oO){if(0===oL)var e=oO.return;else e=oO,rj=rU=null,iY(e),sZ=null,s0=0,e=oO;for(;null!==e;)aX(e.alternate,e),e=e.return;oO=null}}function lo(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,um(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),la(),oP=e,oO=n=rs(e.current,null),oD=t,oL=0,oM=null,oF=!1,oU=ew(e,t),oj=!1,oG=oH=oq=o$=oB=oz=0,oK=oW=null,oQ=!1,0!=(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-ef(r),s=1<<i;t|=e[i],r&=~s}return oV=t,n6(),n}function ll(e,t){iP=null,D.H=sQ,t===ir||t===is?(t=ih(),oL=3):t===ii?(t=ih(),oL=4):oL=t===aw?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,oM=t,null===oO&&(oz=1,am(e,n1(t,e.current)))}function lu(){var e=D.H;return D.H=sQ,null===e?sQ:e}function lc(){var e=D.A;return D.A=oN,e}function lh(){oz=4,oF||(4194048&oD)!==oD&&null!==s7.current||(oU=!0),0==(0x7ffffff&oB)&&0==(0x7ffffff&o$)||null===oP||li(oP,oD,oH,!1)}function ld(e,t,n){var r=oR;oR|=2;var i=lu(),s=lc();(oP!==e||oD!==t)&&(oJ=null,lo(e,t)),t=!1;var a=oz;e:for(;;)try{if(0!==oL&&null!==oO){var o=oO,l=oM;switch(oL){case 8:la(),a=6;break e;case 3:case 2:case 9:case 6:null===s7.current&&(t=!0);var u=oL;if(oL=0,oM=null,lm(e,o,l,u),n&&oU){a=0;break e}break;default:u=oL,oL=0,oM=null,lm(e,o,l,u)}}(function(){for(;null!==oO;)lf(oO)})(),a=oz;break}catch(t){ll(e,t)}return t&&e.shellSuspendCounter++,rj=rU=null,oR=r,D.H=i,D.A=s,null===oO&&(oP=null,oD=0,n6()),a}function lf(e){var t=aH(e.alternate,e,oV);e.memoizedProps=e.pendingProps,null===t?lg(e):oO=t}function lp(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=aA(n,t,t.pendingProps,t.type,void 0,oD);break;case 11:t=aA(n,t,t.pendingProps,t.type.render,t.ref,oD);break;case 5:iY(t);default:aX(n,t),t=aH(n,t=oO=ra(t,oV),oV)}e.memoizedProps=e.pendingProps,null===t?lg(e):oO=t}function lm(e,t,n,r){rj=rU=null,iY(t),sZ=null,s0=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"==typeof r&&"function"==typeof r.then){if(null!==(t=n.alternate)&&rq(t,n,i,!0),null!==(n=s7.current)){switch(n.tag){case 13:return null===s9?lh():null===n.alternate&&0===oz&&(oz=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===ia?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),lC(e,r,i)),!1;case 22:return n.flags|=65536,r===ia?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),lC(e,r,i)),!1}throw Error(o(435,n.tag))}return lC(e,r,i),lh(),!1}if(rx)return null!==(t=s7.current)?(0==(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==rN&&rM(n1(e=Error(o(422),{cause:r}),n))):(r!==rN&&rM(n1(t=Error(o(423),{cause:r}),n)),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,r=n1(r,n),i=ay(e.stateNode,r,i),iw(e,i),4!==oz&&(oz=2)),!1;var s=Error(o(520),{cause:r});if(s=n1(s,n),null===oW?oW=[s]:oW.push(s),4!==oz&&(oz=2),null===t)return!0;r=n1(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=ay(n.stateNode,r,e),iw(n,e),!1;case 1:if(t=n.type,s=n.stateNode,0==(128&n.flags)&&("function"==typeof t.getDerivedStateFromError||null!==s&&"function"==typeof s.componentDidCatch&&(null===oZ||!oZ.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,ab(i=av(i),e,n,r),iw(n,i),!1}n=n.return}while(null!==n)return!1}(e,i,t,n,oD)){oz=1,am(e,n1(n,e.current)),oO=null;return}}catch(t){if(null!==i)throw oO=i,t;oz=1,am(e,n1(n,e.current)),oO=null;return}32768&t.flags?(rx||1===r?e=!0:oU||0!=(0x20000000&oD)?e=!1:(oF=e=!0,(2===r||9===r||3===r||6===r)&&null!==(r=s7.current)&&13===r.tag&&(r.flags|=16384)),ly(t,e)):lg(t)}function lg(e){var t=e;do{if(0!=(32768&t.flags))return void ly(t,oF);e=t.return;var n=function(e,t,n){var r=t.pendingProps;switch(r_(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return aY(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),rz(rZ),W(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(null===e||null===e.child)&&(rO(t)?aG(t):null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,rL())),aY(t),null;case 26:return n=t.memoizedState,null===e?(aG(t),null!==n?(aY(t),aW(t,n)):(aY(t),t.flags&=-0x1000001)):n?n!==e.memoizedState?(aG(t),aY(t),aW(t,n)):(aY(t),t.flags&=-0x1000001):(e.memoizedProps!==r&&aG(t),aY(t),t.flags&=-0x1000001),null;case 27:Q(t),n=q.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&aG(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return aY(t),null}e=B.current,rO(t)?rR(t,e):(e=ux(i,r,n),t.stateNode=e,aG(t))}return aY(t),null;case 5:if(Q(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&aG(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return aY(t),null}if(e=B.current,rO(t))rR(t,e);else{switch(i=uu(q.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"==typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[eR]=t,e[eP]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(t.stateNode=e,ua(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break;case"img":e=!0;break;default:e=!1}e&&aG(t)}}return aY(t),t.flags&=-0x1000001,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&aG(t);else{if("string"!=typeof r&&null===t.stateNode)throw Error(o(166));if(e=q.current,rO(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=rk))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[eR]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||un(e.nodeValue,n)))||rA(t)}else(e=uu(e).createTextNode(r))[eR]=t,t.stateNode=e}return aY(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=rO(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[eR]=t}else rD(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;aY(t),i=!1}else i=rL(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i){if(256&t.flags)return ar(t),t;return ar(t),null}}if(ar(t),0!=(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){r=t.child,i=null,null!==r.alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var s=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),aK(t,t.updateQueue),aY(t),null;case 4:return W(),null===e&&l2(t.stateNode.containerInfo),aY(t),null;case 10:return rz(t.type),aY(t),null;case 19:if(V(ai),null===(i=t.memoizedState))return aY(t),null;if(r=0!=(128&t.flags),null===(s=i.rendering))if(r)aQ(i,!1);else{if(0!==oz||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=as(e))){for(t.flags|=128,aQ(i,!1),e=s.updateQueue,t.updateQueue=e,aK(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)ra(n,e),n=n.sibling;return z(ai,1&ai.current|2),t.child}e=e.sibling}null!==i.tail&&et()>oX&&(t.flags|=128,r=!0,aQ(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=as(s))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,aK(t,e),aQ(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!rx)return aY(t),null}else 2*et()-i.renderingStartTime>oX&&0x20000000!==n&&(t.flags|=128,r=!0,aQ(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=i.last)?e.sibling=s:t.child=s,i.last=s)}if(null!==i.tail)return t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=et(),t.sibling=null,e=ai.current,z(ai,r?1&e|2:1&e),t;return aY(t),null;case 22:case 23:return ar(t),iA(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!=(0x20000000&n)&&0==(128&t.flags)&&(aY(t),6&t.subtreeFlags&&(t.flags|=8192)):aY(t),null!==(n=t.updateQueue)&&aK(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&V(r7),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),rz(rZ),aY(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}(t.alternate,t,oV);if(null!==n){oO=n;return}if(null!==(t=t.sibling)){oO=t;return}oO=t=e}while(null!==t)0===oz&&(oz=5)}function ly(e,t){do{var n=function(e,t){switch(r_(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return rz(rZ),W(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 13:if(ar(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));rD()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return V(ai),null;case 4:return W(),null;case 10:return rz(t.type),null;case 22:case 23:return ar(t),iA(),null!==e&&V(r7),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return rz(rZ),null;default:return null}}(e.alternate,e);if(null!==n){n.flags&=32767,oO=n;return}if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling)){oO=e;return}oO=e=n}while(null!==e)oz=6,oO=null}function lv(e,t,n,r,i,s,a,l,u){e.cancelPendingCommit=null;do l_();while(0!==o0)if(0!=(6&oR))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(!function(e,t,n,r,i,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=a&~n;0<n;){var c=31-ef(n),h=1<<c;o[c]=0,l[c]=-1;var d=u[c];if(null!==d)for(u[c]=null,c=0;c<d.length;c++){var f=d[c];null!==f&&(f.lane&=-0x20000001)}n&=~h}0!==r&&eT(e,r,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(a&~t))}(e,n,s=t.lanes|t.childLanes|n4,a,l,u),e===oP&&(oO=oP=null,oD=0),o2=t,o1=e,o3=n,o4=s,o6=i,o5=r,0!=(10256&t.subtreeFlags)||0!=(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,X(es,function(){return lk(!0),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!=(13878&t.flags),0!=(13878&t.subtreeFlags)||r){r=D.T,D.T=null,i=L.p,L.p=2,a=oR,oR|=4;try{!function(e,t){if(e=e.containerInfo,uo=u8,nP(e=nR(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i,s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var l=0,u=-1,c=-1,h=0,d=0,f=e,p=null;t:for(;;){for(;f!==n||0!==s&&3!==f.nodeType||(u=l+s),f!==a||0!==r&&3!==f.nodeType||(c=l+r),3===f.nodeType&&(l+=f.nodeValue.length),null!==(i=f.firstChild);)p=f,f=i;for(;;){if(f===e)break t;if(p===n&&++h===s&&(u=l),p===a&&++d===r&&(c=l),null!==(i=f.nextSibling))break;p=(f=p).parentNode}f=i}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ul={focusedElem:e,selectionRange:n},u8=!1,oi=t;null!==oi;)if(e=(t=oi).child,0!=(1024&t.subtreeFlags)&&null!==e)e.return=t,oi=e;else for(;null!==oi;){switch(a=(t=oi).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!=(1024&e)&&null!==a){e=void 0,n=t,s=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var m=ac(n.type,s,n.elementType===n.type);e=r.getSnapshotBeforeUpdate(m,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){lx(n,n.return,e)}}break;case 3:if(0!=(1024&e)){if(9===(n=(e=t.stateNode.containerInfo).nodeType))uE(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":uE(e);break;default:e.textContent=""}}break;default:if(0!=(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,oi=e;break}oi=t.return}}(e,t,n)}finally{oR=a,L.p=i,D.T=r}}o0=1,lb(),lw(),lE()}}function lb(){if(1===o0){o0=0;var e=o1,t=o2,n=0!=(13878&t.flags);if(0!=(13878&t.subtreeFlags)||n){n=D.T,D.T=null;var r=L.p;L.p=2;var i=oR;oR|=4;try{op(t,e);var s=ul,a=nR(e.containerInfo),o=s.focusedElem,l=s.selectionRange;if(a!==o&&o&&o.ownerDocument&&function e(t,n){return!!t&&!!n&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(o.ownerDocument.documentElement,o)){if(null!==l&&nP(o)){var u=l.start,c=l.end;if(void 0===c&&(c=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(c,o.value.length);else{var h=o.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var f=d.getSelection(),p=o.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(a=g,g=m,m=a);var y=nA(o,m),v=nA(o,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=h.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(h=[],f=o;f=f.parentNode;)1===f.nodeType&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"==typeof o.focus&&o.focus(),o=0;o<h.length;o++){var w=h[o];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}u8=!!uo,ul=uo=null}finally{oR=i,L.p=r,D.T=n}}e.current=t,o0=2}}function lw(){if(2===o0){o0=0;var e=o1,t=o2,n=0!=(8772&t.flags);if(0!=(8772&t.subtreeFlags)||n){n=D.T,D.T=null;var r=L.p;L.p=2;var i=oR;oR|=4;try{os(e,t.alternate,t)}finally{oR=i,L.p=r,D.T=n}}o0=3}}function lE(){if(4===o0||3===o0){o0=0,ee();var e=o1,t=o2,n=o3,r=o5;0!=(10256&t.subtreeFlags)||0!=(10256&t.flags)?o0=5:(o0=0,o2=o1=null,lS(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(oZ=null),eI(n),t=t.stateNode,eh&&"function"==typeof eh.onCommitFiberRoot)try{eh.onCommitFiberRoot(ec,t,void 0,128==(128&t.current.flags))}catch(e){}if(null!==r){t=D.T,i=L.p,L.p=2,D.T=null;try{for(var s=e.onRecoverableError,a=0;a<r.length;a++){var o=r[a];s(o.value,{componentStack:o.stack})}}finally{D.T=t,L.p=i}}0!=(3&o3)&&l_(),lU(e),i=e.pendingLanes,0!=(4194090&n)&&0!=(42&i)?e===o7?o8++:(o8=0,o7=e):o8=0,lj(0,!1)}}function lS(e,t){0==(e.pooledCacheLanes&=t)&&null!=(t=e.pooledCache)&&(e.pooledCache=null,r1(t))}function l_(e){return lb(),lw(),lE(),lk(e)}function lk(){if(5!==o0)return!1;var e=o1,t=o4;o4=0;var n=eI(o3),r=D.T,i=L.p;try{L.p=32>n?32:n,D.T=null,n=o6,o6=null;var s=o1,a=o3;if(o0=0,o2=o1=null,o3=0,0!=(6&oR))throw Error(o(331));var l=oR;if(oR|=4,oC(s.current),ow(s,s.current,a,n),oR=l,lj(0,!1),eh&&"function"==typeof eh.onPostCommitFiberRoot)try{eh.onPostCommitFiberRoot(ec,s)}catch(e){}return!0}finally{L.p=i,D.T=r,lS(e,t)}}function lT(e,t,n){t=n1(n,t),t=ay(e.stateNode,t,2),null!==(e=iv(e,t,2))&&(ek(e,2),lU(e))}function lx(e,t,n){if(3===e.tag)lT(e,e,n);else for(;null!==t;){if(3===t.tag){lT(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===oZ||!oZ.has(r))){e=n1(n,e),null!==(r=iv(t,n=av(2),2))&&(ab(n,r,t,e),ek(r,2),lU(r));break}}t=t.return}}function lC(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new oA;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(oj=!0,i.add(n),e=lI.bind(null,e,t,n),t.then(e,e))}function lI(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,oP===e&&(oD&n)===n&&(4===oz||3===oz&&(0x3c00000&oD)===oD&&300>et()-oY?0==(2&oR)&&lo(e,0):oq|=n,oG===oD&&(oG=0)),lU(e)}function lN(e,t){0===t&&(t=eS()),null!==(e=n7(e,t))&&(ek(e,t),lU(e))}function lA(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),lN(e,n)}function lR(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==r&&r.delete(t),lN(e,n)}var lP=null,lO=null,lD=!1,lL=!1,lM=!1,lF=0;function lU(e){e!==lO&&null===e.next&&(null===lO?lP=lO=e:lO=lO.next=e),lL=!0,lD||(lD=!0,uy(function(){0!=(6&oR)?X(er,lV):lz()}))}function lj(e,t){if(!lM&&lL){lM=!0;do for(var n=!1,r=lP;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var s=0;else{var a=r.suspendedLanes,o=r.pingedLanes;s=0xc000095&(s=(1<<31-ef(42|e)+1)-1&(i&~(a&~o)))?0xc000095&s|1:s?2|s:0}0!==s&&(n=!0,lq(r,s))}else s=oD,0==(3&(s=eb(r,r===oP?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||ew(r,s)||(n=!0,lq(r,s));r=r.next}while(n)lM=!1}}function lV(){lz()}function lz(){lL=lD=!1;var e,t=0;0!==lF&&(((e=window.event)&&"popstate"===e.type?e===uf||(uf=e,0):(uf=null,1))||(t=lF),lF=0);for(var n=et(),r=null,i=lP;null!==i;){var s=i.next,a=lB(i,n);0===a?(i.next=null,null===r?lP=s:r.next=s,null===s&&(lO=r)):(r=i,(0!==t||0!=(3&a))&&(lL=!0)),i=s}lj(t,!1)}function lB(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=-0x3c00001&e.pendingLanes;0<s;){var a=31-ef(s),o=1<<a,l=i[a];-1===l?(0==(o&n)||0!=(o&r))&&(i[a]=function(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return -1}}(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(t=oP,n=oD,n=eb(e,e===t?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===oL||9===oL)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&J(r),e.callbackNode=null,e.callbackPriority=0;if(0==(3&n)||ew(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&J(r),eI(n)){case 2:case 8:n=ei;break;case 32:default:n=es;break;case 0x10000000:n=eo}return n=X(n,r=l$.bind(null,e)),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&J(r),e.callbackPriority=2,e.callbackNode=null,2}function l$(e,t){if(0!==o0&&5!==o0)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(l_(!0)&&e.callbackNode!==n)return null;var r=oD;return 0===(r=eb(e,e===oP?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(ln(e,r,t),lB(e,et()),null!=e.callbackNode&&e.callbackNode===n?l$.bind(null,e):null)}function lq(e,t){if(l_())return null;ln(e,t,!0)}function lH(){return 0===lF&&(lF=eE()),lF}function lG(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:tm(""+e)}function lW(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var lK=0;lK<nJ.length;lK++){var lQ=nJ[lK];nZ(lQ.toLowerCase(),"on"+(lQ[0].toUpperCase()+lQ.slice(1)))}nZ(nq,"onAnimationEnd"),nZ(nH,"onAnimationIteration"),nZ(nG,"onAnimationStart"),nZ("dblclick","onDoubleClick"),nZ("focusin","onFocus"),nZ("focusout","onBlur"),nZ(nW,"onTransitionRun"),nZ(nK,"onTransitionStart"),nZ(nQ,"onTransitionCancel"),nZ(nY,"onTransitionEnd"),eK("onMouseEnter",["mouseout","mouseover"]),eK("onMouseLeave",["mouseout","mouseover"]),eK("onPointerEnter",["pointerout","pointerover"]),eK("onPointerLeave",["pointerout","pointerover"]),eW("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),eW("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),eW("onBeforeInput",["compositionend","keypress","textInput","paste"]),eW("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),eW("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),eW("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lY="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lX=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lY));function lJ(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=u;try{s(i)}catch(e){ah(e)}i.currentTarget=null,s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=u;try{s(i)}catch(e){ah(e)}i.currentTarget=null,s=l}}}}function lZ(e,t){var n=t[eD];void 0===n&&(n=t[eD]=new Set);var r=e+"__bubble";n.has(r)||(l3(t,e,2,!1),n.add(r))}function l0(e,t,n){var r=0;t&&(r|=4),l3(n,e,r,t)}var l1="_reactListening"+Math.random().toString(36).slice(2);function l2(e){if(!e[l1]){e[l1]=!0,eH.forEach(function(t){"selectionchange"!==t&&(lX.has(t)||l0(t,!1,e),l0(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[l1]||(t[l1]=!0,l0("selectionchange",!1,t))}}function l3(e,t,n,r){switch(ci(t)){case 2:var i=u7;break;case 8:i=u9;break;default:i=ce}n=i.bind(null,t,n,e),i=void 0,tT&&("touchstart"===t||"touchmove"===t||"wheel"===t)&&(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function l4(e,t,n,r,i){var s=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&a.stateNode.containerInfo===i)return;a=a.return}for(;null!==o;){if(null===(a=eV(o)))return;if(5===(l=a.tag)||6===l||26===l||27===l){r=s=a;continue e}o=o.parentNode}}r=r.return}tS(function(){var r=s,i=ty(n),a=[];e:{var o=nX.get(e);if(void 0!==o){var l=tq,c=e;switch(e){case"keypress":if(0===tR(n))break e;case"keydown":case"keyup":l=t6;break;case"focusin":c="focus",l=tY;break;case"focusout":c="blur",l=tY;break;case"beforeblur":case"afterblur":l=tY;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=tK;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=tQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=t8;break;case nq:case nH:case nG:l=tX;break;case nY:l=t7;break;case"scroll":case"scrollend":l=tG;break;case"wheel":l=t9;break;case"copy":case"cut":case"paste":l=tJ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=t5;break;case"toggle":case"beforetoggle":l=ne}var h=0!=(4&t),d=!h&&("scroll"===e||"scrollend"===e),f=h?null!==o?o+"Capture":null:o;h=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=t_(m,f))&&h.push(l6(m,g,p)),d)break;m=m.return}0<h.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:h}))}}if(0==(7&t)){if((o="mouseover"===e||"pointerover"===e,l="mouseout"===e||"pointerout"===e,!(o&&n!==tg&&(c=n.relatedTarget||n.fromElement)&&(eV(c)||c[eO])))&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(c=n.relatedTarget||n.toElement,l=r,null!==(c=c?eV(c):null)&&(d=u(c),h=c.tag,c!==d||5!==h&&27!==h&&6!==h)&&(c=null)):(l=null,c=r),l!==c)){if(h=tK,g="onMouseLeave",f="onMouseEnter",m="mouse",("pointerout"===e||"pointerover"===e)&&(h=t5,g="onPointerLeave",f="onPointerEnter",m="pointer"),d=null==l?o:eB(l),p=null==c?o:eB(c),(o=new h(g,m+"leave",l,n,i)).target=d,o.relatedTarget=p,g=null,eV(i)===r&&((h=new h(f,m+"enter",c,n,i)).target=p,h.relatedTarget=d,g=h),d=g,l&&c)t:{for(h=l,f=c,m=0,p=h;p;p=l8(p))m++;for(p=0,g=f;g;g=l8(g))p++;for(;0<m-p;)h=l8(h),m--;for(;0<p-m;)f=l8(f),p--;for(;m--;){if(h===f||null!==f&&h===f.alternate)break t;h=l8(h),f=l8(f)}h=null}else h=null;null!==l&&l7(a,o,l,h,!1),null!==c&&null!==d&&l7(a,d,c,h,!0)}e:{if("select"===(l=(o=r?eB(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var y,v=ny;else if(nh(o))if(nv)v=nx;else{v=nk;var b=n_}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)?v=nT:r&&td(r.elementType)&&(v=ny);if(v&&(v=v(e,r))){nd(a,v,n,i);break e}b&&b(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&ti(o,"number",o.value)}switch(b=r?eB(r):window,e){case"focusin":(nh(b)||"true"===b.contentEditable)&&(nD=b,nL=r,nM=null);break;case"focusout":nM=nL=nD=null;break;case"mousedown":nF=!0;break;case"contextmenu":case"mouseup":case"dragend":nF=!1,nU(a,n,i);break;case"selectionchange":if(nO)break;case"keydown":case"keyup":nU(a,n,i)}if(nn)t:{switch(e){case"compositionstart":var w="onCompositionStart";break t;case"compositionend":w="onCompositionEnd";break t;case"compositionupdate":w="onCompositionUpdate";break t}w=void 0}else nu?no(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(ns&&"ko"!==n.locale&&(nu||"onCompositionStart"!==w?"onCompositionEnd"===w&&nu&&(y=tA()):(tI="value"in(tC=i)?tC.value:tC.textContent,nu=!0)),0<(b=l5(r,w)).length&&(w=new tZ(w,e,null,n,i),a.push({event:w,listeners:b}),y?w.data=y:null!==(y=nl(n))&&(w.data=y))),(y=ni?function(e,t){switch(e){case"compositionend":return nl(t);case"keypress":if(32!==t.which)return null;return na=!0," ";case"textInput":return" "===(e=t.data)&&na?null:e;default:return null}}(e,n):function(e,t){if(nu)return"compositionend"===e||!nn&&no(e,t)?(e=tA(),tN=tI=tC=null,nu=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ns&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(w=l5(r,"onBeforeInput")).length&&(b=new tZ("onBeforeInput","beforeinput",null,n,i),a.push({event:b,listeners:w}),b.data=y);var E=e;if("submit"===E&&r&&r.stateNode===i){var S=lG((i[eP]||null).action),_=n.submitter;_&&null!==(E=(E=_[eP]||null)?lG(E.formAction):_.getAttribute("formAction"))&&(S=E,_=null);var k=new tq("action","action",null,n,i);a.push({event:k,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(0!==lF){var e=_?lW(i,_):new FormData(i);sL(r,{pending:!0,data:e,method:i.method,action:S},null,e)}}else"function"==typeof S&&(k.preventDefault(),sL(r,{pending:!0,data:e=_?lW(i,_):new FormData(i),method:i.method,action:S},S,e))},currentTarget:i}]})}}lJ(a,t)})}function l6(e,t,n){return{instance:e,listener:t,currentTarget:n}}function l5(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=t_(e,n))&&r.unshift(l6(e,i,s)),null!=(i=t_(e,t))&&r.push(l6(e,i,s))),3===e.tag)return r;e=e.return}return[]}function l8(e){if(null===e)return null;do e=e.return;while(e&&5!==e.tag&&27!==e.tag)return e||null}function l7(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===u||(l=u,i?null!=(u=t_(n,s))&&a.unshift(l6(n,u,l)):i||null!=(u=t_(n,s))&&a.push(l6(n,u,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var l9=/\r\n?/g,ue=/\u0000|\uFFFD/g;function ut(e){return("string"==typeof e?e:""+e).replace(l9,"\n").replace(ue,"")}function un(e,t){return t=ut(t),ut(e)===t}function ur(){}function ui(e,t,n,r,i,s){switch(n){case"children":"string"==typeof r?"body"===t||"textarea"===t&&""===r||tl(e,r):("number"==typeof r||"bigint"==typeof r)&&"body"!==t&&tl(e,""+r);break;case"className":eZ(e,"class",r);break;case"tabIndex":eZ(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":eZ(e,n,r);break;case"style":th(e,r,s);break;case"data":if("object"!==t){eZ(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)||null==r||"function"==typeof r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=tm(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"==typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof s&&("formAction"===n?("input"!==t&&ui(e,t,"name",i.name,i,null),ui(e,t,"formEncType",i.formEncType,i,null),ui(e,t,"formMethod",i.formMethod,i,null),ui(e,t,"formTarget",i.formTarget,i,null)):(ui(e,t,"encType",i.encType,i,null),ui(e,t,"method",i.method,i,null),ui(e,t,"target",i.target,i,null))),null==r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=tm(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=ur);break;case"onScroll":null!=r&&lZ("scroll",e);break;case"onScrollEnd":null!=r&&lZ("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"muted":e.muted=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":case"innerText":case"textContent":break;case"xlinkHref":if(null==r||"function"==typeof r||"boolean"==typeof r||"symbol"==typeof r){e.removeAttribute("xlink:href");break}n=tm(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!=typeof r&&"symbol"!=typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"==typeof r||"symbol"==typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":lZ("beforetoggle",e),lZ("toggle",e),eJ(e,"popover",r);break;case"xlinkActuate":e0(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":e0(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":e0(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":e0(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":e0(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":e0(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":e0(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":e0(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":e0(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":eJ(e,"is",r);break;default:2<n.length&&("o"===n[0]||"O"===n[0])&&("n"===n[1]||"N"===n[1])||eJ(e,n=tf.get(n)||n,r)}}function us(e,t,n,r,i,s){switch(n){case"style":th(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"==typeof r?tl(e,r):("number"==typeof r||"bigint"==typeof r)&&tl(e,""+r);break;case"onScroll":null!=r&&lZ("scroll",e);break;case"onScrollEnd":null!=r&&lZ("scrollend",e);break;case"onClick":null!=r&&(e.onclick=ur);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:if(!eG.hasOwnProperty(n))e:{if("o"===n[0]&&"n"===n[1]&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"==typeof(s=null!=(s=e[eP]||null)?s[n]:null)&&e.removeEventListener(t,s,i),"function"==typeof r)){"function"!=typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i);break e}n in e?e[n]=r:!0===r?e.setAttribute(n,""):eJ(e,n,r)}}}function ua(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lZ("error",e),lZ("load",e);var r,i=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ui(e,t,r,a,n,null)}}s&&ui(e,t,"srcSet",n.srcSet,n,null),i&&ui(e,t,"src",n.src,n,null);return;case"input":lZ("invalid",e);var l=r=a=s=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(null!=h)switch(i){case"name":s=h;break;case"type":a=h;break;case"checked":u=h;break;case"defaultChecked":c=h;break;case"value":r=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(o(137,t));break;default:ui(e,t,i,h,n,null)}}tr(e,r,l,u,c,a,s,!1),e8(e);return;case"select":for(s in lZ("invalid",e),i=a=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:ui(e,t,s,l,n,null)}t=r,n=a,e.multiple=!!i,null!=t?ts(e,!!i,t,!1):null!=n&&ts(e,!!i,n,!0);return;case"textarea":for(a in lZ("invalid",e),r=s=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(o(91));break;default:ui(e,t,a,l,n,null)}to(e,i,s,r),e8(e);return;case"option":for(u in n)n.hasOwnProperty(u)&&null!=(i=n[u])&&("selected"===u?e.selected=i&&"function"!=typeof i&&"symbol"!=typeof i:ui(e,t,u,i,n,null));return;case"dialog":lZ("beforetoggle",e),lZ("toggle",e),lZ("cancel",e),lZ("close",e);break;case"iframe":case"object":lZ("load",e);break;case"video":case"audio":for(i=0;i<lY.length;i++)lZ(lY[i],e);break;case"image":lZ("error",e),lZ("load",e);break;case"details":lZ("toggle",e);break;case"embed":case"source":case"link":lZ("error",e),lZ("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ui(e,t,c,i,n,null)}return;default:if(td(t)){for(h in n)n.hasOwnProperty(h)&&void 0!==(i=n[h])&&us(e,t,h,i,n,void 0);return}}for(l in n)n.hasOwnProperty(l)&&null!=(i=n[l])&&ui(e,t,l,i,n,null)}var uo=null,ul=null;function uu(e){return 9===e.nodeType?e:e.ownerDocument}function uc(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uh(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ud(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var uf=null,up="function"==typeof setTimeout?setTimeout:void 0,um="function"==typeof clearTimeout?clearTimeout:void 0,ug="function"==typeof Promise?Promise:void 0,uy="function"==typeof queueMicrotask?queueMicrotask:void 0!==ug?function(e){return ug.resolve(null).then(e).catch(uv)}:up;function uv(e){setTimeout(function(){throw e})}function ub(e){return"head"===e}function uw(e,t){var n=t,r=0,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0<r&&8>r){n=r;var a=e.ownerDocument;if(1&n&&uC(a.documentElement),2&n&&uC(a.body),4&n)for(uC(n=a.head),a=n.firstChild;a;){var o=a.nextSibling,l=a.nodeName;a[eU]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=o}}if(0===i){e.removeChild(s),cS(t);return}i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=s}while(n)cS(t)}function uE(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":uE(n),ej(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function uS(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function u_(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var uk=null;function uT(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function ux(e,t,n){switch(t=uu(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function uC(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ej(e)}var uI=new Map,uN=new Set;function uA(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var uR=L.d;L.d={f:function(){var e=uR.f(),t=ls();return e||t},r:function(e){var t=ez(e);null!==t&&5===t.tag&&"form"===t.type?sF(t):uR.r(e)},D:function(e){uR.D(e),uO("dns-prefetch",e,null)},C:function(e,t){uR.C(e,t),uO("preconnect",e,t)},L:function(e,t,n){if(uR.L(e,t,n),uP&&e&&t){var r='link[rel="preload"][as="'+tt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(r+='[imagesrcset="'+tt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(r+='[imagesizes="'+tt(n.imageSizes)+'"]')):r+='[href="'+tt(e)+'"]';var i=r;switch(t){case"style":i=uL(e);break;case"script":i=uU(e)}uI.has(i)||(e=d({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),uI.set(i,e),null!==uP.querySelector(r)||"style"===t&&uP.querySelector(uM(i))||"script"===t&&uP.querySelector(uj(i))||(ua(t=uP.createElement("link"),"link",e),eq(t),uP.head.appendChild(t)))}},m:function(e,t){if(uR.m(e,t),uP&&e){var n=t&&"string"==typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+tt(n)+'"][href="'+tt(e)+'"]',i=r;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=uU(e)}if(!uI.has(i)&&(e=d({rel:"modulepreload",href:e},t),uI.set(i,e),null===uP.querySelector(r))){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(uP.querySelector(uj(i)))return}ua(n=uP.createElement("link"),"link",e),eq(n),uP.head.appendChild(n)}}},X:function(e,t){if(uR.X(e,t),uP&&e){var n=e$(uP).hoistableScripts,r=uU(e),i=n.get(r);i||((i=uP.querySelector(uj(r)))||(e=d({src:e,async:!0},t),(t=uI.get(r))&&u$(e,t),eq(i=uP.createElement("script")),ua(i,"link",e),uP.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(r,i))}},S:function(e,t,n){if(uR.S(e,t,n),uP&&e){var r=e$(uP).hoistableStyles,i=uL(e);t=t||"default";var s=r.get(i);if(!s){var a={loading:0,preload:null};if(s=uP.querySelector(uM(i)))a.loading=5;else{e=d({rel:"stylesheet",href:e,"data-precedence":t},n),(n=uI.get(i))&&uB(e,n);var o=s=uP.createElement("link");eq(o),ua(o,"link",e),o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),o.addEventListener("load",function(){a.loading|=1}),o.addEventListener("error",function(){a.loading|=2}),a.loading|=4,uz(s,t,uP)}s={type:"stylesheet",instance:s,count:1,state:a},r.set(i,s)}}},M:function(e,t){if(uR.M(e,t),uP&&e){var n=e$(uP).hoistableScripts,r=uU(e),i=n.get(r);i||((i=uP.querySelector(uj(r)))||(e=d({src:e,async:!0,type:"module"},t),(t=uI.get(r))&&u$(e,t),eq(i=uP.createElement("script")),ua(i,"link",e),uP.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(r,i))}}};var uP="undefined"==typeof document?null:document;function uO(e,t,n){if(uP&&"string"==typeof t&&t){var r=tt(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"==typeof n&&(r+='[crossorigin="'+n+'"]'),uN.has(r)||(uN.add(r),e={rel:e,crossOrigin:n,href:t},null===uP.querySelector(r)&&(ua(t=uP.createElement("link"),"link",e),eq(t),uP.head.appendChild(t)))}}function uD(e,t,n,r){var i=(i=q.current)?uA(i):null;if(!i)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=uL(n.href),(r=(n=e$(i).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=uL(n.href);var s,a,l,u,c=e$(i).hoistableStyles,h=c.get(e);if(h||(i=i.ownerDocument||i,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,h),(c=i.querySelector(uM(e)))&&!c._p&&(h.instance=c,h.state.loading=5),uI.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},uI.set(e,n),c||(s=i,a=e,l=n,u=h.state,s.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(u.preload=a=s.createElement("link"),a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),ua(a,"link",l),eq(a),s.head.appendChild(a))))),t&&null===r)throw Error(o(528,""));return h}if(t&&null!==r)throw Error(o(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=uU(n),(r=(n=e$(i).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function uL(e){return'href="'+tt(e)+'"'}function uM(e){return'link[rel="stylesheet"]['+e+"]"}function uF(e){return d({},e,{"data-precedence":e.precedence,precedence:null})}function uU(e){return'[src="'+tt(e)+'"]'}function uj(e){return"script[async]"+e}function uV(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+tt(n.href)+'"]');if(r)return t.instance=r,eq(r),r;var i=d({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return eq(r=(e.ownerDocument||e).createElement("style")),ua(r,"style",i),uz(r,n.precedence,e),t.instance=r;case"stylesheet":i=uL(n.href);var s=e.querySelector(uM(i));if(s)return t.state.loading|=4,t.instance=s,eq(s),s;r=uF(n),(i=uI.get(i))&&uB(r,i),eq(s=(e.ownerDocument||e).createElement("link"));var a=s;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),ua(s,"link",r),t.state.loading|=4,uz(s,n.precedence,e),t.instance=s;case"script":if(s=uU(n.src),i=e.querySelector(uj(s)))return t.instance=i,eq(i),i;return r=n,(i=uI.get(s))&&u$(r=d({},n),i),eq(i=(e=e.ownerDocument||e).createElement("script")),ua(i,"link",r),e.head.appendChild(i),t.instance=i;case"void":return null;default:throw Error(o(443,t.type))}return"stylesheet"===t.type&&0==(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,uz(r,n.precedence,e)),t.instance}function uz(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===t)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function uB(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function u$(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var uq=null;function uH(e,t,n){if(null===uq){var r=new Map,i=uq=new Map;i.set(n,r)}else(r=(i=uq).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[eU]||s[eR]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var a=s.getAttribute(t)||"";a=e+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function uG(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function uW(e){return"stylesheet"!==e.type||0!=(3&e.state.loading)}var uK=null;function uQ(){}function uY(){if(this.count--,0===this.count){if(this.stylesheets)uJ(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var uX=null;function uJ(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,uX=new Map,t.forEach(uZ,e),uX=null,uY.call(e))}function uZ(e,t){if(!(4&t.state.loading)){var n=uX.get(e);if(n)var r=n.get(null);else{n=new Map,uX.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];("LINK"===a.nodeName||"not all"!==a.getAttribute("media"))&&(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=t.instance).getAttribute("data-precedence"),(s=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=uY.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var u0={$$typeof:E,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function u1(e,t,n,r,i,s,a,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=e_(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=e_(0),this.hiddenUpdates=e_(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function u2(e,t,n,r,i,s,a,o,l,u,c,h){return e=new u1(e,t,n,a,o,l,u,h),t=1,!0===s&&(t|=24),s=rr(3,null,null,t),e.current=s,s.stateNode=e,t=r0(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},im(s),e}function u3(e,t,n,r,i,s){i=i?rt:rt,null===r.context?r.context=i:r.pendingContext=i,(r=iy(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=iv(e,r,t))&&(lt(n,e,t),ib(n,e,t))}function u4(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function u6(e,t){u4(e,t),(e=e.alternate)&&u4(e,t)}function u5(e){if(13===e.tag){var t=n7(e,0x4000000);null!==t&&lt(t,e,0x4000000),u6(e,0x4000000)}}var u8=!0;function u7(e,t,n,r){var i=D.T;D.T=null;var s=L.p;try{L.p=2,ce(e,t,n,r)}finally{L.p=s,D.T=i}}function u9(e,t,n,r){var i=D.T;D.T=null;var s=L.p;try{L.p=8,ce(e,t,n,r)}finally{L.p=s,D.T=i}}function ce(e,t,n,r){if(u8){var i=ct(r);if(null===i)l4(e,t,r,cn,n),cf(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return ca=cp(ca,e,t,n,r,i),!0;case"dragenter":return co=cp(co,e,t,n,r,i),!0;case"mouseover":return cl=cp(cl,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return cu.set(s,cp(cu.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,cc.set(s,cp(cc.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(cf(e,r),4&t&&-1<cd.indexOf(e)){for(;null!==i;){var s=ez(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var a=ev(s.pendingLanes);if(0!==a){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-ef(a);o.entanglements[1]|=l,a&=~l}lU(s),0==(6&oR)&&(oX=et()+500,lj(0,!1))}}break;case 13:null!==(o=n7(s,2))&&lt(o,s,2),ls(),u6(s,2)}if(null===(s=ct(r))&&l4(e,t,r,cn,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else l4(e,t,r,null,n)}}function ct(e){return cr(e=ty(e))}var cn=null;function cr(e){if(cn=null,null!==(e=eV(e))){var t=u(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return cn=e,null}function ci(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(en()){case er:return 2;case ei:return 8;case es:case ea:return 32;case eo:return 0x10000000;default:return 32}default:return 32}}var cs=!1,ca=null,co=null,cl=null,cu=new Map,cc=new Map,ch=[],cd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cf(e,t){switch(e){case"focusin":case"focusout":ca=null;break;case"dragenter":case"dragleave":co=null;break;case"mouseover":case"mouseout":cl=null;break;case"pointerover":case"pointerout":cu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":cc.delete(t.pointerId)}}function cp(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&null!==(t=ez(t))&&u5(t)):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i)),e}function cm(e){var t=eV(e.target);if(null!==t){var n=u(t);if(null!==n){if(13===(t=n.tag)){if(null!==(t=c(n))){e.blockedOn=t,function(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}(e.priority,function(){if(13===n.tag){var e=o9(),t=n7(n,e=eC(e));null!==t&&lt(t,n,e),u6(n,e)}});return}}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=3===n.tag?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cg(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=ct(e.nativeEvent);if(null!==n)return null!==(t=ez(n))&&u5(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);tg=r,n.target.dispatchEvent(r),tg=null,t.shift()}return!0}function cy(e,t,n){cg(e)&&n.delete(t)}function cv(){cs=!1,null!==ca&&cg(ca)&&(ca=null),null!==co&&cg(co)&&(co=null),null!==cl&&cg(cl)&&(cl=null),cu.forEach(cy),cc.forEach(cy)}function cb(e,t){e.blockedOn===t&&(e.blockedOn=null,cs||(cs=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,cv)))}var cw=null;function cE(e){cw!==e&&(cw=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){cw===e&&(cw=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!=typeof r)if(null===cr(r||n))continue;else break;var s=ez(n);null!==s&&(e.splice(t,3),t-=3,sL(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function cS(e){function t(t){return cb(t,e)}null!==ca&&cb(ca,e),null!==co&&cb(co,e),null!==cl&&cb(cl,e),cu.forEach(t),cc.forEach(t);for(var n=0;n<ch.length;n++){var r=ch[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<ch.length&&null===(n=ch[0]).blockedOn;)cm(n),null===n.blockedOn&&ch.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[eP]||null;if("function"==typeof s)a||cE(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[eP]||null)o=a.formAction;else if(null!==cr(i))continue}else o=a.action;"function"==typeof o?n[r+1]=o:(n.splice(r,3),r-=3),cE(n)}}}function c_(e){this._internalRoot=e}function ck(e){this._internalRoot=e}ck.prototype.render=c_.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));u3(t.current,o9(),e,t,null,null)},ck.prototype.unmount=c_.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;u3(e.current,2,null,e,null,null),ls(),t[eO]=null}},ck.prototype.unstable_scheduleHydration=function(e){if(e){var t=eN();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ch.length&&0!==t&&t<ch[n].priority;n++);ch.splice(n,0,e),0===n&&cm(e)}};var cT=s.version;if("19.1.0"!==cT)throw Error(o(527,cT,"19.1.0"));if(L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw Error(o(268,e=Object.keys(e).join(",")))}return e=null===(e=null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=u(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return h(i),e;if(s===r)return h(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t))?function e(t){var n=t.tag;if(5===n||26===n||27===n||6===n)return t;for(t=t.child;null!==t;){if(null!==(n=e(t)))return n;t=t.sibling}return null}(e):null)?null:e.stateNode},"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var cx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cx.isDisabled&&cx.supportsFiber)try{ec=cx.inject({bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.0"}),eh=cx}catch(e){}}tL=function(e,t){if(!l(e))throw Error(o(299));var n=!1,r="",i=ad,s=af,a=ap,u=null;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(a=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&(u=t.unstable_transitionCallbacks)),t=u2(e,1,!1,null,null,n,r,i,s,a,u,null),e[eO]=t.current,l2(e),new c_(t)},tM=function(e,t,n){if(!l(e))throw Error(o(299));var r=!1,i="",s=ad,a=af,u=ap,c=null,h=null;return null!=n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(a=n.onCaughtError),void 0!==n.onRecoverableError&&(u=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&(c=n.unstable_transitionCallbacks),void 0!==n.formState&&(h=n.formState)),(t=u2(e,1,!0,t,null!=n?n:null,r,i,s,a,u,c,h)).context=rt,n=t.current,(i=iy(r=eC(r=o9()))).callback=null,iv(n,i,r),n=r,t.current.lanes=n,ek(t,n),lU(t),e[eO]=t.current,l2(e),new ck(t)},tF="19.1.0"}),N("fO90s",function(e,t){e.exports=I("1wAW3")}),N("1wAW3",function(e,t){function n(e,t){var n=e.length;for(e.push(t);0<n;){var r=n-1>>>1,i=e[r];if(0<a(i,t))e[r]=t,e[n]=i,n=r;else break}}function i(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var r=0,i=e.length,s=i>>>1;r<s;){var o=2*(r+1)-1,l=e[o],u=o+1,c=e[u];if(0>a(l,n))u<i&&0>a(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[o]=n,r=o);else if(u<i&&0>a(c,n))e[r]=c,e[u]=n,r=u;else break}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(r(e.exports,"unstable_now",()=>o,e=>o=e),r(e.exports,"unstable_IdlePriority",()=>l,e=>l=e),r(e.exports,"unstable_ImmediatePriority",()=>u,e=>u=e),r(e.exports,"unstable_LowPriority",()=>c,e=>c=e),r(e.exports,"unstable_NormalPriority",()=>h,e=>h=e),r(e.exports,"unstable_Profiling",()=>d,e=>d=e),r(e.exports,"unstable_UserBlockingPriority",()=>f,e=>f=e),r(e.exports,"unstable_cancelCallback",()=>p,e=>p=e),r(e.exports,"unstable_forceFrameRate",()=>m,e=>m=e),r(e.exports,"unstable_getCurrentPriorityLevel",()=>g,e=>g=e),r(e.exports,"unstable_next",()=>y,e=>y=e),r(e.exports,"unstable_requestPaint",()=>v,e=>v=e),r(e.exports,"unstable_runWithPriority",()=>b,e=>b=e),r(e.exports,"unstable_scheduleCallback",()=>w,e=>w=e),r(e.exports,"unstable_shouldYield",()=>E,e=>E=e),r(e.exports,"unstable_wrapCallback",()=>S,e=>S=e),o=void 0,"object"==typeof performance&&"function"==typeof performance.now){var o,l,u,c,h,d,f,p,m,g,y,v,b,w,E,S,_,k=performance;o=function(){return k.now()}}else{var T=Date,x=T.now();o=function(){return T.now()-x}}var C=[],I=[],N=1,A=null,R=3,P=!1,O=!1,D=!1,L=!1,M="function"==typeof setTimeout?setTimeout:null,F="function"==typeof clearTimeout?clearTimeout:null,U="undefined"!=typeof setImmediate?setImmediate:null;function j(e){for(var t=i(I);null!==t;){if(null===t.callback)s(I);else if(t.startTime<=e)s(I),t.sortIndex=t.expirationTime,n(C,t);else break;t=i(I)}}function V(e){if(D=!1,j(e),!O)if(null!==i(C))O=!0,z||(z=!0,_());else{var t=i(I);null!==t&&Q(V,t.startTime-e)}}var z=!1,B=-1,$=5,q=-1;function H(){return!!L||!(o()-q<$)}function G(){if(L=!1,z){var e=o();q=e;var t=!0;try{e:{O=!1,D&&(D=!1,F(B),B=-1),P=!0;var n=R;try{t:{for(j(e),A=i(C);null!==A&&!(A.expirationTime>e&&H());){var r=A.callback;if("function"==typeof r){A.callback=null,R=A.priorityLevel;var a=r(A.expirationTime<=e);if(e=o(),"function"==typeof a){A.callback=a,j(e),t=!0;break t}A===i(C)&&s(C),j(e)}else s(C);A=i(C)}if(null!==A)t=!0;else{var l=i(I);null!==l&&Q(V,l.startTime-e),t=!1}}break e}finally{A=null,R=n,P=!1}}}finally{t?_():z=!1}}}if("function"==typeof U)_=function(){U(G)};else if("undefined"!=typeof MessageChannel){var W=new MessageChannel,K=W.port2;W.port1.onmessage=G,_=function(){K.postMessage(null)}}else _=function(){M(G,0)};function Q(e,t){B=M(function(){e(o())},t)}l=5,u=1,c=4,h=3,d=null,f=2,p=function(e){e.callback=null},m=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<e?Math.floor(1e3/e):5},g=function(){return R},y=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var n=R;R=t;try{return e()}finally{R=n}},v=function(){L=!0},b=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=R;R=e;try{return t()}finally{R=n}},w=function(e,t,r){var s=o();switch(r="object"==typeof r&&null!==r&&"number"==typeof(r=r.delay)&&0<r?s+r:s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=0x3fffffff;break;case 4:a=1e4;break;default:a=5e3}return a=r+a,e={id:N++,callback:t,priorityLevel:e,startTime:r,expirationTime:a,sortIndex:-1},r>s?(e.sortIndex=r,n(I,e),null===i(C)&&e===i(I)&&(D?(F(B),B=-1):D=!0,Q(V,r-s))):(e.sortIndex=a,n(C,e),O||P||(O=!0,z||(z=!0,_()))),e},E=H,S=function(e){var t=R;return function(){var n=R;R=t;try{return e.apply(this,arguments)}finally{R=n}}}}),N("acw62",function(e,t){e.exports=I("9Qu0I")}),N("1u0KT",function(e,t){!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=I("5R2tS")}),N("5R2tS",function(e,t){r(e.exports,"__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE",()=>n,e=>n=e),r(e.exports,"createPortal",()=>i,e=>i=e),r(e.exports,"flushSync",()=>s,e=>s=e),r(e.exports,"preconnect",()=>a,e=>a=e),r(e.exports,"prefetchDNS",()=>o,e=>o=e),r(e.exports,"preinit",()=>l,e=>l=e),r(e.exports,"preinitModule",()=>u,e=>u=e),r(e.exports,"preload",()=>c,e=>c=e),r(e.exports,"preloadModule",()=>h,e=>h=e),r(e.exports,"requestFormReset",()=>d,e=>d=e),r(e.exports,"unstable_batchedUpdates",()=>f,e=>f=e),r(e.exports,"useFormState",()=>p,e=>p=e),r(e.exports,"useFormStatus",()=>m,e=>m=e),r(e.exports,"version",()=>g,e=>g=e);var n,i,s,a,o,l,u,c,h,d,f,p,m,g,y=I("acw62");function v(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function b(){}var w={d:{f:b,r:function(){throw Error(v(522))},D:b,C:b,L:b,m:b,X:b,S:b,M:b},p:0,findDOMNode:null},E=Symbol.for("react.portal"),S=y.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}n=w,i=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(v(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},s=function(e){var t=S.T,n=w.p;try{if(S.T=null,w.p=2,e)return e()}finally{S.T=t,w.p=n,w.d.f()}},a=function(e,t){"string"==typeof e&&(t=t?"string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:null,w.d.C(e,t))},o=function(e){"string"==typeof e&&w.d.D(e)},l=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,r=_(n,t.crossOrigin),i="string"==typeof t.integrity?t.integrity:void 0,s="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?w.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):"script"===n&&w.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},u=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=_(t.as,t.crossOrigin);w.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&w.d.M(e)},c=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,r=_(n,t.crossOrigin);w.d.L(e,n,{crossOrigin:r,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},h=function(e,t){if("string"==typeof e)if(t){var n=_(t.as,t.crossOrigin);w.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else w.d.m(e)},d=function(e){w.d.r(e)},f=function(e,t){return e(t)},p=function(e,t,n){return S.H.useFormState(e,t,n)},m=function(){return S.H.useHostTransitionStatus()},g="19.1.0"});var A={};A=I("8rWe0");var R=I("acw62"),P={};!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),P=I("iWoMt");var R=I("acw62");const O=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:((64512&i)==55296&&r+1<e.length&&(64512&e.charCodeAt(r+1))==56320?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128):t[n++]=i>>12|224,t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t},D=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){let s=e[n++],a=((7&i)<<18|(63&s)<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{let s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")},L={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){let i=e[t],s=t+1<e.length,a=s?e[t+1]:0,o=t+2<e.length,l=o?e[t+2]:0,u=i>>2,c=(3&i)<<4|a>>4,h=(15&a)<<2|l>>6,d=63&l;!o&&(d=64,s||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(O(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):D(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){let i=n[e.charAt(t++)],s=t<e.length?n[e.charAt(t)]:0,a=++t<e.length?n[e.charAt(t)]:64,o=++t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==s||null==a||null==o)throw new M;let l=i<<2|s>>4;if(r.push(l),64!==a){let e=s<<4&240|a>>2;if(r.push(e),64!==o){let e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class M extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const F=function(e){let t=O(e);return L.encodeByteArray(t,!0)},U=function(e){return F(e).replace(/\./g,"")},j=function(e){try{return L.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},V=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==T)return T;throw Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{let e;if("undefined"==typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let t=e&&j(e[1]);return t&&JSON.parse(t)})()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},z=e=>V()?.emulatorHosts?.[e],B=()=>V()?.config,$=e=>V()?.[`_${e}`];class q{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function H(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function G(e){return(await fetch(e,{credentials:"include"})).ok}const W={};let K=!1;function Q(e,t){if("undefined"==typeof window||"undefined"==typeof document||!H(window.location.host)||W[e]===t||W[e]||K)return;function n(e){return`__firebase__banner__${e}`}W[e]=t;let r="__firebase__banner",i=function(){let e={prod:[],emulator:[]};for(let t of Object.keys(W))W[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){let e,t,s=(e=document.getElementById(r),t=!1,e||((e=document.createElement("div")).setAttribute("id",r),t=!0),{created:t,element:e}),a=n("text"),o=document.getElementById(a)||document.createElement("span"),l=n("learnmore"),u=document.getElementById(l)||document.createElement("a"),c=n("preprendIcon"),h=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(s.created){let e=s.element;e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center",u.setAttribute("id",l),u.innerText="Learn more",u.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",u.setAttribute("target","__blank"),u.style.paddingLeft="5px",u.style.textDecoration="underline";let t=function(){let e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{K=!0;let e=document.getElementById(r);e&&e.remove()},e}();h.setAttribute("width","24"),h.setAttribute("id",c),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px",e.append(h,o,u,t),document.body.appendChild(e)}i?(o.innerText="Preview backend disconnected.",h.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(h.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,o.innerText="Preview backend running in this workspace."),o.setAttribute("id",a)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function Y(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class X extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,X.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,J.prototype.create)}}class J{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){var n,r;let i=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],o=a?(n=a,r=i,n.replace(Z,(e,t)=>{let n=r[t];return null!=n?String(n):`<${t}?>`})):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new X(s,l,i)}}const Z=/\{\$([^}]+)}/g;function ee(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let n=e[i],s=t[i];if(et(n)&&et(s)){if(!ee(n,s))return!1}else if(n!==s)return!1}for(let e of r)if(!n.includes(e))return!1;return!0}function et(e){return null!==e&&"object"==typeof e}function en(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function er(e){let t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){let[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function ei(e){let t=e.indexOf("?");if(!t)return"";let n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class es{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw Error("Missing Observer.");void 0===(r=!function(e,t){if("object"!=typeof e||null===e)return!1;for(let n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?{next:e,error:t,complete:n}:e).next&&(r.next=ea),void 0===r.error&&(r.error=ea),void 0===r.complete&&(r.complete=ea);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ea(){}function eo(e){return e&&e._delegate?e._delegate:e}class el{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const eu="[DEFAULT]";class ec{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new q;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(n)return null;throw e}if(n)return null;throw Error(`Service ${this.name} is not available`)}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:eu})}catch(e){}for(let[e,t]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=eu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=eu){return this.instances.has(e)}getOptions(e=eu){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){let n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);let i=this.instances.get(n);return i&&e(i,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){let n=this.onInitCallbacks.get(t);if(n)for(let r of n)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){var n;let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e)===eu?void 0:n,options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=eu){return this.component?this.component.multipleInstances?e:eu:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class eh{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new ec(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ed=[];(s=o||(o={}))[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT";const ef={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},ep=o.INFO,em={[o.DEBUG]:"log",[o.VERBOSE]:"log",[o.INFO]:"info",[o.WARN]:"warn",[o.ERROR]:"error"},eg=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=em[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ey{constructor(e){this.name=e,this._logLevel=ep,this._logHandler=eg,this._userLogHandler=null,ed.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in o))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?ef[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,o.DEBUG,...e),this._logHandler(this,o.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,o.VERBOSE,...e),this._logHandler(this,o.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,o.INFO,...e),this._logHandler(this,o.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,o.WARN,...e),this._logHandler(this,o.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,o.ERROR,...e),this._logHandler(this,o.ERROR,...e)}}const ev=new WeakMap,eb=new WeakMap,ew=new WeakMap,eE=new WeakMap,eS=new WeakMap;let e_={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return eb.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ew.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ek(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function ek(n){if(n instanceof IDBRequest){let e=new Promise((e,t)=>{let r=()=>{n.removeEventListener("success",i),n.removeEventListener("error",s)},i=()=>{e(ek(n.result)),r()},s=()=>{t(n.error),r()};n.addEventListener("success",i),n.addEventListener("error",s)});return e.then(e=>{e instanceof IDBCursor&&ev.set(e,n)}).catch(()=>{}),eS.set(e,n),e}if(eE.has(n))return eE.get(n);let r=function(n){if("function"==typeof n)return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(t||(t=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(n)?function(...e){return n.apply(eT(this),e),ek(ev.get(this))}:function(...e){return ek(n.apply(eT(this),e))}:function(e,...t){let r=n.call(eT(this),e,...t);return ew.set(r,e.sort?e.sort():[e]),ek(r)};return n instanceof IDBTransaction&&function(e){if(eb.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});eb.set(e,t)}(n),(e||(e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>n instanceof e)?new Proxy(n,e_):n}(n);return r!==n&&(eE.set(n,r),eS.set(r,n)),r}const eT=e=>eS.get(e),ex=["get","getKey","getAll","getAllKeys","count"],eC=["put","add","delete","clear"],eI=new Map;function eN(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(eI.get(t))return eI.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=eC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ex.includes(n)))return;let s=async function(e,...t){let s=this.transaction(e,i?"readwrite":"readonly"),a=s.store;return r&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),i&&s.done]))[0]};return eI.set(t,s),s}e_={...n=e_,get:(e,t,r)=>eN(e,t)||n.get(e,t,r),has:(e,t)=>!!eN(e,t)||n.has(e,t)};class eA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(!function(e){let t=e.getComponent();return t?.type==="VERSION"}(e))return null;{let t=e.getImmediate();return`${t.library}/${t.version}`}}).filter(e=>e).join(" ")}}const eR="@firebase/app",eP="0.14.0",eO=new ey("@firebase/app"),eD="[DEFAULT]",eL={[eR]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/ai":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},eM=new Map,eF=new Map,eU=new Map;function ej(e,t){try{e.container.addComponent(t)}catch(n){eO.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function eV(e){let t=e.name;if(eU.has(t))return eO.debug(`There were multiple attempts to register component ${t}.`),!1;for(let n of(eU.set(t,e),eM.values()))ej(n,e);for(let t of eF.values())ej(t,e);return!0}function ez(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function eB(e){return null!=e&&void 0!==e.settings}const e$=new J("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class eq{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new el("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw e$.create("app-deleted",{appName:this._name})}}const eH="12.0.0";function eG(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});let r={name:eD,automaticDataCollectionEnabled:!0,...t},i=r.name;if("string"!=typeof i||!i)throw e$.create("bad-app-name",{appName:String(i)});if(n||(n=B()),!n)throw e$.create("no-options");let s=eM.get(i);if(s)if(ee(n,s.options)&&ee(r,s.config))return s;else throw e$.create("duplicate-app",{appName:i});let a=new eh(i);for(let e of eU.values())a.addComponent(e);let o=new eq(n,r,a);return eM.set(i,o),o}function eW(e=eD){let t=eM.get(e);if(!t&&e===eD&&B())return eG();if(!t)throw e$.create("no-app",{appName:e});return t}function eK(e,t,n){let r=eL[e]??e;n&&(r+=`-${n}`);let i=r.match(/\s|\//),s=t.match(/\s|\//);if(i||s){let e=[`Unable to register library "${r}" with version "${t}":`];i&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),eO.warn(e.join(" "));return}eV(new el(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const eQ="firebase-heartbeat-store";let eY=null;function eX(){return eY||(eY=(function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let a=indexedDB.open(e,1),o=ek(a);return r&&a.addEventListener("upgradeneeded",e=>{r(ek(a.result),e.oldVersion,e.newVersion,ek(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o})("firebase-heartbeat-database",0,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(eQ)}catch(e){console.warn(e)}}}).catch(e=>{throw e$.create("idb-open",{originalErrorMessage:e.message})})),eY}async function eJ(e){try{let t=(await eX()).transaction(eQ),n=await t.objectStore(eQ).get(e0(e));return await t.done,n}catch(e){if(e instanceof X)eO.warn(e.message);else{let t=e$.create("idb-get",{originalErrorMessage:e?.message});eO.warn(t.message)}}}async function eZ(e,t){try{let n=(await eX()).transaction(eQ,"readwrite"),r=n.objectStore(eQ);await r.put(t,e0(e)),await n.done}catch(e){if(e instanceof X)eO.warn(e.message);else{let t=e$.create("idb-set",{originalErrorMessage:e?.message});eO.warn(t.message)}}}function e0(e){return`${e.name}!${e.options.appId}`}class e1{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new e3(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{let e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=e2();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>30){let e=function(e){if(0===e.length)return -1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){eO.warn(e)}}async getHeartbeatsHeader(){try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||0===this._heartbeatsCache.heartbeats.length)return"";let e=e2(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){let n=[],r=e.slice();for(let i of e){let e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),e4(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),e4(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=U(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return eO.warn(e),""}}}function e2(){return new Date().toISOString().substring(0,10)}class e3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(e){return!1}}()&&new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(e){t(e)}}).then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};{let e=await eJ(this.app);return e?.heartbeats?e:{heartbeats:[]}}}async overwrite(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return eZ(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return eZ(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}}}function e4(e){return U(JSON.stringify({version:2,heartbeats:e})).length}eV(new el("platform-logger",e=>new eA(e),"PRIVATE")),eV(new el("heartbeat",e=>new e1(e),"PRIVATE")),eK(eR,eP,""),eK(eR,eP,"esm2020"),eK("fire-js",""),eK("firebase","12.0.0","app");var e6="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==T?T:"undefined"!=typeof self?self:{},e5={};(function(){function e(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.B=Array(this.blockSize),this.o=this.h=0,this.s()}var t=function(){this.blockSize=-1};function n(){}function r(e,t,n){n||(n=0);var r=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+0xd76aa478|0;a=s+(i^(t=n+(a<<7|a>>>25))&(n^i))+r[1]+0xe8c7b756|0,a=i+(n^(s=t+(a<<12|a>>>20))&(t^n))+r[2]+0x242070db|0,a=n+(t^(i=s+(a<<17|a>>>15))&(s^t))+r[3]+0xc1bdceee|0,a=t+(s^(n=i+(a<<22|a>>>10))&(i^s))+r[4]+0xf57c0faf|0,a=s+(i^(t=n+(a<<7|a>>>25))&(n^i))+r[5]+0x4787c62a|0,a=i+(n^(s=t+(a<<12|a>>>20))&(t^n))+r[6]+0xa8304613|0,a=n+(t^(i=s+(a<<17|a>>>15))&(s^t))+r[7]+0xfd469501|0,a=t+(s^(n=i+(a<<22|a>>>10))&(i^s))+r[8]+0x698098d8|0,a=s+(i^(t=n+(a<<7|a>>>25))&(n^i))+r[9]+0x8b44f7af|0,a=i+(n^(s=t+(a<<12|a>>>20))&(t^n))+r[10]+0xffff5bb1|0,a=n+(t^(i=s+(a<<17|a>>>15))&(s^t))+r[11]+0x895cd7be|0,a=t+(s^(n=i+(a<<22|a>>>10))&(i^s))+r[12]+0x6b901122|0,a=s+(i^(t=n+(a<<7|a>>>25))&(n^i))+r[13]+0xfd987193|0,a=i+(n^(s=t+(a<<12|a>>>20))&(t^n))+r[14]+0xa679438e|0,a=n+(t^(i=s+(a<<17|a>>>15))&(s^t))+r[15]+0x49b40821|0,n=i+(a<<22|a>>>10),a=t+(i^s&(n^i))+r[1]+0xf61e2562|0,t=n+(a<<5|a>>>27),a=s+(n^i&(t^n))+r[6]+0xc040b340|0,s=t+(a<<9|a>>>23),a=i+(t^n&(s^t))+r[11]+0x265e5a51|0,i=s+(a<<14|a>>>18),a=n+(s^t&(i^s))+r[0]+0xe9b6c7aa|0,n=i+(a<<20|a>>>12),a=t+(i^s&(n^i))+r[5]+0xd62f105d|0,t=n+(a<<5|a>>>27),a=s+(n^i&(t^n))+r[10]+0x2441453|0,s=t+(a<<9|a>>>23),a=i+(t^n&(s^t))+r[15]+0xd8a1e681|0,i=s+(a<<14|a>>>18),a=n+(s^t&(i^s))+r[4]+0xe7d3fbc8|0,n=i+(a<<20|a>>>12),a=t+(i^s&(n^i))+r[9]+0x21e1cde6|0,t=n+(a<<5|a>>>27),a=s+(n^i&(t^n))+r[14]+0xc33707d6|0,s=t+(a<<9|a>>>23),a=i+(t^n&(s^t))+r[3]+0xf4d50d87|0,i=s+(a<<14|a>>>18),a=n+(s^t&(i^s))+r[8]+0x455a14ed|0,n=i+(a<<20|a>>>12),a=t+(i^s&(n^i))+r[13]+0xa9e3e905|0,t=n+(a<<5|a>>>27),a=s+(n^i&(t^n))+r[2]+0xfcefa3f8|0,s=t+(a<<9|a>>>23),a=i+(t^n&(s^t))+r[7]+0x676f02d9|0,i=s+(a<<14|a>>>18),a=n+(s^t&(i^s))+r[12]+0x8d2a4c8a|0,a=t+((n=i+(a<<20|a>>>12))^i^s)+r[5]+0xfffa3942|0,a=s+((t=n+(a<<4|a>>>28))^n^i)+r[8]+0x8771f681|0,a=i+((s=t+(a<<11|a>>>21))^t^n)+r[11]+0x6d9d6122|0,a=n+((i=s+(a<<16|a>>>16))^s^t)+r[14]+0xfde5380c|0,a=t+((n=i+(a<<23|a>>>9))^i^s)+r[1]+0xa4beea44|0,a=s+((t=n+(a<<4|a>>>28))^n^i)+r[4]+0x4bdecfa9|0,a=i+((s=t+(a<<11|a>>>21))^t^n)+r[7]+0xf6bb4b60|0,a=n+((i=s+(a<<16|a>>>16))^s^t)+r[10]+0xbebfbc70|0,a=t+((n=i+(a<<23|a>>>9))^i^s)+r[13]+0x289b7ec6|0,a=s+((t=n+(a<<4|a>>>28))^n^i)+r[0]+0xeaa127fa|0,a=i+((s=t+(a<<11|a>>>21))^t^n)+r[3]+0xd4ef3085|0,a=n+((i=s+(a<<16|a>>>16))^s^t)+r[6]+0x4881d05|0,a=t+((n=i+(a<<23|a>>>9))^i^s)+r[9]+0xd9d4d039|0,a=s+((t=n+(a<<4|a>>>28))^n^i)+r[12]+0xe6db99e5|0,a=i+((s=t+(a<<11|a>>>21))^t^n)+r[15]+0x1fa27cf8|0,a=n+((i=s+(a<<16|a>>>16))^s^t)+r[2]+0xc4ac5665|0,n=i+(a<<23|a>>>9),a=t+(i^(n|~s))+r[0]+0xf4292244|0,t=n+(a<<6|a>>>26),a=s+(n^(t|~i))+r[7]+0x432aff97|0,s=t+(a<<10|a>>>22),a=i+(t^(s|~n))+r[14]+0xab9423a7|0,i=s+(a<<15|a>>>17),a=n+(s^(i|~t))+r[5]+0xfc93a039|0,n=i+(a<<21|a>>>11),a=t+(i^(n|~s))+r[12]+0x655b59c3|0,t=n+(a<<6|a>>>26),a=s+(n^(t|~i))+r[3]+0x8f0ccc92|0,s=t+(a<<10|a>>>22),a=i+(t^(s|~n))+r[10]+0xffeff47d|0,i=s+(a<<15|a>>>17),a=n+(s^(i|~t))+r[1]+0x85845dd1|0,n=i+(a<<21|a>>>11),a=t+(i^(n|~s))+r[8]+0x6fa87e4f|0,t=n+(a<<6|a>>>26),a=s+(n^(t|~i))+r[15]+0xfe2ce6e0|0,s=t+(a<<10|a>>>22),a=i+(t^(s|~n))+r[6]+0xa3014314|0,i=s+(a<<15|a>>>17),a=n+(s^(i|~t))+r[13]+0x4e0811a1|0,n=i+(a<<21|a>>>11),a=t+(i^(n|~s))+r[4]+0xf7537e82|0,t=n+(a<<6|a>>>26),a=s+(n^(t|~i))+r[11]+0xbd3af235|0,s=t+(a<<10|a>>>22),a=i+(t^(s|~n))+r[2]+0x2ad7d2bb|0,i=s+(a<<15|a>>>17),a=n+(s^(i|~t))+r[9]+0xeb86d391|0,e.g[0]=e.g[0]+t|0,e.g[1]=e.g[1]+(i+(a<<21|a>>>11))|0,e.g[2]=e.g[2]+i|0,e.g[3]=e.g[3]+s|0}function i(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)},e.prototype.s=function(){this.g[0]=0x67452301,this.g[1]=0xefcdab89,this.g[2]=0x98badcfe,this.g[3]=0x10325476,this.o=this.h=0},e.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=n;)r(this,e,a),a+=this.blockSize;if("string"==typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){r(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){r(this,i),s=0;break}}this.h=s,this.o+=t},e.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var s,a={};function o(e){var t;return -128<=e&&128>e?(t=function(e){return new i([0|e],0>e?-1:0)},Object.prototype.hasOwnProperty.call(a,e)?a[e]:a[e]=t(e)):new i([0|e],0>e?-1:0)}function c(e){if(isNaN(e)||!isFinite(e))return h;if(0>e)return g(c(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=0x100000000;return new i(t,0)}var h=o(0),d=o(1),f=o(0x1000000);function p(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function m(e){return -1==e.h}function g(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new i(n,~e.h).add(d)}function y(e,t){return e.add(g(t))}function v(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function b(e,t){this.g=e,this.h=t}function w(e,t){if(p(t))throw Error("division by zero");if(p(e))return new b(h,h);if(m(e))return t=w(g(e),t),new b(g(t.g),g(t.h));if(m(t))return t=w(e,g(t)),new b(g(t.g),t.h);if(30<e.g.length){if(m(e)||m(t))throw Error("slowDivide_ only works with positive integers.");for(var n=d,r=t;0>=r.l(e);)n=E(n),r=E(r);var i=S(n,1),s=S(r,1);for(r=S(r,2),n=S(n,2);!p(r);){var a=s.add(r);0>=a.l(e)&&(i=i.add(n),s=a),r=S(r,1),n=S(n,1)}return t=y(e,i.j(t)),new b(i,t)}for(i=h;0<=e.l(t);){for(r=48>=(r=Math.ceil(Math.log(n=Math.max(1,Math.floor(e.m()/t.m())))/Math.LN2))?1:Math.pow(2,r-48),a=(s=c(n)).j(t);m(a)||0<a.l(e);)n-=r,a=(s=c(n)).j(t);p(s)&&(s=d),i=i.add(s),e=y(e,a)}return new b(i,e)}function E(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new i(n,e.h)}function S(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,s=[],a=0;a<r;a++)s[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new i(s,e.h)}(s=i.prototype).m=function(){if(m(this))return-g(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:0x100000000+r)*t,t*=0x100000000}return e},s.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(p(this))return"0";if(m(this))return"-"+g(this).toString(e);for(var t=c(Math.pow(e,6)),n=this,r="";;){var i=w(n,t).g,s=((0<(n=y(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(p(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},s.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},s.l=function(e){return m(e=y(this,e))?-1:+!p(e)},s.abs=function(){return m(this)?g(this):this},s.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,s=0;s<=t;s++){var a=r+(65535&this.i(s))+(65535&e.i(s)),o=(a>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);r=o>>>16,a&=65535,o&=65535,n[s]=o<<16|a}return new i(n,-0x80000000&n[n.length-1]?-1:0)},s.j=function(e){if(p(this)||p(e))return h;if(m(this))return m(e)?g(this).j(g(e)):g(g(this).j(e));if(m(e))return g(this.j(g(e)));if(0>this.l(f)&&0>e.l(f))return c(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<e.g.length;s++){var a=this.i(r)>>>16,o=65535&this.i(r),l=e.i(s)>>>16,u=65535&e.i(s);n[2*r+2*s]+=o*u,v(n,2*r+2*s),n[2*r+2*s+1]+=a*u,v(n,2*r+2*s+1),n[2*r+2*s+1]+=o*l,v(n,2*r+2*s+1),n[2*r+2*s+2]+=a*l,v(n,2*r+2*s+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new i(n,0)},s.A=function(e){return w(this,e).h},s.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new i(n,this.h&e.h)},s.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new i(n,this.h|e.h)},s.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new i(n,this.h^e.h)},e.prototype.digest=e.prototype.v,e.prototype.reset=e.prototype.s,e.prototype.update=e.prototype.u,u=e5.Md5=e,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.A,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=c,i.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return g(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=c(Math.pow(n,8)),i=h,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+a),n);8>a?(a=c(Math.pow(n,a)),i=i.j(a).add(c(o))):i=(i=i.j(r)).add(c(o))}return i},l=e5.Integer=i}).apply(void 0!==e6?e6:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var e8="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==T?T:"undefined"!=typeof self?self:{},e7={};(function(){var e,t,n,r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},i=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof e8&&e8];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,t){if(t)e:{var n=i;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in n))break e;n=n[a]}(t=t(s=n[e=e[e.length-1]]))!=s&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}("Array.prototype.values",function(e){return e||function(){var e,t,n,r,i;return e=this,t=function(e,t){return t},e instanceof String&&(e+=""),n=0,r=!1,(i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}})[Symbol.iterator]=function(){return i},i}});var s=s||{},a=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function l(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function u(e,t,n){return e.call.apply(e.bind,arguments)}function v(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function b(e,t,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?u:v).apply(null,arguments)}function w(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function E(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function S(e){let t=e.length;if(0<t){let n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function _(e,t){for(let t=1;t<arguments.length;t++){let n=arguments[t];if(o(n)){let t=e.length||0,r=n.length||0;e.length=t+r;for(let i=0;i<r;i++)e[t+i]=n[i]}else e.push(n)}}function k(e){return/^[\s\xa0]*$/.test(e)}function T(){var e=a.navigator;return e&&(e=e.userAgent)?e:""}function x(e){return x[" "](e),e}x[" "]=function(){};var C=-1!=T().indexOf("Gecko")&&(-1==T().toLowerCase().indexOf("webkit")||-1!=T().indexOf("Edge"))&&-1==T().indexOf("Trident")&&-1==T().indexOf("MSIE")&&-1==T().indexOf("Edge");function I(e,t,n){for(let r in e)t.call(n,e[r],r,e)}function N(e){let t={};for(let n in e)t[n]=e[n];return t}let A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t])e[n]=r[n];for(let t=0;t<A.length;t++)n=A[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}var P=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new O,e=>e.reset());class O{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let D,L=!1,M=new class{constructor(){this.h=this.g=null}add(e,t){let n=P.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},F=()=>{let e=a.Promise.resolve(void 0);D=()=>{e.then(U)}};var U=()=>{let e;for(var t;e=null,M.g&&(e=M.g,M.g=M.g.next,M.g||(M.h=null),e.next=null),t=e;){try{t.h.call(t.g)}catch(e){!function(e){a.setTimeout(()=>{throw e},0)}(e)}P.j(t),100>P.h&&(P.h++,t.next=P.g,P.g=t)}L=!1};function j(){this.s=this.s,this.C=this.C}function V(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}j.prototype.s=!1,j.prototype.ma=function(){this.s||(this.s=!0,this.N())},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},V.prototype.h=function(){this.defaultPrevented=!0};var z=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{let e=()=>{};a.addEventListener("test",e,t),a.removeEventListener("test",e,t)}catch(e){}return e}();function B(e,t){if(V.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(C){e:{try{x(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:$[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&B.aa.h.call(this)}}E(B,V);var $={2:"touch",3:"pen",4:"mouse"};B.prototype.h=function(){B.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var q="closure_listenable_"+(1e6*Math.random()|0),H=0;function G(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++H,this.da=this.fa=!1}function W(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function K(e){this.src=e,this.g={},this.h=0}function Q(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(W(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Y(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&!!n==s.capture&&s.ha==r)return i}return -1}K.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=Y(e,t,r,i);return -1<a?(t=e[a],n||(t.fa=!1)):((t=new G(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var X="closure_lm_"+(1e6*Math.random()|0),J={};function Z(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=l(i)?!!i.capture:!!i,o=er(e);if(o||(e[X]=o=new K(e)),(n=o.add(t,n,r,a,s)).proxy)return n;if(r=function e(t){return en.call(e.src,e.listener,t)},n.proxy=r,r.src=e,r.listener=n,e.addEventListener)z||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(et(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function ee(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[q])Q(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(et(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=er(t))?(Q(n,e),0==n.h&&(n.src=null,t[X]=null)):W(e)}}}function et(e){return e in J?J[e]:J[e]="on"+e}function en(e,t){if(e.da)e=!0;else{t=new B(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&ee(e),e=n.call(r,t)}return e}function er(e){return(e=e[X])instanceof K?e:null}var ei="__closure_events_fn_"+(1e9*Math.random()>>>0);function es(e){return"function"==typeof e?e:(e[ei]||(e[ei]=function(t){return e.handleEvent(t)}),e[ei])}function ea(){j.call(this),this.i=new K(this),this.M=this,this.F=null}function eo(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"==typeof t)t=new V(t,e);else if(t instanceof V)t.target=t.target||e;else{var i=t;R(t=new V(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=el(a,r,!0,t)&&i}if(i=el(a=t.g=e,r,!0,t)&&i,i=el(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=el(a=t.g=n[s],r,!1,t)&&i}function el(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&Q(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function eu(e,t,n){if("function"==typeof e)n&&(e=b(e,n));else if(e&&"function"==typeof e.handleEvent)e=b(e.handleEvent,e);else throw Error("Invalid listener argument");return 0x7fffffff<Number(t)?-1:a.setTimeout(e,t||0)}E(ea,j),ea.prototype[q]=!0,ea.prototype.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,s){if(Array.isArray(n))for(var a=0;a<n.length;a++)e(t,n[a],r,i,s);else(i=l(i)?!!i.capture:!!i,r=es(r),t&&t[q])?(t=t.i,(n=String(n).toString())in t.g&&-1<(r=Y(a=t.g[n],r,i,s))&&(W(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete t.g[n],t.h--))):t&&(t=er(t))&&(n=t.g[n.toString()],t=-1,n&&(t=Y(n,r,i,s)),(r=-1<t?n[t]:null)&&ee(r))}(this,e,t,n,r)},ea.prototype.N=function(){if(ea.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)W(n[r]);delete t.g[e],t.h--}}this.F=null},ea.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ea.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ec extends j{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=eu(()=>{t.g=null,t.i&&(t.i=!1,e(t))},t.l);let n=t.h;t.h=null,t.m.apply(null,n)}(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function eh(e){j.call(this),this.h=e,this.g={}}E(eh,j);var ed=[];function ef(e){I(e.g,function(e,t){this.g.hasOwnProperty(t)&&ee(e)},e),e.g={}}eh.prototype.N=function(){eh.aa.N.call(this),ef(this)},eh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ep=a.JSON.stringify,em=a.JSON.parse,eg=class{stringify(e){return a.JSON.stringify(e,void 0)}parse(e){return a.JSON.parse(e,void 0)}};function ey(){}function ev(e){return e.h||(e.h=e.i())}function eb(){}ey.prototype.h=null;var ew={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function eE(){V.call(this,"d")}function eS(){V.call(this,"c")}E(eE,V),E(eS,V);var e_={},ek=null;function eT(){return ek=ek||new ea}function ex(e){V.call(this,e_.La,e)}function eC(e){let t=eT();eo(t,new ex(t))}function eI(e,t){V.call(this,e_.STAT_EVENT,e),this.stat=t}function eN(e){let t=eT();eo(t,new eI(t,e))}function eA(e,t){V.call(this,e_.Ma,e),this.size=t}function eR(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){e()},t)}function eP(){this.g=!0}function eO(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}}return ep(n)}catch(e){return t}}(e,n)+(r?" "+r:"")})}e_.La="serverreachability",E(ex,V),e_.STAT_EVENT="statevent",E(eI,V),e_.Ma="timingevent",E(eA,V),eP.prototype.xa=function(){this.g=!1},eP.prototype.info=function(){};var eD={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},eL={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function eM(){}function eF(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new eh(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new eU}function eU(){this.i=null,this.g="",this.h=!1}E(eM,ey),eM.prototype.g=function(){return new XMLHttpRequest},eM.prototype.i=function(){return{}},t=new eM;var ej={},eV={};function ez(e,t,n){e.L=1,e.v=ti(e9(t)),e.m=n,e.P=!0,eB(e,null)}function eB(e,t){e.F=Date.now(),eq(e),e.A=e9(e.v);var n,r,i,s,a,o,u=e.A,c=e.R;Array.isArray(c)||(c=[String(c)]),ty(u.i,"t",c),e.C=0,u=e.j.J,e.h=new eU,e.g=t3(e.j,u?t:null,!e.m),0<e.O&&(e.M=new ec(b(e.Y,e,e.g),e.O)),t=e.U,u=e.g,c=e.ca;var h="readystatechange";Array.isArray(h)||(h&&(ed[0]=h.toString()),h=ed);for(var d=0;d<h.length;d++){var f=function e(t,n,r,i,s){if(i&&i.once)return function e(t,n,r,i,s){if(Array.isArray(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,i,s);return null}return r=es(r),t&&t[q]?t.L(n,r,l(i)?!!i.capture:!!i,s):Z(t,n,r,!0,i,s)}(t,n,r,i,s);if(Array.isArray(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,i,s);return null}return r=es(r),t&&t[q]?t.K(n,r,l(i)?!!i.capture:!!i,s):Z(t,n,r,!1,i,s)}(u,h[d],c||t.handleEvent,!1,t.h||t);if(!f)break;t.g[f.key]=f}t=e.H?N(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),eC(),n=e.i,r=e.u,i=e.A,s=e.l,a=e.R,o=e.m,n.info(function(){if(n.g)if(o)for(var e="",t=o.split("&"),l=0;l<t.length;l++){var u=t[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");e=2<=h.length&&"type"==h[1]?e+(c+"=")+u+"&":e+(c+"=redacted&")}}else e=null;else e=o;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+r+"\n"+i+"\n"+e})}function e$(e){return!!e.g&&"GET"==e.u&&2!=e.L&&e.j.Ca}function eq(e){e.S=Date.now()+e.I,eH(e,e.I)}function eH(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=eR(b(e.ba,e),t)}function eG(e){e.B&&(a.clearTimeout(e.B),e.B=null)}function eW(e){0==e.j.G||e.J||tJ(e.j,e)}function eK(e){eG(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ef(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function eQ(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||e0(n.h,e))){if(!e.K&&e0(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)tX(n),tz(n);else break e;tK(n),eN(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=eR(b(n.Za,n),6e3));if(1>=eZ(n.h)&&n.ca){try{n.ca()}catch(e){}n.ca=void 0}}else t0(n,11)}else if((e.K||n.g==e)&&tX(n),!k(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let o=i[t];if(n.T=o[0],o=o[1],2==n.G)if("c"==o[0]){n.K=o[1],n.ia=o[2];let t=o[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));let i=o[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));let l=o[5];null!=l&&"number"==typeof l&&0<l&&(n.L=r=1.5*l,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;let u=e.g;if(u){let e=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(e1(s,s.h),s.h=null))}if(r.D){let e=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,tr(r.I,r.D,e))}}if(n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms")),(r=n).qa=t2(r,r.J?r.ia:null,r.W),e.K){e2(r.h,e);var a=r.L;a&&(e.I=a),e.B&&(eG(e),eq(e)),r.g=e}else tW(r);0<n.i.length&&t$(n)}else"stop"!=o[0]&&"close"!=o[0]||t0(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?t0(n,7):tV(n):"noop"!=o[0]&&n.l&&n.l.ta(o),n.v=0)}}eC(4)}catch(e){}}eF.prototype.ca=function(e){e=e.target;let t=this.M;t&&3==tM(e)?t.j():this.Y(e)},eF.prototype.Y=function(e){try{if(e==this.g)e:{let v=tM(this.g);var t=this.g.Ba();let b=this.g.Z();if(!(3>v)&&(3!=v||this.g&&(this.h.h||this.g.oa()||tF(this.g)))){this.J||4!=v||7==t||(8==t||0>=b?eC(3):eC(2)),eG(this);var n=this.g.Z();this.X=n;t:if(e$(this)){var r=tF(this.g);e="";var i=r.length,s=4==tM(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){eK(this),eW(this);var o="";break t}this.h.i=new a.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,l=this.i,u=this.u,c=this.A,h=this.l,d=this.R,f=n,l.info(function(){return"XMLHTTP RESP ("+h+") [ attempt "+d+"]: "+u+"\n"+c+"\n"+v+" "+f}),this.o){if(this.T&&!this.K){t:{if(this.g){var l,u,c,h,d,f,p,m=this.g;if((p=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(p)){var g=p;break t}}g=null}if(n=g)eO(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eQ(this,n);else{this.o=!1,this.s=3,eN(12),eK(this),eW(this);break e}}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;)if((e=function(e,t){var n=e.C,r=t.indexOf("\n",n);return -1==r?eV:isNaN(n=Number(t.substring(n,r)))?ej:(r+=1)+n>t.length?eV:(t=t.slice(r,r+n),e.C=r+n,t)}(this,o))==eV){4==v&&(this.s=4,eN(14),n=!1),eO(this.i,this.l,null,"[Incomplete Response]");break}else if(e==ej){this.s=4,eN(15),eO(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}else eO(this.i,this.l,e,null),eQ(this,e);if(e$(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=v||0!=o.length||this.h.h||(this.s=1,eN(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var y=this.j;y.g==this&&y.ba&&!y.M&&(y.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),tQ(y),y.M=!0,eN(11))}}else eO(this.i,this.l,o,"[Invalid Chunked Response]"),eK(this),eW(this)}else eO(this.i,this.l,o,null),eQ(this,o);4==v&&eK(this),this.o&&!this.J&&(4==v?tJ(this.j,this):(this.o=!1,eq(this)))}else(function(e){let t={};e=(e.g&&2<=tM(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(k(e[r]))continue;var n=function(e){var t=1;e=e.split(":");let n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}(e[r]);let i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();let s=t[i]||[];t[i]=s,s.push(n)}var r=function(e){return e.join(", ")};for(let e in t)r.call(void 0,t[e],e,t)})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,eN(12)):(this.s=0,eN(13)),eK(this),eW(this)}}}catch(e){}finally{}},eF.prototype.cancel=function(){this.J=!0,eK(this)},eF.prototype.ba=function(){var e,t;this.B=null;let n=Date.now();0<=n-this.S?(e=this.i,t=this.A,e.info(function(){return"TIMEOUT: "+t}),2!=this.L&&(eC(),eN(17)),eK(this),this.s=2,eW(this)):eH(this,this.S-n)};var eY=class{constructor(e,t){this.g=e,this.map=t}};function eX(e){this.l=e||10,e=a.PerformanceNavigationTiming?0<(e=a.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function eJ(e){return!!e.h||!!e.g&&e.g.size>=e.j}function eZ(e){return e.h?1:e.g?e.g.size:0}function e0(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function e1(e,t){e.g?e.g.add(t):e.h=t}function e2(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function e3(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(let n of e.g.values())t=t.concat(n.D);return t}return S(e.i)}function e4(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(o(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(let r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}eX.prototype.cancel=function(){if(this.i=e3(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(let e of this.g.values())e.cancel();this.g.clear()}};var e6=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function e5(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof e5){this.h=e.h,te(this,e.j),this.o=e.o,this.g=e.g,tt(this,e.s),this.l=e.l;var t=e.i,n=new tf;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),tn(this,n),this.m=e.m}else e&&(t=String(e).match(e6))?(this.h=!1,te(this,t[1]||"",!0),this.o=ts(t[2]||""),this.g=ts(t[3]||"",!0),tt(this,t[4]),this.l=ts(t[5]||"",!0),tn(this,t[6]||"",!0),this.m=ts(t[7]||"")):(this.h=!1,this.i=new tf(null,this.h))}function e9(e){return new e5(e)}function te(e,t,n){e.j=n?ts(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function tt(e,t){if(t){if(isNaN(t=Number(t))||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function tn(e,t,n){var r,i;t instanceof tf?(e.i=t,r=e.i,(i=e.h)&&!r.j&&(tp(r),r.i=null,r.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(tm(this,t),ty(this,n,e))},r)),r.j=i):(n||(t=ta(t,th)),e.i=new tf(t,e.h))}function tr(e,t,n){e.i.set(t,n)}function ti(e){return tr(e,"zx",Math.floor(0x80000000*Math.random()).toString(36)+Math.abs(Math.floor(0x80000000*Math.random())^Date.now()).toString(36)),e}function ts(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ta(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,to),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function to(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}e5.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ta(t,tl,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ta(t,tl,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ta(n,"/"==n.charAt(0)?tc:tu,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ta(n,td)),e.join("")};var tl=/[#\/\?@]/g,tu=/[#\?:]/g,tc=/[#\?]/g,th=/[#\?@]/g,td=/#/g;function tf(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function tp(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function tm(e,t){tp(e),t=tv(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function tg(e,t){return tp(e),t=tv(e,t),e.g.has(t)}function ty(e,t,n){tm(e,t),0<n.length&&(e.i=null,e.g.set(tv(e,t),S(n)),e.h+=n.length)}function tv(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function tb(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(e){}}function tw(){this.g=new eg}function tE(e){this.l=e.Ub||null,this.j=e.eb||!1}function tS(e,t){ea.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function t_(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function tk(e){e.readyState=4,e.l=null,e.j=null,e.v=null,tT(e)}function tT(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function tx(e){let t="";return I(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function tC(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=tx(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):tr(e,t,n))}function tI(e){ea.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=tf.prototype).add=function(e,t){tp(this),this.i=null,e=tv(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},n.forEach=function(e,t){tp(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},n.na=function(){tp(this);let e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){let i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},n.V=function(e){tp(this);let t=[];if("string"==typeof e)tg(this,e)&&(t=t.concat(this.g.get(tv(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},n.set=function(e,t){return tp(this),this.i=null,tg(this,e=tv(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},n.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];let s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},E(tE,ey),tE.prototype.g=function(){return new tS(this.l,this.j)},tE.prototype.i=(e={},function(){return e}),E(tS,ea),(n=tS.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,tT(this)},n.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;let t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||a).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,tk(this)),this.readyState=0},n.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,tT(this)),this.g&&(this.readyState=3,tT(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==a.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;t_(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?tk(this):tT(this),3==this.readyState&&t_(this)}},n.Ra=function(e){this.g&&(this.response=this.responseText=e,tk(this))},n.Qa=function(e){this.g&&(this.response=e,tk(this))},n.ga=function(){this.g&&tk(this)},n.setRequestHeader=function(e,t){this.u.append(e,t)},n.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let e=[],t=this.h.entries();for(var n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(tS.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),E(tI,ea);var tN=/^https?$/i,tA=["POST","PUT"];function tR(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,tP(e),tD(e)}function tP(e){e.A||(e.A=!0,eo(e,"complete"),eo(e,"error"))}function tO(e){if(e.h&&void 0!==s&&(!e.v[1]||4!=tM(e)||2!=e.Z())){if(e.u&&4==tM(e))eu(e.Ea,0,e);else if(eo(e,"readystatechange"),4==tM(e)){e.h=!1;try{let s=e.Z();switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t,n,r=!0;break;default:r=!1}if(!(t=r)){if(n=0===s){var i=String(e.D).match(e6)[1]||null;!i&&a.self&&a.self.location&&(i=a.self.location.protocol.slice(0,-1)),n=!tN.test(i?i.toLowerCase():"")}t=n}if(t)eo(e,"complete"),eo(e,"success");else{e.m=6;try{var o=2<tM(e)?e.g.statusText:""}catch(e){o=""}e.l=o+" ["+e.Z()+"]",tP(e)}}finally{tD(e)}}}}function tD(e,t){if(e.g){tL(e);let n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||eo(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function tL(e){e.I&&(a.clearTimeout(e.I),e.I=null)}function tM(e){return e.g?e.g.readyState:0}function tF(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function tU(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function tj(e){this.Aa=0,this.i=[],this.j=new eP,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=tU("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=tU("baseRetryDelayMs",5e3,e),this.cb=tU("retryDelaySeedMs",1e4,e),this.Wa=tU("forwardChannelMaxRetries",2,e),this.wa=tU("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new eX(e&&e.concurrentRequestLimit),this.Da=new tw,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function tV(e){if(tB(e),3==e.G){var t=e.U++,n=e9(e.I);if(tr(n,"SID",e.K),tr(n,"RID",t),tr(n,"TYPE","terminate"),tH(e,n),(t=new eF(e,e.j,t)).L=2,t.v=ti(e9(n)),n=!1,a.navigator&&a.navigator.sendBeacon)try{n=a.navigator.sendBeacon(t.v.toString(),"")}catch(e){}!n&&a.Image&&((new Image).src=t.v,n=!0),n||(t.g=t3(t.j,null),t.g.ea(t.v)),t.F=Date.now(),eq(t)}t1(e)}function tz(e){e.g&&(tQ(e),e.g.cancel(),e.g=null)}function tB(e){tz(e),e.u&&(a.clearTimeout(e.u),e.u=null),tX(e),e.h.cancel(),e.s&&("number"==typeof e.s&&a.clearTimeout(e.s),e.s=null)}function t$(e){if(!eJ(e.h)&&!e.s){e.s=!0;var t=e.Ga;D||F(),L||(D(),L=!0),M.add(t,e),e.B=0}}function tq(e,t){var n;n=t?t.l:e.U++;let r=e9(e.I);tr(r,"SID",e.K),tr(r,"RID",n),tr(r,"AID",e.T),tH(e,r),e.m&&e.o&&tC(r,e.m,e.o),n=new eF(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tG(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),e1(e.h,n),ez(n,r,t)}function tH(e,t){e.H&&I(e.H,function(e,n){tr(t,n,e)}),e.l&&e4({},function(e,n){tr(t,n,e)})}function tG(e,t,n){n=Math.min(e.i.length,n);var r=e.l?b(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){let e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g,o=i[a].map;if(0>(n-=t))t=Math.max(0,i[a].g-100),s=!1;else try{!function(e,t,n){let r=n||"";try{e4(e,function(e,n){let i=e;l(e)&&(i=ep(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}(o,e,"req"+n+"_")}catch(e){r&&r(o)}}if(s){r=e.join("&");break e}}}return t.D=e=e.i.splice(0,n),r}function tW(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;D||F(),L||(D(),L=!0),M.add(t,e),e.v=0}}function tK(e){return!e.g&&!e.u&&!(3<=e.v)&&(e.Y++,e.u=eR(b(e.Fa,e),tZ(e,e.v)),e.v++,!0)}function tQ(e){null!=e.A&&(a.clearTimeout(e.A),e.A=null)}function tY(e){e.g=new eF(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=e9(e.qa);tr(t,"RID","rpc"),tr(t,"SID",e.K),tr(t,"AID",e.T),tr(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&tr(t,"TO",e.ja),tr(t,"TYPE","xmlhttp"),tH(e,t),e.m&&e.o&&tC(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ti(e9(t)),n.m=null,n.P=!0,eB(n,e)}function tX(e){null!=e.C&&(a.clearTimeout(e.C),e.C=null)}function tJ(e,t){var n,r=null;if(e.g==t){tX(e),tQ(e),e.g=null;var i=2}else{if(!e0(e.h,t))return;r=t.D,e2(e.h,t),i=1}if(0!=e.G){if(t.o)if(1==i){r=t.m?t.m.length:0,t=Date.now()-t.F;var s=e.B;eo(i=eT(),new eA(i,r)),t$(e)}else tW(e);else if(3==(s=t.s)||0==s&&0<t.X||!(1==i&&(n=t,!(eZ(e.h)>=e.h.j-!!e.s)&&(e.s?(e.i=n.D.concat(e.i),!0):1!=e.G&&2!=e.G&&!(e.B>=(e.Va?0:e.Wa))&&(e.s=eR(b(e.Ga,e,n),tZ(e,e.B)),e.B++,!0)))||2==i&&tK(e)))switch(r&&0<r.length&&((t=e.h).i=t.i.concat(r)),s){case 1:t0(e,5);break;case 4:t0(e,10);break;case 3:t0(e,6);break;default:t0(e,2)}}}function tZ(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function t0(e,t){if(e.j.info("Error code "+t),2==t){var n=b(e.fb,e),r=e.Xa;let t=!r;r=new e5(r||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||te(r,"https"),ti(r),t?function(e,t){let n=new eP;if(a.Image){let r=new Image;r.onload=w(tb,n,"TestLoadImage: loaded",!0,t,r),r.onerror=w(tb,n,"TestLoadImage: error",!1,t,r),r.onabort=w(tb,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=w(tb,n,"TestLoadImage: timeout",!1,t,r),a.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){let n=new eP,r=new AbortController,i=setTimeout(()=>{r.abort(),tb(n,"TestPingServer: timeout",!1,t)},1e4);fetch(e,{signal:r.signal}).then(e=>{clearTimeout(i),e.ok?tb(n,"TestPingServer: ok",!0,t):tb(n,"TestPingServer: server error",!1,t)}).catch(()=>{clearTimeout(i),tb(n,"TestPingServer: error",!1,t)})}(r.toString(),n)}else eN(2);e.G=0,e.l&&e.l.sa(t),t1(e),tB(e)}function t1(e){if(e.G=0,e.ka=[],e.l){let t=e3(e.h);(0!=t.length||0!=e.i.length)&&(_(e.ka,t),_(e.ka,e.i),e.h.i.length=0,S(e.i),e.i.length=0),e.l.ra()}}function t2(e,t,n){var r=n instanceof e5?e9(n):new e5(n);if(""!=r.g)t&&(r.g=t+"."+r.g),tt(r,r.s);else{var i=a.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new e5(null);r&&te(s,r),t&&(s.g=t),i&&tt(s,i),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&tr(r,n,t),tr(r,"VER",e.la),tH(e,r),r}function t3(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new tI(e.Ca&&!e.pa?new tE({eb:n}):e.pa)).Ha(e.J),t}function t4(){}function t6(){}function t5(e,t){ea.call(this),this.g=new tj(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!k(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!k(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new t9(this)}function t8(e){eE.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(let n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function t7(){eS.call(this),this.status=1}function t9(e){this.g=e}(n=tI.prototype).Ha=function(e){this.J=e},n.ea=function(e,n,r,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);n=n?n.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():t.g(),this.v=this.o?ev(this.o):ev(t),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(n,String(e),!0),this.B=!1}catch(e){tR(this,e);return}if(e=r||"",r=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)r.set(s,i[s]);else if("function"==typeof i.keys&&"function"==typeof i.get)for(let e of i.keys())r.set(e,i.get(e));else throw Error("Unknown input type for opt_headers: "+String(i));for(let[t,o]of(i=Array.from(r.keys()).find(e=>"content-type"==e.toLowerCase()),s=a.FormData&&e instanceof a.FormData,!(0<=Array.prototype.indexOf.call(tA,n,void 0))||i||s||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r))this.g.setRequestHeader(t,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tL(this),this.u=!0,this.g.send(e),this.u=!1}catch(e){tR(this,e)}},n.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,eo(this,"complete"),eo(this,"abort"),tD(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tD(this,!0)),tI.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?tO(this):this.bb())},n.bb=function(){tO(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<tM(this)?this.g.status:-1}catch(e){return -1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},n.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),em(t)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=tj.prototype).la=8,n.G=1,n.connect=function(e,t,n,r){eN(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=t2(this,null,this.W),t$(this)},n.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;let i=new eF(this,this.j,e),s=this.o;if(this.S&&(s?R(s=N(s),this.S):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.map&&"string"==typeof(r=r.map.__data__)){r=r.length;break t}r=void 0}if(void 0===r)break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tG(this,i,t),tr(n=e9(this.I),"RID",e),tr(n,"CVER",22),this.D&&tr(n,"X-HTTP-Session-Id",this.D),tH(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(tx(s)))+"&"+t:this.m&&tC(n,this.m,s)),e1(this.h,i),this.Ua&&tr(n,"TYPE","init"),this.P?(tr(n,"$req",t),tr(n,"SID","null"),i.T=!0,ez(i,n,null)):ez(i,n,t),this.G=2}}else 3==this.G&&(e?tq(this,e):0==this.i.length||eJ(this.h)||tq(this))},n.Fa=function(){if(this.u=null,tY(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=eR(b(this.ab,this),e)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,eN(10),tz(this),tY(this))},n.Za=function(){null!=this.C&&(this.C=null,tz(this),tK(this),eN(19))},n.fb=function(e){e?(this.j.info("Successfully pinged google.com"),eN(2)):(this.j.info("Failed to ping google.com"),eN(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=t4.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},t6.prototype.g=function(e,t){return new t5(e,t)},E(t5,ea),t5.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},t5.prototype.close=function(){tV(this.g)},t5.prototype.o=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=ep(e),e=n);t.i.push(new eY(t.Ya++,e)),3==t.G&&t$(t)},t5.prototype.N=function(){this.g.l=null,delete this.j,tV(this.g),delete this.g,t5.aa.N.call(this)},E(t8,eE),E(t7,eS),E(t9,t4),t9.prototype.ua=function(){eo(this.g,"a")},t9.prototype.ta=function(e){eo(this.g,new t8(e))},t9.prototype.sa=function(e){eo(this.g,new t7)},t9.prototype.ra=function(){eo(this.g,"b")},t6.prototype.createWebChannel=t6.prototype.g,t5.prototype.send=t5.prototype.o,t5.prototype.open=t5.prototype.m,t5.prototype.close=t5.prototype.close,y=e7.createWebChannelTransport=function(){return new t6},g=e7.getStatEventTarget=function(){return eT()},m=e7.Event=e_,p=e7.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},eD.NO_ERROR=0,eD.TIMEOUT=8,eD.HTTP_ERROR=6,f=e7.ErrorCode=eD,eL.COMPLETE="complete",d=e7.EventType=eL,eb.EventType=ew,ew.OPEN="a",ew.CLOSE="b",ew.ERROR="c",ew.MESSAGE="d",ea.prototype.listen=ea.prototype.K,h=e7.WebChannel=eb,e7.FetchXmlHttpFactory=tE,tI.prototype.listenOnce=tI.prototype.L,tI.prototype.getLastError=tI.prototype.Ka,tI.prototype.getLastErrorCode=tI.prototype.Ba,tI.prototype.getStatus=tI.prototype.Z,tI.prototype.getResponseJson=tI.prototype.Oa,tI.prototype.getResponseText=tI.prototype.oa,tI.prototype.send=tI.prototype.ea,tI.prototype.setWithCredentials=tI.prototype.Ha,c=e7.XhrIo=tI}).apply(void 0!==e8?e8:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),v=function(e){for(var t,n=e.length,r=n%3,i=[],s=0,a=n-r;s<a;s+=16383)i.push(function(e,t,n){for(var r,i=[],s=t;s<n;s+=3)r=(e[s]<<16&0xff0000)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(e9[r>>18&63]+e9[r>>12&63]+e9[r>>6&63]+e9[63&r]);return i.join("")}(e,s,s+16383>a?a:s+16383));return 1===r?i.push(e9[(t=e[n-1])>>2]+e9[t<<4&63]+"=="):2===r&&i.push(e9[(t=(e[n-2]<<8)+e[n-1])>>10]+e9[t>>4&63]+e9[t<<2&63]+"="),i.join("")};for(var e9=[],te=[],tt="undefined"!=typeof Uint8Array?Uint8Array:Array,tn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tr=0,ti=tn.length;tr<ti;++tr)e9[tr]=tn[tr],te[tn.charCodeAt(tr)]=tr;te[45]=62,te[95]=63,b=function(e,t,n,r,i){var s,a,o=8*i-r-1,l=(1<<o)-1,u=l>>1,c=-7,h=n?i-1:0,d=n?-1:1,f=e[t+h];for(h+=d,s=f&(1<<-c)-1,f>>=-c,c+=o;c>0;s=256*s+e[t+h],h+=d,c-=8);for(a=s&(1<<-c)-1,s>>=-c,c+=r;c>0;a=256*a+e[t+h],h+=d,c-=8);if(0===s)s=1-u;else{if(s===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),s-=u}return(f?-1:1)*a*Math.pow(2,s-r)},w=function(e,t,n,r,i,s){var a,o,l,u=8*s-i-1,c=(1<<u)-1,h=c>>1,d=5960464477539062e-23*(23===i),f=r?0:s-1,p=r?1:-1,m=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(o=+!!isNaN(t),a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+h>=1?t+=d/l:t+=d*Math.pow(2,1-h),t*l>=2&&(a++,l/=2),a+h>=c?(o=0,a=c):a+h>=1?(o=(t*l-1)*Math.pow(2,i),a+=h):(o=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[n+f]=255&o,f+=p,o/=256,i-=8);for(a=a<<i|o,u+=i;u>0;e[n+f]=255&a,f+=p,a/=256,u-=8);e[n+f-p]|=128*m};const ts="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function ta(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,to.prototype),t}function to(e,t,n){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return tc(e)}return tl(e,t,n)}function tl(e,t,n){if("string"==typeof e){var r=e,i=t;if(("string"!=typeof i||""===i)&&(i="utf8"),!to.isEncoding(i))throw TypeError("Unknown encoding: "+i);let n=0|tp(r,i),s=ta(n),a=s.write(r,i);return a!==n&&(s=s.slice(0,a)),s}if(ArrayBuffer.isView(e)){var s=e;if(tF(s,Uint8Array)){let e=new Uint8Array(s);return td(e.buffer,e.byteOffset,e.byteLength)}return th(s)}if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(tF(e,ArrayBuffer)||e&&tF(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(tF(e,SharedArrayBuffer)||e&&tF(e.buffer,SharedArrayBuffer)))return td(e,t,n);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let a=e.valueOf&&e.valueOf();if(null!=a&&a!==e)return to.from(a,t,n);let o=function(e){if(to.isBuffer(e)){let t=0|tf(e.length),n=ta(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?ta(0):th(e):"Buffer"===e.type&&Array.isArray(e.data)?th(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return to.from(e[Symbol.toPrimitive]("string"),t,n);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function tu(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function tc(e){return tu(e),ta(e<0?0:0|tf(e))}function th(e){let t=e.length<0?0:0|tf(e.length),n=ta(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function td(e,t,n){let r;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),to.prototype),r}function tf(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function tp(e,t){if(to.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||tF(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return tD(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return tL(e).length;default:if(i)return r?-1:tD(e).length;t=(""+t).toLowerCase(),i=!0}}function tm(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0||(n>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,n){let r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=t;r<n;++r)i+=tU[e[r]];return i}(this,t,n);case"utf8":case"utf-8":return tb(this,t,n);case"ascii":return function(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}(this,t,n);case"latin1":case"binary":return function(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}(this,t,n);case"base64":var i,s,a;return i=this,s=t,a=n,0===s&&a===i.length?v(i):v(i.slice(s,a));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,n){let r=e.slice(t,n),i="";for(let e=0;e<r.length-1;e+=2)i+=String.fromCharCode(r[e]+256*r[e+1]);return i}(this,t,n);default:if(r)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function tg(e,t,n){let r=e[t];e[t]=e[n],e[n]=r}function ty(e,t,n,r,i){var s;if(0===e.length)return -1;if("string"==typeof n?(r=n,n=0):n>0x7fffffff?n=0x7fffffff:n<-0x80000000&&(n=-0x80000000),(s=n*=1)!=s&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length)if(i)return -1;else n=e.length-1;else if(n<0)if(!i)return -1;else n=0;if("string"==typeof t&&(t=to.from(t,r)),to.isBuffer(t))return 0===t.length?-1:tv(e,t,n,r,i);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(i)return Uint8Array.prototype.indexOf.call(e,t,n);else return Uint8Array.prototype.lastIndexOf.call(e,t,n);return tv(e,[t],n,r,i)}throw TypeError("val must be string, number or Buffer")}function tv(e,t,n,r,i){let s,a=1,o=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return -1;a=2,o/=2,l/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let r=-1;for(s=n;s<o;s++)if(u(e,s)===u(t,-1===r?0:s-r)){if(-1===r&&(r=s),s-r+1===l)return r*a}else -1!==r&&(s-=s-r),r=-1}else for(n+l>o&&(n=o-l),s=n;s>=0;s--){let n=!0;for(let r=0;r<l;r++)if(u(e,s+r)!==u(t,r)){n=!1;break}if(n)return s}return -1}function tb(e,t,n){n=Math.min(e.length,n);let r=[],i=t;for(;i<n;){let t=e[i],s=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=n){let n,r,o,l;switch(a){case 1:t<128&&(s=t);break;case 2:(192&(n=e[i+1]))==128&&(l=(31&t)<<6|63&n)>127&&(s=l);break;case 3:n=e[i+1],r=e[i+2],(192&n)==128&&(192&r)==128&&(l=(15&t)<<12|(63&n)<<6|63&r)>2047&&(l<55296||l>57343)&&(s=l);break;case 4:n=e[i+1],r=e[i+2],o=e[i+3],(192&n)==128&&(192&r)==128&&(192&o)==128&&(l=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&o)>65535&&l<1114112&&(s=l)}}null===s?(s=65533,a=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),i+=a}var s=r;let a=s.length;if(a<=4096)return String.fromCharCode.apply(String,s);let o="",l=0;for(;l<a;)o+=String.fromCharCode.apply(String,s.slice(l,l+=4096));return o}function tw(e,t,n){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>n)throw RangeError("Trying to access beyond buffer length")}function tE(e,t,n,r,i,s){if(!to.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw RangeError('"value" argument is out of bounds');if(n+r>e.length)throw RangeError("Index out of range")}function tS(e,t,n,r,i){tA(t,r,i,e,n,7);let s=Number(t&BigInt(0xffffffff));e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s;let a=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function t_(e,t,n,r,i){tA(t,r,i,e,n,7);let s=Number(t&BigInt(0xffffffff));e[n+7]=s,s>>=8,e[n+6]=s,s>>=8,e[n+5]=s,s>>=8,e[n+4]=s;let a=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function tk(e,t,n,r,i,s){if(n+r>e.length||n<0)throw RangeError("Index out of range")}function tT(e,t,n,r,i){return t*=1,n>>>=0,i||tk(e,t,n,4,34028234663852886e22,-34028234663852886e22),w(e,t,n,r,23,4),n+4}function tx(e,t,n,r,i){return t*=1,n>>>=0,i||tk(e,t,n,8,17976931348623157e292,-17976931348623157e292),w(e,t,n,r,52,8),n+8}to.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),to.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(to.prototype,"parent",{enumerable:!0,get:function(){if(to.isBuffer(this))return this.buffer}}),Object.defineProperty(to.prototype,"offset",{enumerable:!0,get:function(){if(to.isBuffer(this))return this.byteOffset}}),to.poolSize=8192,to.from=function(e,t,n){return tl(e,t,n)},Object.setPrototypeOf(to.prototype,Uint8Array.prototype),Object.setPrototypeOf(to,Uint8Array),to.alloc=function(e,t,n){return(tu(e),e<=0)?ta(e):void 0!==t?"string"==typeof n?ta(e).fill(t,n):ta(e).fill(t):ta(e)},to.allocUnsafe=function(e){return tc(e)},to.allocUnsafeSlow=function(e){return tc(e)},to.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==to.prototype},to.compare=function(e,t){if(tF(e,Uint8Array)&&(e=to.from(e,e.offset,e.byteLength)),tF(t,Uint8Array)&&(t=to.from(t,t.offset,t.byteLength)),!to.isBuffer(e)||!to.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,s=Math.min(n,r);i<s;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:+(r<n)},to.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},to.concat=function(e,t){let n;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return to.alloc(0);if(void 0===t)for(n=0,t=0;n<e.length;++n)t+=e[n].length;let r=to.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){let t=e[n];if(tF(t,Uint8Array))i+t.length>r.length?(to.isBuffer(t)||(t=to.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else if(to.isBuffer(t))t.copy(r,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=t.length}return r},to.byteLength=tp,to.prototype._isBuffer=!0,to.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)tg(this,t,t+1);return this},to.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)tg(this,t,t+3),tg(this,t+1,t+2);return this},to.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)tg(this,t,t+7),tg(this,t+1,t+6),tg(this,t+2,t+5),tg(this,t+3,t+4);return this},to.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?tb(this,0,e):tm.apply(this,arguments)},to.prototype.toLocaleString=to.prototype.toString,to.prototype.equals=function(e){if(!to.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===to.compare(this,e)},to.prototype.inspect=function(){let e="";return e=this.toString("hex",0,50).replace(/(.{2})/g,"$1 ").trim(),this.length>50&&(e+=" ... "),"<Buffer "+e+">"},ts&&(to.prototype[ts]=to.prototype.inspect),to.prototype.compare=function(e,t,n,r,i){if(tF(e,Uint8Array)&&(e=to.from(e,e.offset,e.byteLength)),!to.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return -1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;let s=i-r,a=n-t,o=Math.min(s,a),l=this.slice(r,i),u=e.slice(t,n);for(let e=0;e<o;++e)if(l[e]!==u[e]){s=l[e],a=u[e];break}return s<a?-1:+(a<s)},to.prototype.includes=function(e,t,n){return -1!==this.indexOf(e,t,n)},to.prototype.indexOf=function(e,t,n){return ty(this,e,t,n,!0)},to.prototype.lastIndexOf=function(e,t,n){return ty(this,e,t,n,!1)},to.prototype.write=function(e,t,n,r){var i,s,a,o,l,u,c,h;if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let d=this.length-t;if((void 0===n||n>d)&&(n=d),e.length>0&&(n<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let f=!1;for(;;)switch(r){case"hex":return function(e,t,n,r){let i;n=Number(n)||0;let s=e.length-n;r?(r=Number(r))>s&&(r=s):r=s;let a=t.length;for(r>a/2&&(r=a/2),i=0;i<r;++i){var o;let r=parseInt(t.substr(2*i,2),16);if((o=r)!=o)break;e[n+i]=r}return i}(this,e,t,n);case"utf8":case"utf-8":return i=t,s=n,tM(tD(e,this.length-i),this,i,s);case"ascii":case"latin1":case"binary":return a=t,o=n,tM(function(e){let t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(e),this,a,o);case"base64":return l=t,u=n,tM(tL(e),this,l,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=t,h=n,tM(function(e,t){let n,r,i=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,i.push(n%256),i.push(r);return i}(e,this.length-c),this,c,h);default:if(f)throw TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),f=!0}},to.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},to.prototype.slice=function(e,t){let n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);let r=this.subarray(e,t);return Object.setPrototypeOf(r,to.prototype),r},to.prototype.readUintLE=to.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||tw(e,t,this.length);let r=this[e],i=1,s=0;for(;++s<t&&(i*=256);)r+=this[e+s]*i;return r},to.prototype.readUintBE=to.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||tw(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},to.prototype.readUint8=to.prototype.readUInt8=function(e,t){return e>>>=0,t||tw(e,1,this.length),this[e]},to.prototype.readUint16LE=to.prototype.readUInt16LE=function(e,t){return e>>>=0,t||tw(e,2,this.length),this[e]|this[e+1]<<8},to.prototype.readUint16BE=to.prototype.readUInt16BE=function(e,t){return e>>>=0,t||tw(e,2,this.length),this[e]<<8|this[e+1]},to.prototype.readUint32LE=to.prototype.readUInt32LE=function(e,t){return e>>>=0,t||tw(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},to.prototype.readUint32BE=to.prototype.readUInt32BE=function(e,t){return e>>>=0,t||tw(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},to.prototype.readBigUInt64LE=tj(function(e){tR(e>>>=0,"offset");let t=this[e],n=this[e+7];(void 0===t||void 0===n)&&tP(e,this.length-8);let r=t+256*this[++e]+65536*this[++e]+0x1000000*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+0x1000000*n;return BigInt(r)+(BigInt(i)<<BigInt(32))}),to.prototype.readBigUInt64BE=tj(function(e){tR(e>>>=0,"offset");let t=this[e],n=this[e+7];(void 0===t||void 0===n)&&tP(e,this.length-8);let r=0x1000000*t+65536*this[++e]+256*this[++e]+this[++e],i=0x1000000*this[++e]+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)}),to.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||tw(e,t,this.length);let r=this[e],i=1,s=0;for(;++s<t&&(i*=256);)r+=this[e+s]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},to.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||tw(e,t,this.length);let r=t,i=1,s=this[e+--r];for(;r>0&&(i*=256);)s+=this[e+--r]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*t)),s},to.prototype.readInt8=function(e,t){return(e>>>=0,t||tw(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},to.prototype.readInt16LE=function(e,t){e>>>=0,t||tw(e,2,this.length);let n=this[e]|this[e+1]<<8;return 32768&n?0xffff0000|n:n},to.prototype.readInt16BE=function(e,t){e>>>=0,t||tw(e,2,this.length);let n=this[e+1]|this[e]<<8;return 32768&n?0xffff0000|n:n},to.prototype.readInt32LE=function(e,t){return e>>>=0,t||tw(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},to.prototype.readInt32BE=function(e,t){return e>>>=0,t||tw(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},to.prototype.readBigInt64LE=tj(function(e){tR(e>>>=0,"offset");let t=this[e],n=this[e+7];return(void 0===t||void 0===n)&&tP(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+0x1000000*this[++e])}),to.prototype.readBigInt64BE=tj(function(e){tR(e>>>=0,"offset");let t=this[e],n=this[e+7];return(void 0===t||void 0===n)&&tP(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(0x1000000*this[++e]+65536*this[++e]+256*this[++e]+n)}),to.prototype.readFloatLE=function(e,t){return e>>>=0,t||tw(e,4,this.length),b(this,e,!0,23,4)},to.prototype.readFloatBE=function(e,t){return e>>>=0,t||tw(e,4,this.length),b(this,e,!1,23,4)},to.prototype.readDoubleLE=function(e,t){return e>>>=0,t||tw(e,8,this.length),b(this,e,!0,52,8)},to.prototype.readDoubleBE=function(e,t){return e>>>=0,t||tw(e,8,this.length),b(this,e,!1,52,8)},to.prototype.writeUintLE=to.prototype.writeUIntLE=function(e,t,n,r){if(e*=1,t>>>=0,n>>>=0,!r){let r=Math.pow(2,8*n)-1;tE(this,e,t,n,r,0)}let i=1,s=0;for(this[t]=255&e;++s<n&&(i*=256);)this[t+s]=e/i&255;return t+n},to.prototype.writeUintBE=to.prototype.writeUIntBE=function(e,t,n,r){if(e*=1,t>>>=0,n>>>=0,!r){let r=Math.pow(2,8*n)-1;tE(this,e,t,n,r,0)}let i=n-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+n},to.prototype.writeUint8=to.prototype.writeUInt8=function(e,t,n){return e*=1,t>>>=0,n||tE(this,e,t,1,255,0),this[t]=255&e,t+1},to.prototype.writeUint16LE=to.prototype.writeUInt16LE=function(e,t,n){return e*=1,t>>>=0,n||tE(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},to.prototype.writeUint16BE=to.prototype.writeUInt16BE=function(e,t,n){return e*=1,t>>>=0,n||tE(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},to.prototype.writeUint32LE=to.prototype.writeUInt32LE=function(e,t,n){return e*=1,t>>>=0,n||tE(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},to.prototype.writeUint32BE=to.prototype.writeUInt32BE=function(e,t,n){return e*=1,t>>>=0,n||tE(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},to.prototype.writeBigUInt64LE=tj(function(e,t=0){return tS(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),to.prototype.writeBigUInt64BE=tj(function(e,t=0){return t_(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),to.prototype.writeIntLE=function(e,t,n,r){if(e*=1,t>>>=0,!r){let r=Math.pow(2,8*n-1);tE(this,e,t,n,r-1,-r)}let i=0,s=1,a=0;for(this[t]=255&e;++i<n&&(s*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/s|0)-a&255;return t+n},to.prototype.writeIntBE=function(e,t,n,r){if(e*=1,t>>>=0,!r){let r=Math.pow(2,8*n-1);tE(this,e,t,n,r-1,-r)}let i=n-1,s=1,a=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/s|0)-a&255;return t+n},to.prototype.writeInt8=function(e,t,n){return e*=1,t>>>=0,n||tE(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},to.prototype.writeInt16LE=function(e,t,n){return e*=1,t>>>=0,n||tE(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},to.prototype.writeInt16BE=function(e,t,n){return e*=1,t>>>=0,n||tE(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},to.prototype.writeInt32LE=function(e,t,n){return e*=1,t>>>=0,n||tE(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},to.prototype.writeInt32BE=function(e,t,n){return e*=1,t>>>=0,n||tE(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},to.prototype.writeBigInt64LE=tj(function(e,t=0){return tS(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),to.prototype.writeBigInt64BE=tj(function(e,t=0){return t_(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),to.prototype.writeFloatLE=function(e,t,n){return tT(this,e,t,!0,n)},to.prototype.writeFloatBE=function(e,t,n){return tT(this,e,t,!1,n)},to.prototype.writeDoubleLE=function(e,t,n){return tx(this,e,t,!0,n)},to.prototype.writeDoubleBE=function(e,t,n){return tx(this,e,t,!1,n)},to.prototype.copy=function(e,t,n,r){if(!to.isBuffer(e))throw TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw RangeError("Index out of range");if(r<0)throw RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);let i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},to.prototype.fill=function(e,t,n,r){let i;if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw TypeError("encoding must be a string");if("string"==typeof r&&!to.isEncoding(r))throw TypeError("Unknown encoding: "+r);if(1===e.length){let t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw RangeError("Out of range index");if(n<=t)return this;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{let s=to.isBuffer(e)?e:to.from(e,r),a=s.length;if(0===a)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=s[i%a]}return this};const tC={};function tI(e,t,n){tC[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function tN(e){let t="",n=e.length,r=+("-"===e[0]);for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function tA(e,t,n,r,i,s){if(e>n||e<t){let r,i="bigint"==typeof t?"n":"";throw r=s>3?0===t||t===BigInt(0)?`>= 0${i} and < 2${i} ** ${(s+1)*8}${i}`:`>= -(2${i} ** ${(s+1)*8-1}${i}) and < 2 ** ${(s+1)*8-1}${i}`:`>= ${t}${i} and <= ${n}${i}`,new tC.ERR_OUT_OF_RANGE("value",r,e)}tR(i,"offset"),(void 0===r[i]||void 0===r[i+s])&&tP(i,r.length-(s+1))}function tR(e,t){if("number"!=typeof e)throw new tC.ERR_INVALID_ARG_TYPE(t,"number",e)}function tP(e,t,n){if(Math.floor(e)!==e)throw tR(e,n),new tC.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new tC.ERR_BUFFER_OUT_OF_BOUNDS;throw new tC.ERR_OUT_OF_RANGE(n||"offset",`>= ${+!!n} and <= ${t}`,e)}tI("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),tI("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),tI("ERR_OUT_OF_RANGE",function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>0x100000000?i=tN(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=tN(i)),i+="n"),r+=` It must be ${t}. Received ${i}`},RangeError);const tO=/[^+/0-9A-Za-z-_]/g;function tD(e,t){let n;t=t||1/0;let r=e.length,i=null,s=[];for(let a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319||a+1===r){(t-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&s.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;s.push(n)}else if(n<2048){if((t-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else if(n<1114112){if((t-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}else throw Error("Invalid code point")}return s}function tL(e){return function(e){var t,n,r=function(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}(e),i=r[0],s=r[1],a=new tt((i+s)*3/4-s),o=0,l=s>0?i-4:i;for(n=0;n<l;n+=4)t=te[e.charCodeAt(n)]<<18|te[e.charCodeAt(n+1)]<<12|te[e.charCodeAt(n+2)]<<6|te[e.charCodeAt(n+3)],a[o++]=t>>16&255,a[o++]=t>>8&255,a[o++]=255&t;return 2===s&&(t=te[e.charCodeAt(n)]<<2|te[e.charCodeAt(n+1)]>>4,a[o++]=255&t),1===s&&(t=te[e.charCodeAt(n)]<<10|te[e.charCodeAt(n+1)]<<4|te[e.charCodeAt(n+2)]>>2,a[o++]=t>>8&255,a[o++]=255&t),a}(function(e){if((e=(e=e.split("=")[0]).trim().replace(tO,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function tM(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length)&&!(i>=e.length);++i)t[i+n]=e[i];return i}function tF(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}const tU=function(){let e="0123456789abcdef",t=Array(256);for(let n=0;n<16;++n){let r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function tj(e){return"undefined"==typeof BigInt?tV:e}function tV(){throw Error("BigInt not supported")}const tz="@firebase/firestore",tB="4.9.0";class t${constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}t$.UNAUTHENTICATED=new t$(null),t$.GOOGLE_CREDENTIALS=new t$("google-credentials-uid"),t$.FIRST_PARTY=new t$("first-party-uid"),t$.MOCK_USER=new t$("mock-user");let tq="12.0.0";const tH=new ey("@firebase/firestore");function tG(){return tH.logLevel}function tW(e,...t){if(tH.logLevel<=o.DEBUG){let n=t.map(tY);tH.debug(`Firestore (${tq}): ${e}`,...n)}}function tK(e,...t){if(tH.logLevel<=o.ERROR){let n=t.map(tY);tH.error(`Firestore (${tq}): ${e}`,...n)}}function tQ(e,...t){if(tH.logLevel<=o.WARN){let n=t.map(tY);tH.warn(`Firestore (${tq}): ${e}`,...n)}}function tY(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function tX(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,tJ(e,r,n)}function tJ(e,t,n){let r=`FIRESTORE (${tq}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw tK(r),Error(r)}function tZ(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||tJ(t,i,r)}const t0={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class t1 extends X{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class t2{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class t3{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class t4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(t$.UNAUTHENTICATED))}shutdown(){}}class t6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class t5{constructor(e){this.t=e,this.currentUser=t$.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){tZ(void 0===this.o,42304);let n=this.i,r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve(),i=new t2;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new t2,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{tW("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){let e=this.t.getImmediate({optional:!0});e?a(e):(tW("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new t2)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(tW("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(tZ("string"==typeof t.accessToken,31837,{l:t}),new t3(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return tZ(null===e||"string"==typeof e,2055,{h:e}),new t$(e)}}class t8{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=t$.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class t7{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new t8(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(t$.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class t9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ne{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,eB(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){tZ(void 0===this.o,3512);let n=e=>{null!=e.error&&tW("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);let n=e.token!==this.m;return this.m=e.token,tW("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};let r=e=>{tW("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){let e=this.V.getImmediate({optional:!0});e?r(e):tW("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new t9(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(tZ("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new t9(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}class nt{static newId(){let e=62*Math.floor(256/62),t="";for(;t.length<20;){let n=function(e){let t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(40);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let e=0;e<40;e++)n[e]=Math.floor(256*Math.random());return n}(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function nn(e,t){return e<t?-1:+(e>t)}function nr(e,t){let n=Math.min(e.length,t.length);for(let r=0;r<n;r++){let n=e.charAt(r),i=t.charAt(r);if(n!==i)return ni(n)===ni(i)?nn(n,i):ni(n)?1:-1}return nn(e.length,t.length)}function ni(e){let t=e.charCodeAt(0);return t>=55296&&t<=57343}function ns(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const na="__name__";class no{constructor(e,t,n){void 0===t?t=0:t>e.length&&tX(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&tX(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===no.comparator(this,e)}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof no?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let n=Math.min(e.length,t.length);for(let r=0;r<n;r++){let n=no.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return nn(e.length,t.length)}static compareSegments(e,t){let n=no.isNumericId(e),r=no.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?no.extractNumericId(e).compare(no.extractNumericId(t)):nr(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return l.fromString(e.substring(4,e.length-2))}}class nl extends no{construct(e,t,n){return new nl(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let n of e){if(n.indexOf("//")>=0)throw new t1(t0.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new nl(t)}static emptyPath(){return new nl([])}}const nu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nc extends no{construct(e,t,n){return new nc(e,t,n)}static isValidIdentifier(e){return nu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nc.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===na}static keyField(){return new nc([na])}static fromServerFormat(e){let t=[],n="",r=0,i=()=>{if(0===n.length)throw new t1(t0.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""},s=!1;for(;r<e.length;){let t=e[r];if("\\"===t){if(r+1===e.length)throw new t1(t0.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new t1(t0.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?s=!s:"."!==t||s?n+=t:i(),r++}if(i(),s)throw new t1(t0.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nc(t)}static emptyPath(){return new nc([])}}class nh{constructor(e){this.path=e}static fromPath(e){return new nh(nl.fromString(e))}static fromName(e){return new nh(nl.fromString(e).popFirst(5))}static empty(){return new nh(nl.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===nl.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return nl.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nh(new nl(e.slice()))}}function nd(e,t,n){if(!n)throw new t1(t0.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function nf(e){if(!nh.isDocumentKey(e))throw new t1(t0.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function np(e){if(nh.isDocumentKey(e))throw new t1(t0.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function nm(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function ng(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{var t;let n=(t=e).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}return"function"==typeof e?"a function":tX(12329,{type:typeof e})}function ny(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new t1(t0.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=ng(e);throw new t1(t0.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function nv(e,t){let n={typeString:e};return t&&(n.value=t),n}function nb(e,t){let n;if(!nm(e))throw new t1(t0.INVALID_ARGUMENT,"JSON must be an object");for(let r in t)if(t[r]){let i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}let a=e[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(void 0!==s&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new t1(t0.INVALID_ARGUMENT,n);return!0}class nw{static now(){return nw.fromMillis(Date.now())}static fromDate(e){return nw.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*1e6);return new nw(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0||t>=1e9)throw new t1(t0.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-0xe7791f700||e>=0x3afff44180)throw new t1(t0.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?nn(this.nanoseconds,e.nanoseconds):nn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nw._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(nb(e,nw._jsonSchema))return new nw(e.seconds,e.nanoseconds)}valueOf(){return String(this.seconds- -0xe7791f700).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nw._jsonSchemaVersion="firestore/timestamp/1.0",nw._jsonSchema={type:nv("string",nw._jsonSchemaVersion),seconds:nv("number"),nanoseconds:nv("number")};class nE{static fromTimestamp(e){return new nE(e)}static min(){return new nE(new nw(0,0))}static max(){return new nE(new nw(0x3afff4417f,0x3b9ac9ff))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class nS{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new nS(nE.min(),nh.empty(),-1)}static max(){return new nS(nE.max(),nh.empty(),-1)}}class n_{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function nk(e){if(e.code!==t0.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;tW("LocalStore","Unexpectedly lost primary lease")}class nT{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&tX(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new nT((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof nT?t:nT.resolve(t)}catch(e){return nT.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):nT.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):nT.reject(t)}static resolve(e){return new nT((t,n)=>{t(e)})}static reject(e){return new nT((t,n)=>{n(e)})}static waitFor(e){return new nT((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=nT.resolve(!1);for(let n of e)t=t.next(e=>e?nT.resolve(e):n());return t}static forEach(e,t){let n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new nT((n,r)=>{let i=e.length,s=Array(i),a=0;for(let o=0;o<i;o++){let l=o;t(e[l]).next(e=>{s[l]=e,++a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new nT((n,r)=>{let i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function nx(e){return"IndexedDbTransactionError"===e.name}class nC{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.ue&&this.ue(e),e}}nC.ce=-1;function nI(e){return 0===e&&1/e==-1/0}function nN(e){let t=0;for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function nA(e,t){for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function nR(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class nP{constructor(e,t){this.comparator=e,this.root=t||nD.EMPTY}insert(e,t){return new nP(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,nD.BLACK,null,null))}remove(e){return new nP(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nD.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return -1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){let e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nO(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nO(this.root,e,this.comparator,!1)}getReverseIterator(){return new nO(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nO(this.root,e,this.comparator,!0)}}class nO{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nD{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:nD.RED,this.left=null!=r?r:nD.EMPTY,this.right=null!=i?i:nD.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new nD(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}removeMin(){if(this.left.isEmpty())return nD.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()}remove(e,t){let n,r=this;if(0>t(e,r.key))r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return nD.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}rotateLeft(){let e=this.copy(null,null,nD.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,nD.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){return Math.pow(2,this.check())<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw tX(43730,{key:this.key,value:this.value});if(this.right.isRed())throw tX(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw tX(27949);return e+ +!this.isRed()}}nD.EMPTY=null,nD.RED=!0,nD.BLACK=!1,nD.EMPTY=new class{constructor(){this.size=0}get key(){throw tX(57766)}get value(){throw tX(16141)}get color(){throw tX(16727)}get left(){throw tX(29726)}get right(){throw tX(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new nD(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class nL{constructor(e){this.comparator=e,this.data=new nP(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){let n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nM(this.data.getIterator())}getIteratorFrom(e){return new nM(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof nL)||this.size!==e.size)return!1;let t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){let e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new nL(this.comparator);return t.data=e,t}}class nM{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class nF{constructor(e){this.fields=e,e.sort(nc.comparator)}static empty(){return new nF([])}unionWith(e){let t=new nL(nc.comparator);for(let e of this.fields)t=t.add(e);for(let n of e)t=t.add(n);return new nF(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ns(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class nU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nj{constructor(e){this.binaryString=e}static fromBase64String(e){return new nj(function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new nU("Invalid base64 string: "+e):e}}(e))}static fromUint8Array(e){return new nj(function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e))}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){var e=this.binaryString;let t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nj.EMPTY_BYTE_STRING=new nj("");const nV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nz(e){if(tZ(!!e,39018),"string"==typeof e){let t=0,n=nV.exec(e);if(tZ(!!n,46558,{timestamp:e}),n[1]){let e=n[1];t=Number(e=(e+"000000000").substr(0,9))}return{seconds:Math.floor(new Date(e).getTime()/1e3),nanos:t}}return{seconds:nB(e.seconds),nanos:nB(e.nanos)}}function nB(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function n$(e){return"string"==typeof e?nj.fromBase64String(e):nj.fromUint8Array(e)}const nq="server_timestamp",nH="__type__",nG="__previous_value__",nW="__local_write_time__";function nK(e){return(e?.mapValue?.fields||{})[nH]?.stringValue===nq}function nQ(e){let t=e.mapValue.fields[nG];return nK(t)?nQ(t):t}function nY(e){let t=nz(e.mapValue.fields[nW].timestampValue);return new nw(t.seconds,t.nanos)}class nX{constructor(e,t,n,r,i,s,a,o,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=u}}const nJ="(default)";class nZ{constructor(e,t){this.projectId=e,this.database=t||nJ}static empty(){return new nZ("","")}get isDefaultDatabase(){return this.database===nJ}isEqual(e){return e instanceof nZ&&e.projectId===this.projectId&&e.database===this.database}}const n0="__type__",n1="__max__",n2={},n3="__vector__",n4="value";function n6(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?nK(e)?4:rc(e)?0x1fffffffffffff:rl(e)?10:11:tX(28295,{value:e})}function n5(e,t){if(e===t)return!0;let n=n6(e);if(n!==n6(t))return!1;switch(n){case 0:case 0x1fffffffffffff:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return nY(e).isEqual(nY(t));case 3:if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;let r=nz(e.timestampValue),i=nz(t.timestampValue);return r.seconds===i.seconds&&r.nanos===i.nanos;case 5:return e.stringValue===t.stringValue;case 6:return n$(e.bytesValue).isEqual(n$(t.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return nB(e.geoPointValue.latitude)===nB(t.geoPointValue.latitude)&&nB(e.geoPointValue.longitude)===nB(t.geoPointValue.longitude);case 2:if("integerValue"in e&&"integerValue"in t)return nB(e.integerValue)===nB(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){let n=nB(e.doubleValue),r=nB(t.doubleValue);return n===r?nI(n)===nI(r):isNaN(n)&&isNaN(r)}return!1;case 9:return ns(e.arrayValue.values||[],t.arrayValue.values||[],n5);case 10:case 11:let s=e.mapValue.fields||{},a=t.mapValue.fields||{};if(nN(s)!==nN(a))return!1;for(let e in s)if(s.hasOwnProperty(e)&&(void 0===a[e]||!n5(s[e],a[e])))return!1;return!0;default:return tX(52216,{left:e})}}function n8(e,t){return void 0!==(e.values||[]).find(e=>n5(e,t))}function n7(e,t){if(e===t)return 0;let n=n6(e),r=n6(t);if(n!==r)return nn(n,r);switch(n){case 0:case 0x1fffffffffffff:return 0;case 1:return nn(e.booleanValue,t.booleanValue);case 2:let i=nB(e.integerValue||e.doubleValue),s=nB(t.integerValue||t.doubleValue);return i<s?-1:i>s?1:i===s?0:isNaN(i)?isNaN(s)?0:-1:1;case 3:return n9(e.timestampValue,t.timestampValue);case 4:return n9(nY(e),nY(t));case 5:return nr(e.stringValue,t.stringValue);case 6:return function(e,t){let n=n$(e),r=n$(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){let n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){let t=nn(n[e],r[e]);if(0!==t)return t}return nn(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){let n=nn(nB(e.latitude),nB(t.latitude));return 0!==n?n:nn(nB(e.longitude),nB(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return re(e.arrayValue,t.arrayValue);case 10:return function(e,t){let n=e.fields||{},r=t.fields||{},i=n[n4]?.arrayValue,s=r[n4]?.arrayValue,a=nn(i?.values?.length||0,s?.values?.length||0);return 0!==a?a:re(i,s)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===n2&&t===n2)return 0;if(e===n2)return 1;if(t===n2)return -1;let n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let e=0;e<r.length&&e<s.length;++e){let t=nr(r[e],s[e]);if(0!==t)return t;let a=n7(n[r[e]],i[s[e]]);if(0!==a)return a}return nn(r.length,s.length)}(e.mapValue,t.mapValue);default:throw tX(23264,{he:n})}}function n9(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return nn(e,t);let n=nz(e),r=nz(t),i=nn(n.seconds,r.seconds);return 0!==i?i:nn(n.nanos,r.nanos)}function re(e,t){let n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){let t=n7(n[e],r[e]);if(t)return t}return nn(n.length,r.length)}function rt(e){var t,n;return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){let t=nz(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?n$(e.bytesValue).toBase64():"referenceValue"in e?(t=e.referenceValue,nh.fromName(t).toString()):"geoPointValue"in e?(n=e.geoPointValue,`geo(${n.latitude},${n.longitude})`):"arrayValue"in e?function(e){let t="[",n=!0;for(let r of e.values||[])n?n=!1:t+=",",t+=rt(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){let t=Object.keys(e.fields||{}).sort(),n="{",r=!0;for(let i of t)r?r=!1:n+=",",n+=`${i}:${rt(e.fields[i])}`;return n+"}"}(e.mapValue):tX(61005,{value:e})}function rn(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function rr(e){return!!e&&"integerValue"in e}function ri(e){return!!e&&"arrayValue"in e}function rs(e){return!!e&&"nullValue"in e}function ra(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ro(e){return!!e&&"mapValue"in e}function rl(e){return(e?.mapValue?.fields||{})[n0]?.stringValue===n3}function ru(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:{...e.timestampValue}};if(e.mapValue){let t={mapValue:{fields:{}}};return nA(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=ru(n)),t}if(e.arrayValue){let t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ru(e.arrayValue.values[n]);return t}return{...e}}function rc(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===n1}class rh{constructor(e){this.value=e}static empty(){return new rh({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(!ro(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ru(t)}setAll(e){let t=nc.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){let e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=ru(e):r.push(i.lastSegment())});let i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){let t=this.field(e.popLast());ro(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return n5(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];ro(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){for(let r of(nA(t,(t,n)=>e[t]=n),n))delete e[r]}clone(){return new rh(ru(this.value))}}class rd{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new rd(e,0,nE.min(),nE.min(),nE.min(),rh.empty(),0)}static newFoundDocument(e,t,n,r){return new rd(e,1,t,nE.min(),n,r,0)}static newNoDocument(e,t){return new rd(e,2,t,nE.min(),nE.min(),rh.empty(),0)}static newUnknownDocument(e,t){return new rd(e,3,t,nE.min(),nE.min(),rh.empty(),2)}convertToFoundDocument(e,t){return this.createTime.isEqual(nE.min())&&(2===this.documentType||0===this.documentType)&&(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rh.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rh.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nE.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof rd&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rd(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rf{constructor(e,t){this.position=e,this.inclusive=t}}function rp(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){let s=t[i],a=e.position[i];if(r=s.field.isKeyField()?nh.comparator(nh.fromName(a.referenceValue),n.key):n7(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function rm(e,t){if(null===e)return null===t;if(null===t||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!n5(e.position[n],t.position[n]))return!1;return!0}class rg{constructor(e,t="asc"){this.field=e,this.dir=t}}class ry{}class rv extends ry{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new rS(e,t,n):"array-contains"===t?new rx(e,n):"in"===t?new rC(e,n):"not-in"===t?new rI(e,n):"array-contains-any"===t?new rN(e,n):new rv(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new r_(e,n):new rk(e,n)}matches(e){let t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(n7(t,this.value)):null!==t&&n6(this.value)===n6(t)&&this.matchesComparison(n7(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return tX(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rb extends ry{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new rb(e,t)}matches(e){return rw(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rw(e){return"and"===e.op}function rE(e){for(let t of e.filters)if(t instanceof rb)return!1;return!0}class rS extends rv{constructor(e,t,n){super(e,t,n),this.key=nh.fromName(n.referenceValue)}matches(e){let t=nh.comparator(e.key,this.key);return this.matchesComparison(t)}}class r_ extends rv{constructor(e,t){super(e,"in",t),this.keys=rT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class rk extends rv{constructor(e,t){super(e,"not-in",t),this.keys=rT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function rT(e,t){return(t.arrayValue?.values||[]).map(e=>nh.fromName(e.referenceValue))}class rx extends rv{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return ri(t)&&n8(t.arrayValue,this.value)}}class rC extends rv{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return null!==t&&n8(this.value.arrayValue,t)}}class rI extends rv{constructor(e,t){super(e,"not-in",t)}matches(e){if(n8(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!n8(this.value.arrayValue,t)}}class rN extends rv{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!ri(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>n8(this.value.arrayValue,e))}}class rA{constructor(e,t=null,n=[],r=[],i=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.Te=null}}function rR(e,t=null,n=[],r=[],i=null,s=null,a=null){return new rA(e,t,n,r,i,s,a)}function rP(e){if(null===e.Te){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(e=>(function e(t){if(t instanceof rv)return t.field.canonicalString()+t.op.toString()+rt(t.value);if(rE(t)&&rw(t))return t.filters.map(t=>e(t)).join(",");{let n=t.filters.map(t=>e(t)).join(",");return`${t.op}(${n})`}})(e)).join(","),t+="|ob:",t+=e.orderBy.map(e=>e.field.canonicalString()+e.dir).join(","),null==e.limit||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>rt(e)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>rt(e)).join(",")),e.Te=t}return e.Te}function rO(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++){var n,r;if(n=e.orderBy[i],r=t.orderBy[i],!(n.dir===r.dir&&n.field.isEqual(r.field)))return!1}if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!function e(t,n){return t instanceof rv?n instanceof rv&&t.op===n.op&&t.field.isEqual(n.field)&&n5(t.value,n.value):t instanceof rb?n instanceof rb&&t.op===n.op&&t.filters.length===n.filters.length&&t.filters.reduce((t,r,i)=>t&&e(r,n.filters[i]),!0):void tX(19439)}(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!rm(e.startAt,t.startAt)&&rm(e.endAt,t.endAt)}function rD(e){return nh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class rL{constructor(e,t=null,n=[],r=[],i=null,s="F",a=null,o=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function rM(e){return new rL(e)}function rF(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function rU(e){return null!==e.collectionGroup}function rj(e){if(null===e.Ie){let t;e.Ie=[];let n=new Set;for(let t of e.explicitOrderBy)e.Ie.push(t),n.add(t.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(t=new nL(nc.comparator),e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t).forEach(t=>{n.has(t.canonicalString())||t.isKeyField()||e.Ie.push(new rg(t,r))}),n.has(nc.keyField().canonicalString())||e.Ie.push(new rg(nc.keyField(),r))}return e.Ie}function rV(e){return e.Ee||(e.Ee=function(e,t){if("F"===e.limitType)return rR(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{let t="desc"===e.dir?"asc":"desc";return new rg(e.field,t)});let n=e.endAt?new rf(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new rf(e.startAt.position,e.startAt.inclusive):null;return rR(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}(e,rj(e))),e.Ee}function rz(e,t){let n=e.filters.concat([t]);return new rL(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function rB(e,t,n){return new rL(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function r$(e,t){return rO(rV(e),rV(t))&&e.limitType===t.limitType}function rq(e){return`${rP(rV(e))}|lt:${e.limitType}`}function rH(e){var t;let n;return`Query(target=${n=(t=rV(e)).path.canonicalString(),null!==t.collectionGroup&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(e=>(function e(t){return t instanceof rv?`${t.field.canonicalString()} ${t.op} ${rt(t.value)}`:t instanceof rb?t.op.toString()+" {"+t.getFilters().map(e).join(" ,")+"}":"Filter"})(e)).join(", ")}]`),null==t.limit||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(e=>`${e.field.canonicalString()} (${e.dir})`).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(e=>rt(e)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(e=>rt(e)).join(",")),`Target(${n})`}; limitType=${e.limitType})`}function rG(e,t){return t.isFoundDocument()&&function(e,t){let n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):nh.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(let n of rj(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(let n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&(!e.startAt||!!function(e,t,n){let r=rp(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,rj(e),t))&&(!e.endAt||!!function(e,t,n){let r=rp(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,rj(e),t))}function rW(e){return(t,n)=>{let r=!1;for(let i of rj(e)){let e=function(e,t,n){let r=e.field.isKeyField()?nh.comparator(t.key,n.key):function(e,t,n){let r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?n7(r,i):tX(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return -1*r;default:return tX(19790,{direction:e.dir})}}(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}class rK{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){for(let[t,r]of n)if(this.equalsFn(t,e))return r}}has(e){return void 0!==this.get(e)}set(e,t){let n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){nA(this.inner,(t,n)=>{for(let[t,r]of n)e(t,r)})}isEmpty(){return nR(this.inner)}size(){return this.innerSize}}const rQ=new nP(nh.comparator),rY=new nP(nh.comparator);function rX(...e){let t=rY;for(let n of e)t=t.insert(n.key,n);return t}function rJ(e){let t=rY;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function rZ(){return new rK(e=>e.toString(),(e,t)=>e.isEqual(t))}const r0=new nP(nh.comparator),r1=new nL(nh.comparator);function r2(...e){let t=r1;for(let n of e)t=t.add(n);return t}const r3=new nL(nn);function r4(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nI(t)?"-0":t}}function r6(e){return{integerValue:""+e}}class r5{constructor(){this._=void 0}}function r8(e,t){return e instanceof ii?rr(t)||t&&"doubleValue"in t?t:{integerValue:0}:null}class r7 extends r5{}class r9 extends r5{constructor(e){super(),this.elements=e}}function ie(e,t){let n=ia(t);for(let t of e.elements)n.some(e=>n5(e,t))||n.push(t);return{arrayValue:{values:n}}}class it extends r5{constructor(e){super(),this.elements=e}}function ir(e,t){let n=ia(t);for(let t of e.elements)n=n.filter(e=>!n5(e,t));return{arrayValue:{values:n}}}class ii extends r5{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function is(e){return nB(e.integerValue||e.doubleValue)}function ia(e){return ri(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class io{constructor(e,t){this.version=e,this.transformResults=t}}class il{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new il}static exists(e){return new il(void 0,e)}static updateTime(e){return new il(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function iu(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class ic{}function ih(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new iw(e.key,il.none()):new im(e.key,e.data,il.none());{let n=e.data,r=rh.empty(),i=new nL(nc.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new ig(e.key,r,new nF(i.toArray()),il.none())}}function id(e,t,n,r){return e instanceof im?function(e,t,n,r){if(!iu(e.precondition,t))return n;let i=e.value.clone(),s=ib(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof ig?function(e,t,n,r){if(!iu(e.precondition,t))return n;let i=ib(e.fieldTransforms,r,t),s=t.data;return(s.setAll(iy(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n)?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):iu(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}function ip(e,t){var n,r;return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||!(!n||!r)&&ns(n,r,(e,t)=>{var n,r;return e.field.isEqual(t.field)&&(n=e.transform,r=t.transform,n instanceof r9&&r instanceof r9||n instanceof it&&r instanceof it?ns(n.elements,r.elements,n5):n instanceof ii&&r instanceof ii?n5(n.Ae,r.Ae):n instanceof r7&&r instanceof r7)})))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class im extends ic{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ig extends ic{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function iy(e){let t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=e.data.field(n);t.set(n,r)}}),t}function iv(e,t,n){let r=new Map;tZ(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let s=0;s<n.length;s++){var i;let a=e[s],o=a.transform,l=t.data.field(a.field);r.set(a.field,(i=n[s],o instanceof r9?ie(o,l):o instanceof it?ir(o,l):i))}return r}function ib(e,t,n){let r=new Map;for(let i of e){let e=i.transform,s=n.data.field(i.field);r.set(i.field,e instanceof r7?function(e,t){let n={fields:{[nH]:{stringValue:nq},[nW]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&nK(t)&&(t=nQ(t)),t&&(n.fields[nG]=t),{mapValue:n}}(t,s):e instanceof r9?ie(e,s):e instanceof it?ir(e,s):function(e,t){let n=r8(e,t),r=is(n)+is(e.Ae);return rr(n)&&rr(e.Ae)?r6(r):r4(e.serializer,r)}(e,s))}return r}class iw extends ic{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iE extends ic{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class iS{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){let n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){let r=this.mutations[t];r.key.isEqual(e.key)&&function(e,t,n){e instanceof im?function(e,t,n){let r=e.value.clone(),i=iv(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ig?function(e,t,n){if(!iu(e.precondition,t))return t.convertToUnknownDocument(n.version);let r=iv(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(iy(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):t.convertToNoDocument(n.version).setHasCommittedMutations()}(r,e,n[t])}}applyToLocalView(e,t){for(let n of this.baseMutations)n.key.isEqual(e.key)&&(t=id(n,e,t,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(e.key)&&(t=id(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let n=rZ();return this.mutations.forEach(r=>{let i=e.get(r.key),s=i.overlayedDocument,a=this.applyToLocalView(s,i.mutatedFields),o=ih(s,a=t.has(r.key)?null:a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(nE.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),r2())}isEqual(e){return this.batchId===e.batchId&&ns(this.mutations,e.mutations,(e,t)=>ip(e,t))&&ns(this.baseMutations,e.baseMutations,(e,t)=>ip(e,t))}}class i_{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){tZ(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=r0,i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new i_(e,t,n,r)}}class ik{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class iT{constructor(e,t){this.count=e,this.unchangedNames=t}}function ix(e){if(void 0===e)return tK("GRPC error has no .code"),t0.UNKNOWN;switch(e){case E.OK:return t0.OK;case E.CANCELLED:return t0.CANCELLED;case E.UNKNOWN:return t0.UNKNOWN;case E.DEADLINE_EXCEEDED:return t0.DEADLINE_EXCEEDED;case E.RESOURCE_EXHAUSTED:return t0.RESOURCE_EXHAUSTED;case E.INTERNAL:return t0.INTERNAL;case E.UNAVAILABLE:return t0.UNAVAILABLE;case E.UNAUTHENTICATED:return t0.UNAUTHENTICATED;case E.INVALID_ARGUMENT:return t0.INVALID_ARGUMENT;case E.NOT_FOUND:return t0.NOT_FOUND;case E.ALREADY_EXISTS:return t0.ALREADY_EXISTS;case E.PERMISSION_DENIED:return t0.PERMISSION_DENIED;case E.FAILED_PRECONDITION:return t0.FAILED_PRECONDITION;case E.ABORTED:return t0.ABORTED;case E.OUT_OF_RANGE:return t0.OUT_OF_RANGE;case E.UNIMPLEMENTED:return t0.UNIMPLEMENTED;case E.DATA_LOSS:return t0.DATA_LOSS;default:return tX(39323,{code:e})}}(S=E||(E={}))[S.OK=0]="OK",S[S.CANCELLED=1]="CANCELLED",S[S.UNKNOWN=2]="UNKNOWN",S[S.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",S[S.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",S[S.NOT_FOUND=5]="NOT_FOUND",S[S.ALREADY_EXISTS=6]="ALREADY_EXISTS",S[S.PERMISSION_DENIED=7]="PERMISSION_DENIED",S[S.UNAUTHENTICATED=16]="UNAUTHENTICATED",S[S.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",S[S.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",S[S.ABORTED=10]="ABORTED",S[S.OUT_OF_RANGE=11]="OUT_OF_RANGE",S[S.UNIMPLEMENTED=12]="UNIMPLEMENTED",S[S.INTERNAL=13]="INTERNAL",S[S.UNAVAILABLE=14]="UNAVAILABLE",S[S.DATA_LOSS=15]="DATA_LOSS";const iC=new l([0xffffffff,0xffffffff],0);function iI(e){let t=(new TextEncoder).encode(e),n=new u;return n.update(t),new Uint8Array(n.digest())}function iN(e){let t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new l([n,r],0),new l([i,s],0)]}class iA{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new iR(`Invalid padding: ${t}`);if(n<0||e.length>0&&0===this.hashCount)throw new iR(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new iR(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=l.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(l.fromNumber(n)));return 1===r.compare(iC)&&(r=new l([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;let[t,n]=iN(iI(e));for(let e=0;e<this.hashCount;e++){let r=this.ye(t,n,e);if(!this.we(r))return!1}return!0}static create(e,t,n){let r=new iA(new Uint8Array(Math.ceil(e/8)),e%8==0?0:8-e%8,t);return n.forEach(e=>r.insert(e)),r}insert(e){if(0===this.ge)return;let[t,n]=iN(iI(e));for(let e=0;e<this.hashCount;e++){let r=this.ye(t,n,e);this.Se(r)}}Se(e){let t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class iR extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class iP{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){let r=new Map;return r.set(e,iO.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new iP(nE.min(),r,new nP(nn),rQ,r2())}}class iO{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new iO(n,t,r2(),r2(),r2())}}class iD{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class iL{constructor(e,t){this.targetId=e,this.Ce=t}}class iM{constructor(e,t,n=nj.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class iF{constructor(){this.ve=0,this.Fe=iV(),this.Me=nj.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=r2(),t=r2(),n=r2();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:tX(38017,{changeType:i})}}),new iO(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=iV()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,tZ(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class iU{constructor(e){this.Ge=e,this.ze=new Map,this.je=rQ,this.Je=ij(),this.He=ij(),this.Ye=new nP(nn)}Ze(e){for(let t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(let t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{let n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:tX(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){let t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){let i=r.target;if(rD(i))if(0===n){let e=new nh(i.path);this.et(t,e,rd.newNoDocument(e,nE.min()))}else tZ(1===n,20013,{expectedCount:n});else{let r=this._t(t);if(r!==n){let n=this.ut(e),i=n?this.ct(n,e,r):1;0!==i&&(this.it(t),this.Ye=this.Ye.insert(t,2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}ut(e){let t,n,r=e.Ce.unchangedNames;if(!r||!r.bits)return null;let{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=r;try{t=n$(i).toUint8Array()}catch(e){if(e instanceof nU)return tQ("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{n=new iA(t,s,a)}catch(e){return tQ(e instanceof iR?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===n.ge?null:n}ct(e,t,n){return 2*(t.Ce.count!==n-this.Pt(e,t.targetId))}Pt(e,t){let n=this.Ge.getRemoteKeysForTarget(t),r=0;return n.forEach(n=>{let i=this.Ge.ht(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.et(t,n,null),r++)}),r}Tt(e){let t=new Map;this.ze.forEach((n,r)=>{let i=this.ot(r);if(i){if(n.current&&rD(i.target)){let t=new nh(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,rd.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=r2();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{let t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));let r=new iP(e,t,this.Ye,this.je,n);return this.je=rQ,this.Je=ij(),this.He=ij(),this.Ye=new nP(nn),r}Xe(e,t){if(!this.rt(e))return;let n=2*!!this.Et(e,t.key);this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;let r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){let t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new iF,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new nL(nn),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new nL(nn),this.Je=this.Je.insert(e,t)),t}rt(e){let t=null!==this.ot(e);return t||tW("WatchChangeAggregator","Detected inactive target",e),t}ot(e){let t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new iF),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function ij(){return new nP(nh.comparator)}function iV(){return new nP(nh.comparator)}const iz={asc:"ASCENDING",desc:"DESCENDING"},iB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},i$={and:"AND",or:"OR"};class iq{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function iH(e,t){return e.useProto3Json||null==t?t:{value:t}}function iG(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function iW(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function iK(e){return tZ(!!e,49232),nE.fromTimestamp(function(e){let t=nz(e);return new nw(t.seconds,t.nanos)}(e))}function iQ(e,t){return iY(e,t).canonicalString()}function iY(e,t){let n=new nl(["projects",e.projectId,"databases",e.database]).child("documents");return void 0===t?n:n.child(t)}function iX(e){let t=nl.fromString(e);return tZ(i5(t),10190,{key:t.toString()}),t}function iJ(e,t){return iQ(e.databaseId,t.path)}function iZ(e,t){let n=iX(t);if(n.get(1)!==e.databaseId.projectId)throw new t1(t0.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new t1(t0.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new nh(i2(n))}function i0(e,t){return iQ(e.databaseId,t)}function i1(e){return new nl(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function i2(e){return tZ(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function i3(e,t,n){return{name:iJ(e,t),fields:n.value.mapValue.fields}}function i4(e){return{fieldPath:e.canonicalString()}}function i6(e){return nc.fromServerFormat(e.fieldPath)}function i5(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class i8{constructor(e,t,n,r,i=nE.min(),s=nE.min(),a=nj.EMPTY_BYTE_STRING,o=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new i8(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new i8(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new i8(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new i8(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class i7{constructor(e){this.yt=e}}class i9{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(+!!e.booleanValue);else if("integerValue"in e)this.Ft(t,15),t.Mt(nB(e.integerValue));else if("doubleValue"in e){let n=nB(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),nI(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=nz(n)),t.xt(`${n.seconds||""}`),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(n$(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){let n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?rc(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):rl(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):tX(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){let n=e.fields||{};for(let e of(this.Ft(t,55),Object.keys(n)))this.Ot(e,t),this.Ct(n[e],t)}kt(e,t){let n=e.fields||{};this.Ft(t,53);let r=n[n4].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(nB(r)),this.Ot(n4,t),this.Ct(n[n4],t)}Qt(e,t){let n=e.values||[];for(let e of(this.Ft(t,50),n))this.Ct(e,t)}Lt(e,t){this.Ft(t,37),nh.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}i9.Kt=new i9;class se{constructor(){this.Cn=new st}addToCollectionParentIndex(e,t){return this.Cn.add(t),nT.resolve()}getCollectionParents(e,t){return nT.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return nT.resolve()}deleteFieldIndex(e,t){return nT.resolve()}deleteAllFieldIndexes(e){return nT.resolve()}createTargetIndexes(e,t){return nT.resolve()}getDocumentsMatchingTarget(e,t){return nT.resolve(null)}getIndexType(e,t){return nT.resolve(0)}getFieldIndexes(e,t){return nT.resolve([])}getNextCollectionGroupToUpdate(e){return nT.resolve(null)}getMinOffset(e,t){return nT.resolve(nS.min())}getMinOffsetFromCollectionGroup(e,t){return nT.resolve(nS.min())}updateCollectionGroup(e,t,n){return nT.resolve()}updateIndexEntries(e,t){return nT.resolve()}}class st{constructor(){this.index={}}add(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new nL(nl.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new nL(nl.comparator)).toArray()}}new Uint8Array(0);const sn={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class sr{static withCacheSize(e){return new sr(e,sr.DEFAULT_COLLECTION_PERCENTILE,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}sr.DEFAULT_COLLECTION_PERCENTILE=10,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sr.DEFAULT=new sr(0x2800000,sr.DEFAULT_COLLECTION_PERCENTILE,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sr.DISABLED=new sr(-1,0,0);class si{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new si(0)}static cr(){return new si(-1)}}const ss="LruGarbageCollector";function sa([e,t],[n,r]){let i=nn(e,n);return 0===i?nn(t,r):i}class so{constructor(e){this.Ir=e,this.buffer=new nL(sa),this.Er=0}dr(){return++this.Er}Ar(e){let t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{let e=this.buffer.last();0>sa(t,e)&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sl{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){tW(ss,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){nx(e)?tW(ss,"Ignoring IndexedDB error during garbage collection: ",e):await nk(e)}await this.Vr(3e5)})}}class su{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return nT.resolve(nC.ce);let n=new so(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return -1===this.params.cacheSizeCollectionThreshold?(tW("LruGarbageCollector","Garbage collection skipped; disabled"),nT.resolve(sn)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(tW("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sn):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,s,a,l,u,c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(tW("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(u=Date.now(),tG()<=o.DEBUG&&tW("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${r} in `+(a-s)+"ms\n"+`	Removed ${i} targets in `+(l-a)+"ms\n"+`	Removed ${e} documents in `+(u-l)+"ms\n"+`Total Duration: ${u-c}ms`),nT.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}class sc{constructor(){this.changes=new rK(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rd.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let n=this.changes.get(t);return void 0!==n?nT.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class sh{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class sd{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&id(n.mutation,e,nF.empty(),nw.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,r2()).next(()=>t))}getLocalViewOfDocuments(e,t,n=r2()){let r=rZ();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=rX();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){let n=rZ();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,r2()))}populateOverlays(e,t,n){let r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=rQ,s=rZ(),a=rZ();return t.forEach((e,t)=>{let a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof ig)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),id(a.mutation,t,a.mutation.getFieldMask(),nw.now())):s.set(t.key,nF.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>a.set(e,new sh(t,s.get(e)??null))),a))}recalculateAndSaveOverlays(e,t){let n=rZ(),r=new nP((e,t)=>e-t),i=r2();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(let i of e)i.keys().forEach(e=>{let s=t.get(e);if(null===s)return;let a=n.get(e)||nF.empty();a=i.applyToLocalView(s,a),n.set(e,a);let o=(r.get(i.batchId)||r2()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{let s=[],a=r.getReverseIterator();for(;a.hasNext();){let r=a.getNext(),o=r.key,l=r.value,u=rZ();l.forEach(e=>{if(!i.has(e)){let r=ih(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,u))}return nT.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return nh.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):rU(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{let s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):nT.resolve(rZ()),a=-1,o=i;return s.next(t=>nT.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?nT.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,r2())).next(e=>({batchId:a,changes:rJ(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new nh(t)).next(e=>{let t=rX();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){let i=t.collectionGroup,s=rX();return this.indexManager.getCollectionParents(e,i).next(a=>nT.forEach(a,a=>{let o=new rL(a.child(i),null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt);return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{let r=n.getKey();null===e.get(r)&&(e=e.insert(r,rd.newInvalidDocument(r)))});let n=rX();return e.forEach((e,r)=>{let s=i.get(e);void 0!==s&&id(s.mutation,r,nF.empty(),nw.now()),rG(t,r)&&(n=n.insert(e,r))}),n})}}class sf{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return nT.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,{id:t.id,version:t.version,createTime:iK(t.createTime)}),nT.resolve()}getNamedQuery(e,t){return nT.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,{name:t.name,query:function(e){let t=function(e){var t;let n,r=function(e){let t=iX(e);return 4===t.length?nl.emptyPath():i2(t)}(e.parent),i=e.structuredQuery,s=i.from?i.from.length:0,a=null;if(s>0){tZ(1===s,65062);let e=i.from[0];e.allDescendants?a=e.collectionId:r=r.child(e.collectionId)}let o=[];i.where&&(o=function(e){var t;let n=function e(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":let t=i6(e.unaryFilter.field);return rv.create(t,"==",{doubleValue:NaN});case"IS_NULL":let n=i6(e.unaryFilter.field);return rv.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let r=i6(e.unaryFilter.field);return rv.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let i=i6(e.unaryFilter.field);return rv.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return tX(61313);default:return tX(60726)}}(t):void 0!==t.fieldFilter?rv.create(i6(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return tX(58110);default:return tX(50506)}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==t.compositeFilter?rb.create(t.compositeFilter.filters.map(t=>e(t)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return tX(1026)}}(t.compositeFilter.op)):tX(30097,{filter:t})}(e);return n instanceof rb&&rE(t=n)&&rw(t)?n.getFilters():[n]}(i.where));let l=[];i.orderBy&&(l=i.orderBy.map(e=>new rg(i6(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))));let u=null;i.limit&&(u=null==(n="object"==typeof(t=i.limit)?t.value:t)?null:n);let c=null;i.startAt&&(c=function(e){let t=!!e.before;return new rf(e.values||[],t)}(i.startAt));let h=null;return i.endAt&&(h=function(e){let t=!e.before;return new rf(e.values||[],t)}(i.endAt)),new rL(r,a,l,o,u,"F",c,h)}({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?rB(t,t.limit,"L"):t}(t.bundledQuery),readTime:iK(t.readTime)}),nT.resolve()}}class sp{constructor(){this.overlays=new nP(nh.comparator),this.qr=new Map}getOverlay(e,t){return nT.resolve(this.overlays.get(t))}getOverlays(e,t){let n=rZ();return nT.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),nT.resolve()}removeOverlaysForBatchId(e,t,n){let r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),nT.resolve()}getOverlaysForCollection(e,t,n){let r=rZ(),i=t.length+1,s=new nh(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return nT.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new nP((e,t)=>e-t),s=this.overlays.getIterator();for(;s.hasNext();){let e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=rZ(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}let a=rZ(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return nT.resolve(a)}St(e,t,n){let r=this.overlays.get(n.key);if(null!==r){let e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new ik(t,n));let i=this.qr.get(t);void 0===i&&(i=r2(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}class sm{constructor(){this.sessionToken=nj.EMPTY_BYTE_STRING}getSessionToken(e){return nT.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,nT.resolve()}}class sg{constructor(){this.Qr=new nL(sy.$r),this.Ur=new nL(sy.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){let n=new sy(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new sy(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){let t=new nh(new nl([])),n=new sy(t,e),r=new sy(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){let t=new nh(new nl([])),n=new sy(t,e),r=new sy(t,e+1),i=r2();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){let t=new sy(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class sy{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return nh.comparator(e.key,t.key)||nn(e.Yr,t.Yr)}static Kr(e,t){return nn(e.Yr,t.Yr)||nh.comparator(e.key,t.key)}}class sv{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new nL(sy.$r)}checkEmpty(e){return nT.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){let i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new iS(i,t,n,r);for(let t of(this.mutationQueue.push(s),r))this.Zr=this.Zr.add(new sy(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return nT.resolve(s)}lookupMutationBatch(e,t){return nT.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){let n=this.ei(t+1),r=n<0?0:n;return nT.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return nT.resolve(0===this.mutationQueue.length?-1:this.tr-1)}getAllMutationBatches(e){return nT.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let n=new sy(t,0),r=new sy(t,1/0),i=[];return this.Zr.forEachInRange([n,r],e=>{let t=this.Xr(e.Yr);i.push(t)}),nT.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new nL(nn);return t.forEach(e=>{let t=new sy(e,0),r=new sy(e,1/0);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),nT.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){let n=t.path,r=n.length+1,i=n;nh.isDocumentKey(i)||(i=i.child(""));let s=new sy(new nh(i),0),a=new nL(nn);return this.Zr.forEachWhile(e=>{let t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Yr)),!0)},s),nT.resolve(this.ti(a))}ti(e){let t=[];return e.forEach(e=>{let n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){tZ(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return nT.forEach(t.mutations,r=>{let i=new sy(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){let n=new sy(t,0),r=this.Zr.firstAfterOrEqual(n);return nT.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,nT.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){let t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class sb{constructor(e){this.ri=e,this.docs=new nP(nh.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let n=this.docs.get(t);return nT.resolve(n?n.document.mutableCopy():rd.newInvalidDocument(t))}getEntries(e,t){let n=rQ;return t.forEach(e=>{let t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():rd.newInvalidDocument(e))}),nT.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=rQ,s=t.path,a=new nh(s.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){let{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||0>=function(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n||0!==(n=nh.comparator(e.documentKey,t.documentKey))?n:nn(e.largestBatchId,t.largestBatchId)}(new nS(a.readTime,a.key,-1),n)||(r.has(a.key)||rG(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return nT.resolve(i)}getAllFromCollectionGroup(e,t,n,r){tX(9500)}ii(e,t){return nT.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new sw(this)}getSize(e){return nT.resolve(this.size)}}class sw extends sc{constructor(e){super(),this.Nr=e}applyChanges(e){let t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),nT.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class sE{constructor(e){this.persistence=e,this.si=new rK(e=>rP(e),rO),this.lastRemoteSnapshotVersion=nE.min(),this.highestTargetId=0,this.oi=0,this._i=new sg,this.targetCount=0,this.ai=si.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),nT.resolve()}getLastRemoteSnapshotVersion(e){return nT.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return nT.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),nT.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),nT.resolve()}Pr(e){this.si.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ai=new si(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,nT.resolve()}updateTargetData(e,t){return this.Pr(t),nT.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,nT.resolve()}removeTargets(e,t,n){let r=0,i=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.si.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),nT.waitFor(i).next(()=>r)}getTargetCount(e){return nT.resolve(this.targetCount)}getTargetData(e,t){let n=this.si.get(t)||null;return nT.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),nT.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);let r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),nT.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),nT.resolve()}getMatchingKeysForTargetId(e,t){let n=this._i.Hr(t);return nT.resolve(n)}containsKey(e,t){return nT.resolve(this._i.containsKey(t))}}class sS{constructor(e,t){this.ui={},this.overlays={},this.ci=new nC(0),this.li=!1,this.li=!0,this.hi=new sm,this.referenceDelegate=e(this),this.Pi=new sE(this),this.indexManager=new se,this.remoteDocumentCache=new sb(e=>this.referenceDelegate.Ti(e)),this.serializer=new i7(t),this.Ii=new sf(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new sp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new sv(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){tW("MemoryPersistence","Starting transaction:",e);let r=new s_(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return nT.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class s_ extends n_{constructor(e){super(),this.currentSequenceNumber=e}}class sk{constructor(e){this.persistence=e,this.Ri=new sg,this.Vi=null}static mi(e){return new sk(e)}get fi(){if(this.Vi)return this.Vi;throw tX(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),nT.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),nT.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),nT.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nT.forEach(this.fi,n=>{let r=nh.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,nE.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return nT.or([()=>nT.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class sT{constructor(e,t){this.persistence=e,this.pi=new rK(e=>(function(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t+="\x01\x01"),t=function(e,t){let n=t,r=e.length;for(let t=0;t<r;t++){let r=e.charAt(t);switch(r){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=r}}return n}(e.get(n),t);return t+"\x01\x01"})(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=new su(this,t)}static mi(e,t){return new sT(e,t)}Ei(){}di(e){return nT.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){let t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return nT.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?nT.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0,r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,i.removeEntry(r,nE.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),nT.resolve()}removeTarget(e,t){let n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),nT.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),nT.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),nT.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=function e(t){switch(n6(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let n=nQ(t);return n?16+e(n):16;case 5:return 2*t.stringValue.length;case 6:return n$(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(t.arrayValue.values||[]).reduce((t,n)=>t+e(n),0);case 10:case 11:var r;let i;return r=t.mapValue,i=0,nA(r.fields,(t,n)=>{i+=t.length+e(n)}),i;default:throw tX(13486,{value:t})}}(e.data.value)),t}br(e,t,n){return nT.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let e=this.pi.get(t);return nT.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class sx{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=r2(),r=r2();for(let e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new sx(e,t.fromCache,n,r)}}class sC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class sI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=!function(){let e=V()?.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(T.process)}catch(e){return!1}}()&&navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")?8:function(e){let t=e.match(/Android ([\d.]+)/i);return Number(t?t[1].split(".").slice(0,2).join("."):"-1")}(Y())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){let i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;let n=new sC;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(tG()<=o.DEBUG&&tW("QueryEngine","SDK will not create cache indexes for query:",rH(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),nT.resolve()):(tG()<=o.DEBUG&&tW("QueryEngine","Query:",rH(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(tG()<=o.DEBUG&&tW("QueryEngine","The SDK decides to create cache indexes for query:",rH(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rV(t))):nT.resolve())}ys(e,t){if(rF(t))return nT.resolve(null);let n=rV(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(n=rV(t=rB(t,null,"F"))),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{let i=r2(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{let s=this.Ds(t,r);return this.Cs(t,s,i,n.readTime)?this.ys(e,rB(t,null,"F")):this.vs(e,s,t,n)}))})))}ws(e,t,n,r){return rF(t)||r.isEqual(nE.min())?nT.resolve(null):this.ps.getDocuments(e,n).next(i=>{let s=this.Ds(t,i);return this.Cs(t,s,n,r)?nT.resolve(null):(tG()<=o.DEBUG&&tW("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),rH(t)),this.vs(e,s,t,function(e,t){let n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1;return new nS(nE.fromTimestamp(1e9===r?new nw(n+1,0):new nw(n,r)),nh.empty(),-1)}(r,0)).next(e=>e))})}Ds(e,t){let n=new nL(rW(e));return t.forEach((t,r)=>{rG(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;let i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return tG()<=o.DEBUG&&tW("QueryEngine","Using full collection scan to execute query:",rH(t)),this.ps.getDocumentsMatchingQuery(e,t,nS.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const sN="LocalStore";class sA{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new nP(nn),this.xs=new rK(e=>rP(e),rO),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sd(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}async function sR(e,t){return await e.persistence.runTransaction("Handle user change","readonly",n=>{let r;return e.mutationQueue.getAllMutationBatches(n).next(i=>(r=i,e.Bs(t),e.mutationQueue.getAllMutationBatches(n))).next(t=>{let i=[],s=[],a=r2();for(let e of r)for(let t of(i.push(e.batchId),e.mutations))a=a.add(t.key);for(let e of t)for(let t of(s.push(e.batchId),e.mutations))a=a.add(t.key);return e.localDocuments.getDocuments(n,a).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:s}))})})}function sP(e){return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}async function sO(e,t,n){let r=e.Ms.get(t);try{n||await e.persistence.runTransaction("Release target",n?"readwrite":"readwrite-primary",t=>e.persistence.referenceDelegate.removeTarget(t,r))}catch(e){if(!nx(e))throw e;tW(sN,`Failed to update sequence numbers for target ${t}: ${e}`)}e.Ms=e.Ms.remove(t),e.xs.delete(r.target)}function sD(e,t,n){let r=nE.min(),i=r2();return e.persistence.runTransaction("Execute query","readwrite",s=>(function(e,t,n){let r=e.xs.get(n);return void 0!==r?nT.resolve(e.Ms.get(r)):e.Pi.getTargetData(t,n)})(e,s,rV(t)).next(t=>{if(t)return r=t.lastLimboFreeSnapshotVersion,e.Pi.getMatchingKeysForTargetId(s,t.targetId).next(e=>{i=e})}).next(()=>e.Fs.getDocumentsMatchingQuery(s,t,n?r:nE.min(),n?i:r2())).next(n=>{var r,s,a;let o;return r=e,s=t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2)),a=n,o=r.Os.get(s)||nE.min(),a.forEach((e,t)=>{t.readTime.compareTo(o)>0&&(o=t.readTime)}),r.Os.set(s,o),{documents:n,Qs:i}}))}class sL{constructor(){this.activeTargetIds=r3}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){return JSON.stringify({activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()})}}class sM{constructor(){this.Mo=new sL,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new sL,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class sF{Oo(e){}shutdown(){}}const sU="ConnectivityMonitor";class sj{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){for(let e of(tW(sU,"Network connectivity changed: AVAILABLE"),this.qo))e(0)}ko(){for(let e of(tW(sU,"Network connectivity changed: UNAVAILABLE"),this.qo))e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let sV=null;function sz(){return null===sV?sV=0x10000000+Math.round(0x80000000*Math.random()):sV++,"0x"+sV.toString(16)}const sB="RestConnection",s$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sq{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${r}`,this.Wo=this.databaseId.database===nJ?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Go(e,t,n,r,i){let s=sz(),a=this.zo(e,t.toUriEncodedString());tW(sB,`Sending RPC '${e}' ${s}:`,a,n);let o={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(o,r,i);let{host:l}=new URL(a),u=H(l);return this.Jo(e,a,o,n,u).then(t=>(tW(sB,`Received RPC '${e}' ${s}: `,t),t),t=>{throw tQ(sB,`RPC '${e}' ${s} failed with error: `,t,"url: ",a,"request:",n),t})}Ho(e,t,n,r,i,s){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+tq,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){let n=s$[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}class sH{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const sG="WebChannelConnection";class sW extends sq{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){let s=sz();return new Promise((i,a)=>{let o=new c;o.setWithCredentials(!0),o.listenOnce(d.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case f.NO_ERROR:let t=o.getResponseJson();tW(sG,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(t)),i(t);break;case f.TIMEOUT:tW(sG,`RPC '${e}' ${s} timed out`),a(new t1(t0.DEADLINE_EXCEEDED,"Request time out"));break;case f.HTTP_ERROR:let n=o.getStatus();if(tW(sG,`RPC '${e}' ${s} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);let t=e?.error;if(t&&t.status&&t.message){let e=function(e){let t=e.toLowerCase().replace(/_/g,"-");return Object.values(t0).indexOf(t)>=0?t:t0.UNKNOWN}(t.status);a(new t1(e,t.message))}else a(new t1(t0.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new t1(t0.UNAVAILABLE,"Connection failed."));break;default:tX(9055,{l_:e,streamId:s,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{tW(sG,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(r);tW(sG,`RPC '${e}' ${s} sending request:`,r),o.send(t,"POST",l,n,15)})}T_(e,t,n){let r=sz(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=y(),a=g(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.jo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;let u=i.join("");tW(sG,`Creating RPC '${e}' stream ${r}: ${u}`,o);let c=s.createWebChannel(u,o);this.I_(c);let d=!1,f=!1,v=new sH({Yo:t=>{f?tW(sG,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(tW(sG,`Opening RPC '${e}' stream ${r} transport.`),c.open(),d=!0),tW(sG,`RPC '${e}' stream ${r} sending:`,t),c.send(t))},Zo:()=>c.close()}),b=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return b(c,h.EventType.OPEN,()=>{f||(tW(sG,`RPC '${e}' stream ${r} transport opened.`),v.o_())}),b(c,h.EventType.CLOSE,()=>{f||(f=!0,tW(sG,`RPC '${e}' stream ${r} transport closed`),v.a_(),this.E_(c))}),b(c,h.EventType.ERROR,t=>{f||(f=!0,tQ(sG,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),v.a_(new t1(t0.UNAVAILABLE,"The operation could not be completed")))}),b(c,h.EventType.MESSAGE,t=>{if(!f){let n=t.data[0];tZ(!!n,16349);let i=n?.error||n[0]?.error;if(i){tW(sG,`RPC '${e}' stream ${r} received error:`,i);let t=i.status,n=function(e){let t=E[e];if(void 0!==t)return ix(t)}(t),s=i.message;void 0===n&&(n=t0.INTERNAL,s="Unknown error status: "+t+" with message "+i.message),f=!0,v.a_(new t1(n,s)),c.close()}else tW(sG,`RPC '${e}' stream ${r} received:`,n),v.u_(n)}}),b(a,m.STAT_EVENT,t=>{t.stat===p.PROXY?tW(sG,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===p.NOPROXY&&tW(sG,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{v.__()},0),v}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function sK(){return"undefined"!=typeof document?document:null}function sQ(e){return new iq(e,!0)}class sY{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();let t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&tW("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const sX="PersistentStream";class sJ{constructor(e,t,n,r,i,s,a,o){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new sY(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===t0.RESOURCE_EXHAUSTED?(tK(t.toString()),tK("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===t0.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;let e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.D_===t&&this.G_(e,n)},t=>{e(()=>{let e=new t1(t0.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){let n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return tW(sX,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(tW(sX,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sZ extends sJ{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();let t=function(e,t){let n;if("targetChange"in t){var r,i;t.targetChange;let s="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:tX(39313,{state:r}),a=t.targetChange.targetIds||[],o=(i=t.targetChange.resumeToken,e.useProto3Json?(tZ(void 0===i||"string"==typeof i,58123),nj.fromBase64String(i||"")):(tZ(void 0===i||i instanceof to||i instanceof Uint8Array,16193),nj.fromUint8Array(i||new Uint8Array))),l=t.targetChange.cause;n=new iM(s,a,o,l&&new t1(void 0===l.code?t0.UNKNOWN:ix(l.code),l.message||"")||null)}else if("documentChange"in t){t.documentChange;let r=t.documentChange;r.document,r.document.name,r.document.updateTime;let i=iZ(e,r.document.name),s=iK(r.document.updateTime),a=r.document.createTime?iK(r.document.createTime):nE.min(),o=new rh({mapValue:{fields:r.document.fields}}),l=rd.newFoundDocument(i,s,a,o);n=new iD(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in t){t.documentDelete;let r=t.documentDelete;r.document;let i=iZ(e,r.document),s=r.readTime?iK(r.readTime):nE.min(),a=rd.newNoDocument(i,s);n=new iD([],r.removedTargetIds||[],a.key,a)}else if("documentRemove"in t){t.documentRemove;let r=t.documentRemove;r.document;let i=iZ(e,r.document);n=new iD([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return tX(11601,{Rt:t});{t.filter;let e=t.filter;e.targetId;let{count:r=0,unchangedNames:i}=e,s=new iT(r,i);n=new iL(e.targetId,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return nE.min();let t=e.targetChange;return t.targetIds&&t.targetIds.length?nE.min():t.readTime?iK(t.readTime):nE.min()}(e);return this.listener.H_(t,n)}Y_(e){let t={};t.database=i1(this.serializer),t.addTarget=function(e,t){let n,r=t.target;if((n=rD(r)?{documents:{documents:[i0(e,r.path)]}}:{query:function(e,t){var n,r;let i,s={structuredQuery:{}},a=t.path;null!==t.collectionGroup?(i=a,s.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=a.popLast(),s.structuredQuery.from=[{collectionId:a.lastSegment()}]),s.parent=i0(e,i);let o=function(e){if(0!==e.length)return function e(t){return t instanceof rv?function(e){if("=="===e.op){if(ra(e.value))return{unaryFilter:{field:i4(e.field),op:"IS_NAN"}};if(rs(e.value))return{unaryFilter:{field:i4(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ra(e.value))return{unaryFilter:{field:i4(e.field),op:"IS_NOT_NAN"}};if(rs(e.value))return{unaryFilter:{field:i4(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:i4(e.field),op:iB[e.op],value:e.value}}}(t):t instanceof rb?function(t){let n=t.getFilters().map(t=>e(t));return 1===n.length?n[0]:{compositeFilter:{op:i$[t.op],filters:n}}}(t):tX(54877,{filter:t})}(rb.create(e,"and"))}(t.filters);o&&(s.structuredQuery.where=o);let l=function(e){if(0!==e.length)return e.map(e=>({field:i4(e.field),direction:iz[e.dir]}))}(t.orderBy);l&&(s.structuredQuery.orderBy=l);let u=iH(e,t.limit);return null!==u&&(s.structuredQuery.limit=u),t.startAt&&(s.structuredQuery.startAt={before:(n=t.startAt).inclusive,values:n.position}),t.endAt&&(s.structuredQuery.endAt={before:!(r=t.endAt).inclusive,values:r.position}),{ft:s,parent:i}}(e,r).ft}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=iW(e,t.resumeToken);let r=iH(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(nE.min())>0){n.readTime=iG(e,t.snapshotVersion.toTimestamp());let r=iH(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);let n=function(e,t){let n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tX(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){let t={};t.database=i1(this.serializer),t.removeTarget=e,this.q_(t)}}class s0 extends sJ{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return tZ(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tZ(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){var t,n;tZ(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let r=(t=e.writeResults,n=e.commitTime,t&&t.length>0?(tZ(void 0!==n,14353),t.map(e=>{let t;return(t=e.updateTime?iK(e.updateTime):iK(n)).isEqual(nE.min())&&(t=iK(n)),new io(t,e.transformResults||[])})):[]),i=iK(e.commitTime);return this.listener.na(i,r)}ra(){let e={};e.database=i1(this.serializer),this.q_(e)}ea(e){let t={streamToken:this.lastStreamToken,writes:e.map(e=>(function(e,t){var n;let r;if(t instanceof im)r={update:i3(e,t.key,t.value)};else if(t instanceof iw)r={delete:iJ(e,t.key)};else if(t instanceof ig)r={update:i3(e,t.key,t.data),updateMask:function(e){let t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}(t.fieldMask)};else{if(!(t instanceof iE))return tX(16599,{Vt:t.type});r={verify:iJ(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(e=>(function(e,t){let n=t.transform;if(n instanceof r7)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof r9)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof it)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ii)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw tX(20930,{transform:t.transform})})(0,e))),t.precondition.isNone||(r.currentDocument=void 0!==(n=t.precondition).updateTime?{updateTime:iG(e,n.updateTime.toTimestamp())}:void 0!==n.exists?{exists:n.exists}:tX(27497)),r})(this.serializer,e))};this.q_(t)}}class s1{}class s2 extends s1{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new t1(t0.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Go(e,iY(t,n),r,i,s)).catch(e=>{throw"FirebaseError"===e.name?(e.code===t0.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new t1(t0.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,iY(t,n),r,s,a,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===t0.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new t1(t0.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class s3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(tK(t),this.aa=!1):tW("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const s4="RemoteStore";class s6{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{ai(this)&&(tW(s4,"Restarting streams for network reachability change."),await async function(e){e.Ea.add(4),await s8(e),e.Ra.set("Unknown"),e.Ea.delete(4),await s5(e)}(this))})}),this.Ra=new s3(n,r)}}async function s5(e){if(ai(e))for(let t of e.da)await t(!0)}async function s8(e){for(let t of e.da)await t(!1)}function s7(e,t){e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),ar(e)?an(e):aw(e).O_()&&ae(e,t))}function s9(e,t){let n=aw(e);e.Ia.delete(t),n.O_()&&at(e,t),0===e.Ia.size&&(n.O_()?n.L_():ai(e)&&e.Ra.set("Unknown"))}function ae(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(nE.min())>0){let n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}aw(e).Y_(t)}function at(e,t){e.Va.Ue(t),aw(e).Z_(t)}function an(e){e.Va=new iU({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),aw(e).start(),e.Ra.ua()}function ar(e){return ai(e)&&!aw(e).x_()&&e.Ia.size>0}function ai(e){return 0===e.Ea.size}async function as(e){e.Ra.set("Online")}async function aa(e){e.Ia.forEach((t,n)=>{ae(e,t)})}async function ao(e,t){e.Va=void 0,ar(e)?(e.Ra.ha(t),an(e)):e.Ra.set("Unknown")}async function al(e,t,n){if(e.Ra.set("Online"),t instanceof iM&&2===t.state&&t.cause)try{await async function(e,t){let n=t.cause;for(let r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){tW(s4,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await au(e,n)}else if(t instanceof iD?e.Va.Ze(t):t instanceof iL?e.Va.st(t):e.Va.tt(t),!n.isEqual(nE.min()))try{let t=await sP(e.localStore);n.compareTo(t)>=0&&await function(e,t){let n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){let i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{let r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(nj.EMPTY_BYTE_STRING,r.snapshotVersion)),at(e,t);let i=new i8(r.target,t,n,r.sequenceNumber);ae(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){tW(s4,"Failed to raise snapshot:",t),await au(e,t)}}async function au(e,t,n){if(!nx(t))throw t;e.Ea.add(1),await s8(e),e.Ra.set("Offline"),n||(n=()=>sP(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{tW(s4,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await s5(e)})}function ac(e,t){return t().catch(n=>au(e,n,t))}async function ah(e){var t;let n=aE(e),r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:-1;for(;ai(t=e)&&t.Ta.length<10;)try{let t=await function(e,t){return e.persistence.runTransaction("Get next mutation batch","readonly",n=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}(e.localStore,r);if(null===t){0===e.Ta.length&&n.L_();break}r=t.batchId,function(e,t){e.Ta.push(t);let n=aE(e);n.O_()&&n.X_&&n.ea(t.mutations)}(e,t)}catch(t){await au(e,t)}ad(e)&&af(e)}function ad(e){return ai(e)&&!aE(e).x_()&&e.Ta.length>0}function af(e){aE(e).start()}async function ap(e){aE(e).ra()}async function am(e){let t=aE(e);for(let n of e.Ta)t.ea(n.mutations)}async function ag(e,t,n){let r=e.Ta.shift(),i=i_.from(r,t,n);await ac(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await ah(e)}async function ay(e,t){t&&aE(e).X_&&await async function(e,t){var n;if(function(e){switch(e){case t0.OK:return tX(64938);case t0.CANCELLED:case t0.UNKNOWN:case t0.DEADLINE_EXCEEDED:case t0.RESOURCE_EXHAUSTED:case t0.INTERNAL:case t0.UNAVAILABLE:case t0.UNAUTHENTICATED:return!1;case t0.INVALID_ARGUMENT:case t0.NOT_FOUND:case t0.ALREADY_EXISTS:case t0.PERMISSION_DENIED:case t0.FAILED_PRECONDITION:case t0.ABORTED:case t0.OUT_OF_RANGE:case t0.UNIMPLEMENTED:case t0.DATA_LOSS:return!0;default:return tX(15467,{code:e})}}(n=t.code)&&n!==t0.ABORTED){let n=e.Ta.shift();aE(e).B_(),await ac(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await ah(e)}}(e,t),ad(e)&&af(e)}async function av(e,t){e.asyncQueue.verifyOperationInProgress(),tW(s4,"RemoteStore received new credentials");let n=ai(e);e.Ea.add(3),await s8(e),n&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await s5(e)}async function ab(e,t){t?(e.Ea.delete(2),await s5(e)):t||(e.Ea.add(2),await s8(e),e.Ra.set("Unknown"))}function aw(e){var t,n,r;return e.ma||(t=e.datastore,n=e.asyncQueue,r={Xo:as.bind(null,e),t_:aa.bind(null,e),r_:ao.bind(null,e),H_:al.bind(null,e)},t.sa(),e.ma=new sZ(n,t.connection,t.authCredentials,t.appCheckCredentials,t.serializer,r),e.da.push(async t=>{t?(e.ma.B_(),ar(e)?an(e):e.Ra.set("Unknown")):(await e.ma.stop(),e.Va=void 0)})),e.ma}function aE(e){var t,n,r;return e.fa||(t=e.datastore,n=e.asyncQueue,r={Xo:()=>Promise.resolve(),t_:ap.bind(null,e),r_:ay.bind(null,e),ta:am.bind(null,e),na:ag.bind(null,e)},t.sa(),e.fa=new s0(n,t.connection,t.authCredentials,t.appCheckCredentials,t.serializer,r),e.da.push(async t=>{t?(e.fa.B_(),await ah(e)):(await e.fa.stop(),e.Ta.length>0&&(tW(s4,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}class aS{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new t2,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){let s=new aS(e,t,Date.now()+n,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new t1(t0.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function a_(e,t){if(tK("AsyncQueue",`${t}: ${e}`),nx(e))return new t1(t0.UNAVAILABLE,`${t}: ${e}`);throw e}class ak{static emptySet(e){return new ak(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||nh.comparator(t.key,n.key):(e,t)=>nh.comparator(e.key,t.key),this.keyedMap=rX(),this.sortedSet=new nP(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ak)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){let e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){let n=new ak;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class aT{constructor(){this.ga=new nP(nh.comparator)}track(e){let t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):tX(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){let e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class ax{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){let s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new ax(e,t,ak.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&r$(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class aC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class aI{constructor(){this.queries=aN(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){let n=e.queries;e.queries=aN(),n.forEach((e,n)=>{for(let e of n.Sa)e.onError(t)})}(this,new t1(t0.ABORTED,"Firestore shutting down"))}}function aN(){return new rK(e=>rq(e),r$)}async function aA(e,t){let n=3,r=t.query,i=e.queries.get(r);i?!i.ba()&&t.Da()&&(n=2):(i=new aC,n=+!t.Da());try{switch(n){case 0:i.wa=await e.onListen(r,!0);break;case 1:i.wa=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(n){let e=a_(n,`Initialization of query '${rH(t.query)}' failed`);return void t.onError(e)}e.queries.set(r,i),i.Sa.push(t),t.va(e.onlineState),i.wa&&t.Fa(i.wa)&&aD(e)}async function aR(e,t){let n=t.query,r=3,i=e.queries.get(n);if(i){let e=i.Sa.indexOf(t);e>=0&&(i.Sa.splice(e,1),0===i.Sa.length?r=+!t.Da():!i.ba()&&t.Da()&&(r=2))}switch(r){case 0:return e.queries.delete(n),e.onUnlisten(n,!0);case 1:return e.queries.delete(n),e.onUnlisten(n,!1);case 2:return e.onLastRemoteStoreUnlisten(n);default:return}}function aP(e,t){let n=!1;for(let r of t){let t=r.query,i=e.queries.get(t);if(i){for(let e of i.Sa)e.Fa(r)&&(n=!0);i.wa=r}}n&&aD(e)}function aO(e,t,n){let r=e.queries.get(t);if(r)for(let e of r.Sa)e.onError(n);e.queries.delete(t)}function aD(e){e.Ca.forEach(e=>{e.next()})}(k=_||(_={})).Ma="default",k.Cache="cache";class aL{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){let t=[];for(let n of e.docChanges)3!==n.type&&t.push(n);e=new ax(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){return!(e.fromCache&&this.Da())||(!this.options.qa||"Offline"===t)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;let t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=ax.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==_.Cache}}class aM{constructor(e){this.key=e}}class aF{constructor(e){this.key=e}}class aU{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=r2(),this.mutatedKeys=r2(),this.eu=rW(e),this.tu=new ak(this.eu)}get nu(){return this.Ya}ru(e,t){let n=t?t.iu:new aT,r=t?t.tu:this.tu,i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1,o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{let u=r.get(e),c=rG(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations),f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.su(u,c)||(n.track({type:2,doc:c}),f=!0,(o&&this.eu(c,o)>0||l&&0>this.eu(c,l))&&(a=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(o||l)&&(a=!0)),f&&(c?(s=s.add(c),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){let e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:s,iu:n,Cs:a,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){let i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let s=e.iu.ya();s.sort((e,t)=>(function(e,t){let n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tX(20277,{Rt:e})}};return n(e)-n(t)})(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=r??!1;let a=t&&!r?this._u():[],o=0===this.Xa.size&&this.current&&!r?1:0,l=o!==this.Za;return(this.Za=o,0!==s.length||l)?{snapshot:new ax(this.query,e.tu,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new aT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Xa;this.Xa=r2(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});let t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new aF(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new aM(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=r2();let t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ax.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const aj="SyncEngine";class aV{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class az{constructor(e){this.key=e,this.hu=!1}}class aB{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new rK(e=>rq(e),r$),this.Iu=new Map,this.Eu=new Set,this.du=new nP(nh.comparator),this.Au=new Map,this.Ru=new sg,this.Vu={},this.mu=new Map,this.fu=si.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function a$(e,t,n=!0){let r,i=oe(e),s=i.Tu.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.lu()):r=await aH(i,t,n,!0),r}async function aq(e,t){let n=oe(e);await aH(n,t,!0,!1)}async function aH(e,t,n,r){var i,s;let a,o=await (i=e.localStore,s=rV(t),i.persistence.runTransaction("Allocate target","readwrite",e=>{let t;return i.Pi.getTargetData(e,s).next(n=>n?(t=n,nT.resolve(t)):i.Pi.allocateTargetId(e).next(n=>(t=new i8(s,n,"TargetPurposeListen",e.currentSequenceNumber),i.Pi.addTargetData(e,t).next(()=>t))))}).then(e=>{let t=i.Ms.get(e.targetId);return(null===t||e.snapshotVersion.compareTo(t.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(e.targetId,e),i.xs.set(s,e.targetId)),e})),l=o.targetId,u=e.sharedClientState.addLocalQueryTarget(l,n);return r&&(a=await aG(e,t,l,"current"===u,o.resumeToken)),e.isPrimaryClient&&n&&s7(e.remoteStore,o),a}async function aG(e,t,n,r,i){e.pu=(t,n,r)=>(async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await sD(e.localStore,t.query,!1).then(({documents:e})=>t.view.ru(e,i)));let s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return a6(e,t.targetId,o.au),o.snapshot})(e,t,n,r);let s=await sD(e.localStore,t,!0),a=new aU(t,s.Qs),o=a.ru(s.documents),l=iO.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=a.applyChanges(o,e.isPrimaryClient,l);a6(e,n,u.au);let c=new aV(t,n,a);return e.Tu.set(t,c),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),u.snapshot}async function aW(e,t,n){let r=e.Tu.get(t),i=e.Iu.get(r.targetId);if(i.length>1)return e.Iu.set(r.targetId,i.filter(e=>!r$(e,t))),void e.Tu.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(r.targetId),e.sharedClientState.isActiveQueryTarget(r.targetId)||await sO(e.localStore,r.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(r.targetId),n&&s9(e.remoteStore,r.targetId),a3(e,r.targetId)}).catch(nk)):(a3(e,r.targetId),await sO(e.localStore,r.targetId,!0))}async function aK(e,t){let n=e.Tu.get(t),r=e.Iu.get(n.targetId);e.isPrimaryClient&&1===r.length&&(e.sharedClientState.removeLocalQueryTarget(n.targetId),s9(e.remoteStore,n.targetId))}async function aQ(e,t,n){var r,i;let s=((r=e).remoteStore.remoteSyncer.applySuccessfulWrite=aZ.bind(null,r),r.remoteStore.remoteSyncer.rejectFailedWrite=a0.bind(null,r),r);try{let e,r=await function(e,t){let n,r,i=nw.now(),s=t.reduce((e,t)=>e.add(t.key),r2());return e.persistence.runTransaction("Locally write mutations","readwrite",a=>{let o=rQ,l=r2();return e.Ns.getEntries(a,s).next(e=>{(o=e).forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>e.localDocuments.getOverlayedDocuments(a,o)).next(r=>{n=r;let s=[];for(let e of t){let t=function(e,t){let n=null;for(let r of e.fieldTransforms){let e=t.data.field(r.field),i=r8(r.transform,e||null);null!=i&&(null===n&&(n=rh.empty()),n.set(r.field,i))}return n||null}(e,n.get(e.key).overlayedDocument);null!=t&&s.push(new ig(e.key,t,function e(t){let n=[];return nA(t.fields,(t,r)=>{let i=new nc([t]);if(ro(r)){let t=e(r.mapValue).fields;if(0===t.length)n.push(i);else for(let e of t)n.push(i.child(e))}else n.push(i)}),new nF(n)}(t.value.mapValue),il.exists(!0)))}return e.mutationQueue.addMutationBatch(a,i,s,t)}).next(t=>{r=t;let i=t.applyToLocalDocumentSet(n,l);return e.documentOverlayCache.saveOverlays(a,t.batchId,i)})}).then(()=>({batchId:r.batchId,changes:rJ(n)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(r.batchId),i=r.batchId,(e=s.Vu[s.currentUser.toKey()])||(e=new nP(nn)),e=e.insert(i,n),s.Vu[s.currentUser.toKey()]=e,await a8(s,r.changes),await ah(s.remoteStore)}catch(t){let e=a_(t,"Failed to persist write");n.reject(e)}}async function aY(e,t){try{let n=await function(e,t){let n=t.snapshotVersion,r=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{var s,a,o;let l,u,c=e.Ns.newChangeBuffer({trackRemovals:!0});r=e.Ms;let h=[];t.targetChanges.forEach((s,a)=>{var o;let l=r.get(a);if(!l)return;h.push(e.Pi.removeMatchingKeys(i,s.removedDocuments,a).next(()=>e.Pi.addMatchingKeys(i,s.addedDocuments,a)));let u=l.withSequenceNumber(i.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(nj.EMPTY_BYTE_STRING,nE.min()).withLastLimboFreeSnapshotVersion(nE.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,n)),r=r.insert(a,u),o=u,(0===l.resumeToken.approximateByteSize()||o.snapshotVersion.toMicroseconds()-l.snapshotVersion.toMicroseconds()>=3e8||s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size>0)&&h.push(e.Pi.updateTargetData(i,u))});let d=rQ,f=r2();if(t.documentUpdates.forEach(n=>{t.resolvedLimboDocuments.has(n)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(i,n))}),h.push((s=i,a=c,o=t.documentUpdates,l=r2(),u=r2(),o.forEach(e=>l=l.add(e)),a.getEntries(s,l).next(e=>{let t=rQ;return o.forEach((n,r)=>{let i=e.get(n);r.isFoundDocument()!==i.isFoundDocument()&&(u=u.add(n)),r.isNoDocument()&&r.version.isEqual(nE.min())?(a.removeEntry(n,r.readTime),t=t.insert(n,r)):!i.isValidDocument()||r.version.compareTo(i.version)>0||0===r.version.compareTo(i.version)&&i.hasPendingWrites?(a.addEntry(r),t=t.insert(n,r)):tW(sN,"Ignoring outdated watch update for ",n,". Current version:",i.version," Watch version:",r.version)}),{ks:t,qs:u}})).next(e=>{d=e.ks,f=e.qs})),!n.isEqual(nE.min())){let t=e.Pi.getLastRemoteSnapshotVersion(i).next(t=>e.Pi.setTargetsMetadata(i,i.currentSequenceNumber,n));h.push(t)}return nT.waitFor(h).next(()=>c.apply(i)).next(()=>e.localDocuments.getLocalViewOfDocuments(i,d,f)).next(()=>d)}).then(t=>(e.Ms=r,t))}(e.localStore,t);t.targetChanges.forEach((t,n)=>{let r=e.Au.get(n);r&&(tZ(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1,22616),t.addedDocuments.size>0?r.hu=!0:t.modifiedDocuments.size>0?tZ(r.hu,14607):t.removedDocuments.size>0&&(tZ(r.hu,42227),r.hu=!1))}),await a8(e,n,t)}catch(e){await nk(e)}}function aX(e,t,n){var r;if(e.isPrimaryClient&&0===n||!e.isPrimaryClient&&1===n){let n,i=[];e.Tu.forEach((e,n)=>{let r=n.view.va(t);r.snapshot&&i.push(r.snapshot)}),(r=e.eventManager).onlineState=t,n=!1,r.queries.forEach((e,r)=>{for(let e of r.Sa)e.va(t)&&(n=!0)}),n&&aD(r),i.length&&e.Pu.H_(i),e.onlineState=t,e.isPrimaryClient&&e.sharedClientState.setOnlineState(t)}}async function aJ(e,t,n){e.sharedClientState.updateQueryState(t,"rejected",n);let r=e.Au.get(t),i=r&&r.key;if(i){let n=new nP(nh.comparator);n=n.insert(i,rd.newNoDocument(i,nE.min()));let r=r2().add(i),s=new iP(nE.min(),new Map,new nP(nn),n,r);await aY(e,s),e.du=e.du.remove(i),e.Au.delete(t),a5(e)}else await sO(e.localStore,t,!1).then(()=>a3(e,t,n)).catch(nk)}async function aZ(e,t){var n;let r=t.batch.batchId;try{let i=await (n=e.localStore,n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{let r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(e,t,n,r){let i=n.batch,s=i.keys(),a=nT.resolve();return s.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{let s=n.docVersions.get(e);tZ(null!==s,48541),0>t.version.compareTo(s)&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))})(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=r2();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))}));a2(e,r,null),a1(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await a8(e,i)}catch(e){await nk(e)}}async function a0(e,t,n){var r;try{let i=await (r=e.localStore,r.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let n;return r.mutationQueue.lookupMutationBatch(e,t).next(t=>(tZ(null!==t,37113),n=t.keys(),r.mutationQueue.removeMutationBatch(e,t))).next(()=>r.mutationQueue.performConsistencyCheck(e)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(e,n,t)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,n)).next(()=>r.localDocuments.getDocuments(e,n))}));a2(e,t,n),a1(e,t),e.sharedClientState.updateMutationState(t,"rejected",n),await a8(e,i)}catch(e){await nk(e)}}function a1(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function a2(e,t,n){let r=e.Vu[e.currentUser.toKey()];if(r){let i=r.get(t);i&&(n?i.reject(n):i.resolve(),r=r.remove(t)),e.Vu[e.currentUser.toKey()]=r}}function a3(e,t,n=null){for(let r of(e.sharedClientState.removeLocalQueryTarget(t),e.Iu.get(t)))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||a4(e,t)})}function a4(e,t){e.Eu.delete(t.path.canonicalString());let n=e.du.get(t);null!==n&&(s9(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),a5(e))}function a6(e,t,n){for(let r of n)r instanceof aM?(e.Ru.addReference(r.key,t),function(e,t){let n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(tW(aj,"New document in limbo: "+n),e.Eu.add(r),a5(e))}(e,r)):r instanceof aF?(tW(aj,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||a4(e,r.key)):tX(19791,{wu:r})}function a5(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){let t=e.Eu.values().next().value;e.Eu.delete(t);let n=new nh(nl.fromString(t)),r=e.fu.next();e.Au.set(r,new az(n)),e.du=e.du.insert(n,r),s7(e.remoteStore,new i8(rV(rM(n.path)),r,"TargetPurposeLimboResolution",nC.ce))}}async function a8(e,t,n){let r=[],i=[],s=[];e.Tu.isEmpty()||(e.Tu.forEach((a,o)=>{s.push(e.pu(o,t,n).then(t=>{if((t||n)&&e.isPrimaryClient){let r=t?!t.fromCache:n?.targetChanges.get(o.targetId)?.current;e.sharedClientState.updateQueryState(o.targetId,r?"current":"not-current")}if(t){r.push(t);let e=sx.As(o.targetId,t);i.push(e)}}))}),await Promise.all(s),e.Pu.H_(r),await async function(e,t){try{await e.persistence.runTransaction("notifyLocalViewChanges","readwrite",n=>nT.forEach(t,t=>nT.forEach(t.Es,r=>e.persistence.referenceDelegate.addReference(n,t.targetId,r)).next(()=>nT.forEach(t.ds,r=>e.persistence.referenceDelegate.removeReference(n,t.targetId,r)))))}catch(e){if(!nx(e))throw e;tW(sN,"Failed to update sequence numbers: "+e)}for(let n of t){let t=n.targetId;if(!n.fromCache){let n=e.Ms.get(t),r=n.snapshotVersion,i=n.withLastLimboFreeSnapshotVersion(r);e.Ms=e.Ms.insert(t,i)}}}(e.localStore,i))}async function a7(e,t){if(!e.currentUser.isEqual(t)){tW(aj,"User change. New user:",t.toKey());let n=await sR(e.localStore,t);e.currentUser=t,e.mu.forEach(e=>{e.forEach(e=>{e.reject(new t1(t0.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.mu.clear(),e.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await a8(e,n.Ls)}}function a9(e,t){let n=e.Au.get(t);if(n&&n.hu)return r2().add(n.key);{let n=r2(),r=e.Iu.get(t);if(!r)return n;for(let t of r){let r=e.Tu.get(t);n=n.unionWith(r.view.nu)}return n}}function oe(e){return e.remoteStore.remoteSyncer.applyRemoteEvent=aY.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=a9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aJ.bind(null,e),e.Pu.H_=aP.bind(null,e.eventManager),e.Pu.yu=aO.bind(null,e.eventManager),e}class ot{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sQ(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){var t,n;return t=this.persistence,n=new sI,new sA(t,n,e.initialUser,this.serializer)}Cu(e){return new sS(sk.mi,this.serializer)}Du(e){return new sM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ot.provider={build:()=>new ot};class on extends ot{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){return tZ(this.persistence.referenceDelegate instanceof sT,46915),new sl(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Cu(e){let t=void 0!==this.cacheSizeBytes?sr.withCacheSize(this.cacheSizeBytes):sr.DEFAULT;return new sS(e=>sT.mi(e,t),this.serializer)}}class or{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>aX(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=a7.bind(null,this.syncEngine),await ab(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new aI}createDatastore(e){var t;let n=sQ(e.databaseInfo.databaseId),r=new sW(e.databaseInfo);return t=e.authCredentials,new s2(t,e.appCheckCredentials,r,n)}createRemoteStore(e){var t,n;return t=this.localStore,n=this.datastore,new s6(t,n,e.asyncQueue,e=>aX(this.syncEngine,e,0),sj.v()?new sj:new sF)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){let o=new aB(e,t,n,r,i,s);return a&&(o.gu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(e){tW(s4,"RemoteStore shutting down."),e.Ea.add(5),await s8(e),e.Aa.shutdown(),e.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}or.provider={build:()=>new or};class oi{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):tK("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const os="FirestoreClient";class oa{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=t$.UNAUTHENTICATED,this.clientId=nt.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{tW(os,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(tW(os,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new t2;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let t=a_(n,"Failed to shutdown persistence");e.reject(t)}}),e.promise}}async function oo(e,t){e.asyncQueue.verifyOperationInProgress(),tW(os,"Initializing OfflineComponentProvider");let n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await sR(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function ol(e,t){e.asyncQueue.verifyOperationInProgress();let n=await ou(e);tW(os,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>av(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>av(t.remoteStore,n)),e._onlineComponents=t}async function ou(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){tW(os,"Using user provided OfflineComponentProvider");try{await oo(e,e._uninitializedComponentsProvider._offline)}catch(t){if(!("FirebaseError"===t.name?t.code===t0.FAILED_PRECONDITION||t.code===t0.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code))throw t;tQ("Error using user provided cache. Falling back to memory cache: "+t),await oo(e,new ot)}}else tW(os,"Using default OfflineComponentProvider"),await oo(e,new on(void 0));return e._offlineComponents}async function oc(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(tW(os,"Using user provided OnlineComponentProvider"),await ol(e,e._uninitializedComponentsProvider._online)):(tW(os,"Using default OnlineComponentProvider"),await ol(e,new or))),e._onlineComponents}async function oh(e){let t=await oc(e),n=t.eventManager;return n.onListen=a$.bind(null,t.syncEngine),n.onUnlisten=aW.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=aq.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=aK.bind(null,t.syncEngine),n}function od(e){let t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const of=new Map,op="firestore.googleapis.com";class om{constructor(e){if(void 0===e.host){if(void 0!==e.ssl)throw new t1(t0.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=op,this.ssl=!0}else this.host=e.host,this.ssl=e.ssl??!0;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=0x2800000;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new t1(t0.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new t1(t0.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=od(e.experimentalLongPollingOptions??{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new t1(t0.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new t1(t0.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new t1(t0.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){var t,n;return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class og{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new om({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new t1(t0.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new t1(t0.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new om(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new t4;switch(e.type){case"firstParty":return new t7(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new t1(t0.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){let t=of.get(e);t&&(tW("ComponentProvider","Removing Datastore"),of.delete(e),t.terminate())}(this),Promise.resolve()}}class oy{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new oy(this.firestore,e,this._query)}}class ov{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ob(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ov(this.firestore,e,this._key)}toJSON(){return{type:ov._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(nb(t,ov._jsonSchema))return new ov(e,n||null,new nh(nl.fromString(t.referencePath)))}}ov._jsonSchemaVersion="firestore/documentReference/1.0",ov._jsonSchema={type:nv("string",ov._jsonSchemaVersion),referencePath:nv("string")};class ob extends oy{constructor(e,t,n){super(e,t,rM(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ov(this.firestore,null,new nh(e))}withConverter(e){return new ob(this.firestore,e,this._path)}}function ow(e,t,...n){if(e=eo(e),nd("collection","path",t),e instanceof og){let r=nl.fromString(t,...n);return np(r),new ob(e,null,r)}{if(!(e instanceof ov||e instanceof ob))throw new t1(t0.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=e._path.child(nl.fromString(t,...n));return np(r),new ob(e.firestore,null,r)}}function oE(e,t,...n){if(e=eo(e),1==arguments.length&&(t=nt.newId()),nd("doc","path",t),e instanceof og){let r=nl.fromString(t,...n);return nf(r),new ov(e,null,new nh(r))}{if(!(e instanceof ov||e instanceof ob))throw new t1(t0.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=e._path.child(nl.fromString(t,...n));return nf(r),new ov(e.firestore,e instanceof ob?e.converter:null,new nh(r))}}const oS="AsyncQueue";class o_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new sY(this,"async_queue_retry"),this._c=()=>{let e=sK();e&&tW(oS,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;let t=sK();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let t=sK();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});let t=new t2;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!nx(e))throw e;tW(oS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){let t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,tK("INTERNAL UNHANDLED ERROR: ",ok(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);let r=aS.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&tX(47125,{Pc:ok(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{for(let t of(this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs),this.tc))if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){let t=this.tc.indexOf(e);this.tc.splice(t,1)}}function ok(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function oT(e){if("object"!=typeof e||null===e)return!1;for(let t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}class ox extends og{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new o_,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new o_(e),this._firestoreClient=void 0,await e}}}function oC(e){if(e._terminated)throw new t1(t0.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||function(e){var t,n;let r=e._freezeSettings(),i=(t=e._databaseId,n=e._app?.options.appId||"",new nX(t,n,e._persistenceKey,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,od(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator));e._componentsProvider||r.localCache?._offlineComponentProvider&&r.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),e._firestoreClient=new oa(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(e){let t=e?._online.build();return{_offline:e?._offline.build(t),_online:t}}(e._componentsProvider))}(e),e._firestoreClient}class oI{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oI(nj.fromBase64String(e))}catch(e){throw new t1(t0.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new oI(nj.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:oI._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(nb(e,oI._jsonSchema))return oI.fromBase64String(e.bytes)}}oI._jsonSchemaVersion="firestore/bytes/1.0",oI._jsonSchema={type:nv("string",oI._jsonSchemaVersion),bytes:nv("string")};class oN{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new t1(t0.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nc(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class oA{constructor(e){this._methodName=e}}class oR{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new t1(t0.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new t1(t0.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return nn(this._lat,e._lat)||nn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:oR._jsonSchemaVersion}}static fromJSON(e){if(nb(e,oR._jsonSchema))return new oR(e.latitude,e.longitude)}}oR._jsonSchemaVersion="firestore/geoPoint/1.0",oR._jsonSchema={type:nv("string",oR._jsonSchemaVersion),latitude:nv("number"),longitude:nv("number")};class oP{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:oP._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(nb(e,oP._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new oP(e.vectorValues);throw new t1(t0.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}oP._jsonSchemaVersion="firestore/vectorValue/1.0",oP._jsonSchema={type:nv("string",oP._jsonSchemaVersion),vectorValues:nv("object")};const oO=/^__.*__$/;class oD{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new ig(e,this.data,this.fieldMask,t,this.fieldTransforms):new im(e,this.data,t,this.fieldTransforms)}}class oL{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new ig(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function oM(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tX(40011,{Ac:e})}}class oF{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new oF({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){let t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){let t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return oQ(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(oM(this.Ac)&&oO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class oU{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||sQ(e)}Cc(e,t,n,r=!1){return new oF({Ac:e,methodName:t,Dc:n,path:nc.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oj(e){let t=e._freezeSettings(),n=sQ(e._databaseId);return new oU(e._databaseId,!!t.ignoreUndefinedProperties,n)}function oV(e,t,n,r,i,s={}){let a,o,l=e.Cc(s.merge||s.mergeFields?2:0,t,n,i);oH("Data must be an object, but it was:",l,r);let u=o$(r,l);if(s.merge)a=new nF(l.fieldMask),o=l.fieldTransforms;else if(s.mergeFields){let e=[];for(let r of s.mergeFields){let i=oG(t,r,n);if(!l.contains(i))throw new t1(t0.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);oY(e,i)||e.push(i)}a=new nF(e),o=l.fieldTransforms.filter(e=>a.covers(e.field))}else a=null,o=l.fieldTransforms;return new oD(new rh(u),a,o)}class oz extends oA{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof oz}}function oB(e,t){if(oq(e=eo(e)))return oH("Unsupported field value:",t,e),o$(e,t);if(e instanceof oA)return function(e,t){if(!oM(t.Ac))throw t.Sc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Sc(`${e._methodName}() is not currently supported inside arrays`);let n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");let n=[],r=0;for(let i of e){let e=oB(i,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}return function(e,t){var n,r,i;if(null===(e=eo(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return n=t.serializer,"number"==typeof(i=r=e)&&Number.isInteger(i)&&!nI(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER?r6(r):r4(n,r);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){let n=nw.fromDate(e);return{timestampValue:iG(t.serializer,n)}}if(e instanceof nw){let n=new nw(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:iG(t.serializer,n)}}if(e instanceof oR)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof oI)return{bytesValue:iW(t.serializer,e._byteString)};if(e instanceof ov){let n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:iQ(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof oP)return{mapValue:{fields:{[n0]:{stringValue:n3},[n4]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return r4(t.serializer,e)})}}}}};throw t.Sc(`Unsupported field value: ${ng(e)}`)}(e,t)}function o$(e,t){let n={};return nR(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):nA(e,(e,r)=>{let i=oB(r,t.mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function oq(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof nw||e instanceof oR||e instanceof oI||e instanceof ov||e instanceof oA||e instanceof oP)}function oH(e,t,n){if(!oq(n)||!nm(n)){let r=ng(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function oG(e,t,n){if((t=eo(t))instanceof oN)return t._internalPath;if("string"==typeof t)return oK(e,t);throw oQ("Field path arguments must be of type string or ",e,!1,void 0,n)}const oW=RegExp("[~\\*/\\[\\]]");function oK(e,t,n){if(t.search(oW)>=0)throw oQ(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new oN(...t.split("."))._internalPath}catch(r){throw oQ(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function oQ(e,t,n,r,i){let s=r&&!r.isEmpty(),a=void 0!==i,o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new t1(t0.INVALID_ARGUMENT,o+e+l)}function oY(e,t){return e.some(e=>e.isEqual(t))}class oX{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ov(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){let e=new oJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(oZ("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class oJ extends oX{data(){return super.data()}}function oZ(e,t){return"string"==typeof t?oK(e,t):t instanceof oN?t._internalPath:t._delegate._internalPath}function o0(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new t1(t0.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class o1{}class o2 extends o1{}function o3(e,t,...n){let r=[];for(let i of(t instanceof o1&&r.push(t),function(e){let t=e.filter(e=>e instanceof o6).length,n=e.filter(e=>e instanceof o4).length;if(t>1||t>0&&n>0)throw new t1(t0.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r=r.concat(n)),r))e=i._apply(e);return e}class o4 extends o2{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new o4(e,t,n)}_apply(e){let t=this._parse(e);return o9(e._query,t),new oy(e.firestore,e.converter,rz(e._query,t))}_parse(e){let t=oj(e.firestore);return function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new t1(t0.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){o7(a,s);let t=[];for(let n of a)t.push(o8(r,e,n));o={arrayValue:{values:t}}}else o=o8(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||o7(a,s),o=function(e,t,n,r=!1){return oB(n,e.Cc(r?4:3,t))}(n,t,a,"in"===s||"not-in"===s);return rv.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class o6 extends o1{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new o6(e,t)}_parse(e){let t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:rb.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;for(let e of t.getFlattenedFilters())o9(n,e),n=rz(n,e)}(e._query,t),new oy(e.firestore,e.converter,rz(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class o5 extends o2{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new o5(e,t)}_apply(e){let t=function(e,t,n){if(null!==e.startAt)throw new t1(t0.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new t1(t0.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new rg(t,n)}(e._query,this._field,this._direction);return new oy(e.firestore,e.converter,function(e,t){let n=e.explicitOrderBy.concat([t]);return new rL(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function o8(e,t,n){if("string"==typeof(n=eo(n))){if(""===n)throw new t1(t0.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rU(t)&&-1!==n.indexOf("/"))throw new t1(t0.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=t.path.child(nl.fromString(n));if(!nh.isDocumentKey(r))throw new t1(t0.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rn(e,new nh(r))}if(n instanceof ov)return rn(e,n._key);throw new t1(t0.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ng(n)}.`)}function o7(e,t){if(!Array.isArray(e)||0===e.length)throw new t1(t0.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function o9(e,t){let n=function(e,t){for(let n of e)for(let e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new t1(t0.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new t1(t0.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class le{convertValue(e,t="none"){switch(n6(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nB(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(n$(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw tX(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let n={};return nA(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){return new oP(e.fields?.[n4].arrayValue?.values?.map(e=>nB(e.doubleValue)))}convertGeoPoint(e){return new oR(nB(e.latitude),nB(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":let n=nQ(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(nY(e));default:return null}}convertTimestamp(e){let t=nz(e);return new nw(t.seconds,t.nanos)}convertDocumentKey(e,t){let n=nl.fromString(e);tZ(i5(n),9688,{name:e});let r=new nZ(n.get(1),n.get(3)),i=new nh(n.popFirst(5));return r.isEqual(t)||tK(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function lt(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}class ln{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lr extends oX{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new li(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let n=this._document.data.field(oZ("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new t1(t0.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=lr._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()&&(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),this._firestore,this.ref.path,t.bundle="NOT SUPPORTED"),t}}lr._jsonSchemaVersion="firestore/documentSnapshot/1.0",lr._jsonSchema={type:nv("string",lr._jsonSchemaVersion),bundleSource:nv("string","DocumentSnapshot"),bundleName:nv("string"),bundle:nv("string")};class li extends lr{data(e={}){return super.data(e)}}class ls{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ln(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new li(this._firestore,this._userDataWriter,n.key,n,new ln(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new t1(t0.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{let r=new li(e._firestore,e._userDataWriter,n.doc.key,n.doc,new ln(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{let r=new li(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ln(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(s=(n=n.add(t.doc)).indexOf(t.doc.key)),{type:function(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tX(61501,{type:e})}}(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new t1(t0.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=ls._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=nt.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),this._firestore,this.query._query,e.bundleName,e.bundle="NOT SUPPORTED",e}}function la(e){e=ny(e,ov);let t=ny(e.firestore,ox);return(function(e,t,n={}){let r=new t2;return e.asyncQueue.enqueueAndForget(async()=>(function(e,t,n,r,i){let s=new oi({next:o=>{s.Nu(),t.enqueueAndForget(()=>aR(e,a));let l=o.docs.has(n);!l&&o.fromCache?i.reject(new t1(t0.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new t1(t0.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new aL(rM(n.path),s,{includeMetadataChanges:!0,qa:!0});return aA(e,a)})(await oh(e),e.asyncQueue,t,n,r)),r.promise})(oC(t),e._key).then(n=>lp(t,e,n))}ls._jsonSchemaVersion="firestore/querySnapshot/1.0",ls._jsonSchema={type:nv("string",ls._jsonSchemaVersion),bundleSource:nv("string","QuerySnapshot"),bundleName:nv("string"),bundle:nv("string")};class lo extends le{constructor(e){super(),this.firestore=e}convertBytes(e){return new oI(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new ov(this.firestore,null,t)}}function ll(e){e=ny(e,oy);let t=ny(e.firestore,ox),n=oC(t),r=new lo(t);return o0(e._query),(function(e,t,n={}){let r=new t2;return e.asyncQueue.enqueueAndForget(async()=>(function(e,t,n,r,i){let s=new oi({next:n=>{s.Nu(),t.enqueueAndForget(()=>aR(e,a)),n.fromCache&&"server"===r.source?i.reject(new t1(t0.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new aL(n,s,{includeMetadataChanges:!0,qa:!0});return aA(e,a)})(await oh(e),e.asyncQueue,t,n,r)),r.promise})(n,e._query).then(n=>new ls(t,r,e,n))}function lu(e,t,n,...r){e=ny(e,ov);let i=ny(e.firestore,ox),s=oj(i);return lf(i,[("string"==typeof(t=eo(t))||t instanceof oN?function(e,t,n,r,i,s){let a=e.Cc(1,t,n),o=[oG(t,r,n)],l=[i];if(s.length%2!=0)throw new t1(t0.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<s.length;e+=2)o.push(oG(t,s[e])),l.push(s[e+1]);let u=[],c=rh.empty();for(let e=o.length-1;e>=0;--e)if(!oY(u,o[e])){let t=o[e],n=l[e];n=eo(n);let r=a.yc(t);if(n instanceof oz)u.push(t);else{let e=oB(n,r);null!=e&&(u.push(t),c.set(t,e))}}return new oL(c,new nF(u),a.fieldTransforms)}(s,"updateDoc",e._key,t,n,r):function(e,t,n,r){let i=e.Cc(1,t,n);oH("Data must be an object, but it was:",i,r);let s=[],a=rh.empty();return nA(r,(e,r)=>{let o=oK(t,e,n);r=eo(r);let l=i.yc(o);if(r instanceof oz)s.push(o);else{let e=oB(r,l);null!=e&&(s.push(o),a.set(o,e))}}),new oL(a,new nF(s),i.fieldTransforms)}(s,"updateDoc",e._key,t)).toMutation(e._key,il.exists(!0))])}function lc(e){return lf(ny(e.firestore,ox),[new iw(e._key,il.none())])}function lh(e,t){let n=ny(e.firestore,ox),r=oE(e),i=lt(e.converter,t);return lf(n,[oV(oj(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,il.exists(!1))]).then(()=>r)}function ld(e,...t){let n,r,i;e=eo(e);let s={includeMetadataChanges:!1,source:"default"},a=0;"object"!=typeof t[0]||oT(t[a])||(s=t[a++]);let o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(oT(t[a])){let e=t[a];t[a]=e.next?.bind(e),t[a+1]=e.error?.bind(e),t[a+2]=e.complete?.bind(e)}if(e instanceof ov)r=ny(e.firestore,ox),i=rM(e._key.path),n={next:n=>{t[a]&&t[a](lp(r,e,n))},error:t[a+1],complete:t[a+2]};else{let s=ny(e,oy);r=ny(s.firestore,ox),i=s._query;let o=new lo(r);n={next:e=>{t[a]&&t[a](new ls(r,o,s,e))},error:t[a+1],complete:t[a+2]},o0(e._query)}var l=oC(r),u=i;let c=new oi(n),h=new aL(u,c,o);return l.asyncQueue.enqueueAndForget(async()=>aA(await oh(l),h)),()=>{c.Nu(),l.asyncQueue.enqueueAndForget(async()=>aR(await oh(l),h))}}function lf(e,t){var n=oC(e);let r=new t2;return n.asyncQueue.enqueueAndForget(async()=>aQ(await oc(n).then(e=>e.syncEngine),t,r)),r.promise}function lp(e,t,n){let r=n.docs.get(t._key),i=new lo(e);return new lr(e,i,t._key,r,new ln(n.hasPendingWrites,n.fromCache),t.converter)}function lm(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}new WeakMap,function(e=!0){tq=eH,eV(new el("firestore",(t,{instanceIdentifier:n,options:r})=>{let i=t.getProvider("app").getImmediate(),s=new ox(new t5(t.getProvider("auth-internal")),new ne(i,t.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new t1(t0.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nZ(e.options.projectId,t)}(i,n),i);return r={useFetchStreams:e,...r},s._setSettings(r),s},"PUBLIC").setMultipleInstances(!0)),eK(tz,tB,void 0),eK(tz,tB,"esm2020")}();const lg=new J("auth","Firebase",lm()),ly=new ey("@firebase/auth");function lv(e,...t){ly.logLevel<=o.ERROR&&ly.error(`Auth (${eH}): ${e}`,...t)}function lb(e,...t){throw l_(e,...t)}function lw(e,...t){return l_(e,...t)}function lE(e,t,n){return new J("auth","Firebase",{...lm(),[t]:n}).create(t,{appName:e.name})}function lS(e){return lE(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function l_(e,...t){if("string"!=typeof e){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return lg.create(e,...t)}function lk(e,t,...n){if(!e)throw l_(t,...n)}function lT(e){let t="INTERNAL ASSERTION FAILED: "+e;throw lv(t),Error(t)}function lx(){return"undefined"!=typeof self&&self.location?.href||""}function lC(){return"undefined"!=typeof self&&self.location?.protocol||null}class lI{constructor(e,t){var n;this.shortDelay=e,this.longDelay=t,n="Short delay should be less than long delay!",t>e||lT(n),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Y())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===lC()||"https:"===lC()||function(){let e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function lN(e,t){var n,r;n=e.emulator,r="Emulator should always be set here",n||lT(r);let{url:i}=e.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class lA{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void lT("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void lT("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void lT("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const lR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},lP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],lO=new lI(3e4,6e4);function lD(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function lL(e,t,n,r,i={}){return lM(e,i,async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});let a=en({key:e.config.apiKey,...s}).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);let l={method:t,headers:o,...i};return("undefined"==typeof navigator||"Cloudflare-Workers"!==navigator.userAgent)&&(l.referrerPolicy="no-referrer"),e.emulatorConfig&&H(e.emulatorConfig.host)&&(l.credentials="include"),lA.fetch()(await lU(e,e.config.apiHost,n,a),l)})}async function lM(e,t,n){e._canInitEmulator=!1;let r={...lR,...t};try{let t=new lj(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();let s=await i.json();if("needConfirmation"in s)throw lV(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{let[t,n]=(i.ok?s.errorMessage:s.error.message).split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===t)throw lV(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===t)throw lV(e,"email-already-in-use",s);if("USER_DISABLED"===t)throw lV(e,"user-disabled",s);let a=r[t]||t.toLowerCase().replace(/[_\s]+/g,"-");if(n)throw lE(e,a,n);lb(e,a)}}catch(t){if(t instanceof X)throw t;lb(e,"network-request-failed",{message:String(t)})}}async function lF(e,t,n,r,i={}){let s=await lL(e,t,n,r,i);return"mfaPendingCredential"in s&&lb(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function lU(e,t,n,r){let i=`${t}${n}?${r}`,s=e.config.emulator?lN(e.config,i):`${e.config.apiScheme}://${i}`;return lP.includes(n)&&(await e._persistenceManagerAvailable,"COOKIE"===e._getPersistenceType())?e._getPersistence()._getFinalTarget(s).toString():s}class lj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(lw(this.auth,"network-request-failed")),lO.get())})}}function lV(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=lw(e,t,r);return i.customData._tokenResponse=n,i}function lz(e){return void 0!==e&&void 0!==e.enterprise}class lB{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)switch(t.enforcementState){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function l$(e,t){return lL(e,"GET","/v2/recaptchaConfig",lD(e,t))}async function lq(e,t){return lL(e,"POST","/v1/accounts:delete",t)}async function lH(e,t){return lL(e,"POST","/v1/accounts:lookup",t)}function lG(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}async function lW(e,t=!1){let n=eo(e),r=await n.getIdToken(t),i=lQ(r);lk(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s="object"==typeof i.firebase?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:r,authTime:lG(lK(i.auth_time)),issuedAtTime:lG(lK(i.iat)),expirationTime:lG(lK(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}}function lK(e){return 1e3*Number(e)}function lQ(e){let[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return lv("JWT malformed, contained fewer than 3 sections"),null;try{let e=j(n);if(!e)return lv("Failed to decode base64 JWT payload"),null;return JSON.parse(e)}catch(e){return lv("Caught error parsing JWT payload as JSON",e?.toString()),null}}function lY(e){let t=lQ(e);return lk(t,"internal-error"),lk(void 0!==t.exp,"internal-error"),lk(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function lX(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof X&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class lJ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(!e)return this.errorBackoff=3e4,Math.max(0,(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5);{let e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class lZ{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=lG(this.lastLoginAt),this.creationTime=lG(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function l0(e){var t,n;let r=e.auth,i=await e.getIdToken(),s=await lX(e,lH(r,{idToken:i}));lk(s?.users.length,r,"internal-error");let a=s.users[0];e._notifyReloadListener(a);let o=a.providerUserInfo?.length?l2(a.providerUserInfo):[],l=(t=e.providerData,n=o,[...t.filter(e=>!n.some(t=>t.providerId===e.providerId)),...n]),u=e.isAnonymous,c=!(e.email&&a.passwordHash)&&!l?.length;Object.assign(e,{uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new lZ(a.createdAt,a.lastLoginAt),isAnonymous:!!u&&c})}async function l1(e){let t=eo(e);await l0(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function l2(e){return e.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function l3(e,t){let n=await lM(e,{},async()=>{let n=en({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=await lU(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let o={method:"POST",headers:a,body:n};return e.emulatorConfig&&H(e.emulatorConfig.host)&&(o.credentials="include"),lA.fetch()(s,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function l4(e,t){return lL(e,"POST","/v2/accounts:revokeToken",lD(e,t))}class l6{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){lk(e.idToken,"internal-error"),lk(void 0!==e.idToken,"internal-error"),lk(void 0!==e.refreshToken,"internal-error");let t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):lY(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){lk(0!==e.length,"internal-error");let t=lY(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(lk(this.refreshToken,e,"user-token-expired"),this.refreshToken)?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:n,refreshToken:r,expiresIn:i}=await l3(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){let{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new l6;return n&&(lk("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(lk("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(lk("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new l6,this.toJSON())}_performRefresh(){return lT("not implemented")}}function l5(e,t){lk("string"==typeof e||void 0===e,"internal-error",{appName:t})}class l8{constructor({uid:e,auth:t,stsTokenManager:n,...r}){this.providerId="firebase",this.proactiveRefresh=new lJ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new lZ(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){let t=await lX(this,this.stsTokenManager.getToken(this.auth,e));return lk(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return lW(this,e)}reload(){return l1(this)}_assign(e){this!==e&&(lk(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>({...e})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new l8({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){lk(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await l0(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(eB(this.auth.app))return Promise.reject(lS(this.auth));let e=await this.getIdToken();return await lX(this,lq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){let n=t.displayName??void 0,r=t.email??void 0,i=t.phoneNumber??void 0,s=t.photoURL??void 0,a=t.tenantId??void 0,o=t._redirectEventId??void 0,l=t.createdAt??void 0,u=t.lastLoginAt??void 0,{uid:c,emailVerified:h,isAnonymous:d,providerData:f,stsTokenManager:p}=t;lk(c&&p,e,"internal-error");let m=l6.fromJSON(this.name,p);lk("string"==typeof c,e,"internal-error"),l5(n,e.name),l5(r,e.name),lk("boolean"==typeof h,e,"internal-error"),lk("boolean"==typeof d,e,"internal-error"),l5(i,e.name),l5(s,e.name),l5(a,e.name),l5(o,e.name),l5(l,e.name),l5(u,e.name);let g=new l8({uid:c,auth:e,email:r,emailVerified:h,displayName:n,isAnonymous:d,photoURL:s,phoneNumber:i,tenantId:a,stsTokenManager:m,createdAt:l,lastLoginAt:u});return f&&Array.isArray(f)&&(g.providerData=f.map(e=>({...e}))),o&&(g._redirectEventId=o),g}static async _fromIdTokenResponse(e,t,n=!1){let r=new l6;r.updateFromServerResponse(t);let i=new l8({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await l0(i),i}static async _fromGetAccountInfoResponse(e,t,n){let r=t.users[0];lk(void 0!==r.localId,"internal-error");let i=void 0!==r.providerUserInfo?l2(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!i?.length,a=new l6;a.updateFromIdToken(n);let o=new l8({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s});return Object.assign(o,{uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new lZ(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!i?.length}),o}}const l7=new Map;function l9(e){var t,n;t="Expected a class definition",e instanceof Function||lT(t);let r=l7.get(e);return r?(n="Instance stored in cache mismatched with class",r instanceof e||lT(n)):(r=new e,l7.set(e,r)),r}class ue{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}function ut(e,t,n){return`firebase:${e}:${t}:${n}`}ue.type="NONE";class un{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;let{config:r,name:i}=this.auth;this.fullUserKey=ut(this.userKey,r.apiKey,i),this.fullPersistenceKey=ut("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"==typeof e){let t=await lH(this.auth,{idToken:e}).catch(()=>void 0);return t?l8._fromGetAccountInfoResponse(this.auth,t,e):null}return l8._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new un(l9(ue),e,n);let r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),i=r[0]||l9(ue),s=ut(n,e.config.apiKey,e.name),a=null;for(let n of t)try{let t=await n._get(s);if(t){let r;if("string"==typeof t){let n=await lH(e,{idToken:t}).catch(()=>void 0);if(!n)break;r=await l8._fromGetAccountInfoResponse(e,n,t)}else r=l8._fromJSON(e,t);n!==i&&(a=r),i=n;break}}catch{}let o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length&&(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch{}}))),new un(i,e,n)}}function ur(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";{if(uo(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ui(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(uu(t))return"Blackberry";if(uc(t))return"Webos";if(us(t))return"Safari";if((t.includes("chrome/")||ua(t))&&!t.includes("edge/"))return"Chrome";if(ul(t))return"Android";let n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(n?.length===2)return n[1]}return"Other"}function ui(e=Y()){return/firefox\//i.test(e)}function us(e=Y()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ua(e=Y()){return/crios\//i.test(e)}function uo(e=Y()){return/iemobile/i.test(e)}function ul(e=Y()){return/android/i.test(e)}function uu(e=Y()){return/blackberry/i.test(e)}function uc(e=Y()){return/webos/i.test(e)}function uh(e=Y()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ud(e=Y()){return uh(e)||ul(e)||uc(e)||uu(e)||/windows phone/i.test(e)||uo(e)}function uf(e,t=[]){let n;switch(e){case"Browser":n=ur(Y());break;case"Worker":n=`${ur(Y())}-${e}`;break;default:n=e}let r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${eH}/${r}`}class up{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let n=t=>new Promise((n,r)=>{try{let r=e(t);n(r)}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){for(let e of(t.reverse(),t))try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:e?.message})}}}async function um(e,t={}){return lL(e,"GET","/v2/passwordPolicy",lD(e,t))}class ug{constructor(e){let t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??6,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),void 0!==t.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),void 0!==t.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),void 0!==t.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),void 0!==t.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class uy{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uv(this),this.idTokenSubscription=new uv(this),this.beforeStateQueue=new up(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lg,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=l9(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted){if(this.persistenceManager=await un.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,this._deleted||(this._isInitialized=!0)}}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(this.currentUser||e){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await lH(this,{idToken:e}),n=await l8._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(eB(this.app)){let e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}let t=await this.assertedPersistence.getCurrentUser(),n=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let t=this.redirectUser?._redirectEventId,i=n?._redirectEventId,s=await this.tryRedirectSignIn(e);(!t||t===i)&&s?.user&&(n=s.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(e){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return(lk(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId)?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await l0(e)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(eB(this.app))return Promise.reject(lS(this));let t=e?eo(e):null;return t&&lk(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&lk(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return eB(this.app)?Promise.reject(lS(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return eB(this.app)?Promise.reject(lS(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(l9(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=new ug(await um(this));null===this.tenantId?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new J("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await l4(this,t)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){let n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&l9(e)||this._popupRedirectResolver;lk(t,this,"argument-error"),this.redirectPersistenceManager=await un.create(this,[l9(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return(this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e)?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};let i="function"==typeof t?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(lk(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),"function"==typeof t){let i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{let n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return lk(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uf(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);let n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(eB(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&function(e,...t){ly.logLevel<=o.WARN&&ly.warn(`Auth (${eH}): ${e}`,...t)}(`Error while retrieving App Check token: ${e.error}`),e?.token}}class uv{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){let n=new es(e,void 0);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return lk(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ub={async loadJS(){throw Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uw(e){return`__${e}${Math.floor(1e6*Math.random())}`}class uE{constructor(){this.enterprise=new uS}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class uS{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const u_="NO_RECAPTCHA";class uk{constructor(e){this.type="recaptcha-enterprise",this.auth=eo(e)}async verify(e="verify",t=!1){async function n(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{l$(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0===r.recaptchaKey)n(Error("recaptcha Enterprise site key undefined"));else{let n=new lB(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}}).catch(e=>{n(e)})})}function r(t,n,r){let i=window.grecaptcha;lz(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(u_)})}):r(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new uE().execute("siteKey",{action:"verify"}):new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&lz(window.grecaptcha))r(n,e,i);else{var s;if("undefined"==typeof window)return void i(Error("RecaptchaVerifier is only supported in browser"));let t=ub.recaptchaEnterpriseScript;0!==t.length&&(t+=n),(s=t,ub.loadJS(s)).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}}async function uT(e,t,n,r=!1,i=!1){let s,a=new uk(e);if(i)s=u_;else try{s=await a.verify(n)}catch(e){s=await a.verify(n,!0)}let o={...t};if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){let e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){let e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function ux(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i)if(!e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER"))return r(e,t).catch(async i=>{if("auth/missing-recaptcha-token"!==i.code)return Promise.reject(i);{console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let i=await uT(e,t,n,"getOobCode"===n);return r(e,i)}});else{let i=await uT(e,t,n,"getOobCode"===n);return r(e,i)}if("PHONE_PROVIDER"!==i)return Promise.reject(i+" provider is not supported.");if(e._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){let i=await uT(e,t,n);return r(e,i).catch(async i=>{if(e._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let i=await uT(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{let i=await uT(e,t,n,!1,!0);return r(e,i)}}async function uC(e){let t=eo(e),n=new lB(await l$(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}));null==t.tenantId?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,n.isAnyProviderEnabled()&&new uk(t).verify()}function uI(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function uN(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}class uA{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return lT("not implemented")}_getIdTokenResponse(e){return lT("not implemented")}_linkToIdToken(e,t){return lT("not implemented")}_getReauthenticationResolver(e){return lT("not implemented")}}async function uR(e,t){return lL(e,"POST","/v1/accounts:signUp",t)}async function uP(e,t){return lF(e,"POST","/v1/accounts:signInWithPassword",lD(e,t))}async function uO(e,t){return lF(e,"POST","/v1/accounts:signInWithEmailLink",lD(e,t))}async function uD(e,t){return lF(e,"POST","/v1/accounts:signInWithEmailLink",lD(e,t))}class uL extends uA{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new uL(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new uL(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);else if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return ux(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",uP,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return uO(e,{email:this._email,oobCode:this._password});default:lb(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ux(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uR,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return uD(e,{idToken:t,email:this._email,oobCode:this._password});default:lb(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function uM(e,t){return lF(e,"POST","/v1/accounts:signInWithIdp",lD(e,t))}class uF extends uA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new uF(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):lb("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let{providerId:t,signInMethod:n,...r}="string"==typeof e?JSON.parse(e):e;if(!t||!n)return null;let i=new uF(t,n);return i.idToken=r.idToken||void 0,i.accessToken=r.accessToken||void 0,i.secret=r.secret,i.nonce=r.nonce,i.pendingToken=r.pendingToken||null,i}_getIdTokenResponse(e){return uM(e,this.buildRequest())}_linkToIdToken(e,t){let n=this.buildRequest();return n.idToken=t,uM(e,n)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,uM(e,t)}buildRequest(){let e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=en(t)}return e}}async function uU(e,t){return lL(e,"POST","/v1/accounts:sendVerificationCode",lD(e,t))}async function uj(e,t){return lF(e,"POST","/v1/accounts:signInWithPhoneNumber",lD(e,t))}async function uV(e,t){let n=await lF(e,"POST","/v1/accounts:signInWithPhoneNumber",lD(e,t));if(n.temporaryProof)throw lV(e,"account-exists-with-different-credential",n);return n}const uz={USER_NOT_FOUND:"user-not-found"};async function uB(e,t){return lF(e,"POST","/v1/accounts:signInWithPhoneNumber",lD(e,{...t,operation:"REAUTH"}),uz)}class u$ extends uA{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new u$({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new u$({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return uj(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return uV(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return uB(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));let{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new u$({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class uq{constructor(e){let t=er(ei(e)),n=t.apiKey??null,r=t.oobCode??null,i=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(t.mode??null);lk(n&&r&&i,"argument-error"),this.apiKey=n,this.operation=i,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){let t=function(e){let t=er(ei(e)).link,n=t?er(ei(t)).deep_link_id:null,r=er(ei(e)).deep_link_id;return(r?er(ei(r)).link:null)||r||n||t||e}(e);try{return new uq(t)}catch{return null}}}class uH{constructor(){this.providerId=uH.PROVIDER_ID}static credential(e,t){return uL._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let n=uq.parseLink(t);return lk(n,"argument-error"),uL._fromEmailAndCode(e,n.code,n.tenantId)}}uH.PROVIDER_ID="password",uH.EMAIL_PASSWORD_SIGN_IN_METHOD="password",uH.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class uG{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class uW extends uG{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class uK extends uW{constructor(){super("facebook.com")}static credential(e){return uF._fromParams({providerId:uK.PROVIDER_ID,signInMethod:uK.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return uK.credentialFromTaggedObject(e)}static credentialFromError(e){return uK.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return uK.credential(e.oauthAccessToken)}catch{return null}}}uK.FACEBOOK_SIGN_IN_METHOD="facebook.com",uK.PROVIDER_ID="facebook.com";class uQ extends uW{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return uF._fromParams({providerId:uQ.PROVIDER_ID,signInMethod:uQ.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return uQ.credentialFromTaggedObject(e)}static credentialFromError(e){return uQ.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return uQ.credential(t,n)}catch{return null}}}uQ.GOOGLE_SIGN_IN_METHOD="google.com",uQ.PROVIDER_ID="google.com";class uY extends uW{constructor(){super("github.com")}static credential(e){return uF._fromParams({providerId:uY.PROVIDER_ID,signInMethod:uY.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return uY.credentialFromTaggedObject(e)}static credentialFromError(e){return uY.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return uY.credential(e.oauthAccessToken)}catch{return null}}}uY.GITHUB_SIGN_IN_METHOD="github.com",uY.PROVIDER_ID="github.com";class uX extends uW{constructor(){super("twitter.com")}static credential(e,t){return uF._fromParams({providerId:uX.PROVIDER_ID,signInMethod:uX.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return uX.credentialFromTaggedObject(e)}static credentialFromError(e){return uX.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return uX.credential(t,n)}catch{return null}}}uX.TWITTER_SIGN_IN_METHOD="twitter.com",uX.PROVIDER_ID="twitter.com";class uJ{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){return new uJ({user:await l8._fromIdTokenResponse(e,n,r),providerId:uZ(n),_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){return await e._updateTokensIfNecessary(n,!0),new uJ({user:e,providerId:uZ(n),_tokenResponse:n,operationType:t})}}function uZ(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class u0 extends X{constructor(e,t,n,r){super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,u0.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new u0(e,t,n,r)}}function u1(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw u0._fromErrorAndOperation(e,n,t,r);throw n})}async function u2(e,t,n=!1){let r=await lX(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return uJ._forOperation(e,"link",r)}async function u3(e,t,n=!1){let{auth:r}=e;if(eB(r.app))return Promise.reject(lS(r));let i="reauthenticate";try{let s=await lX(e,u1(r,i,t,e),n);lk(s.idToken,r,"internal-error");let a=lQ(s.idToken);lk(a,r,"internal-error");let{sub:o}=a;return lk(e.uid===o,r,"user-mismatch"),uJ._forOperation(e,i,s)}catch(e){throw e?.code==="auth/user-not-found"&&lb(r,"user-mismatch"),e}}async function u4(e,t,n=!1){if(eB(e.app))return Promise.reject(lS(e));let r="signIn",i=await u1(e,r,t),s=await uJ._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}function u6(e){return eo(e).signOut()}function u5(e,t){return lL(e,"POST","/v2/accounts/mfaEnrollment:start",lD(e,t))}new WeakMap;const u8="__sak";class u7{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{if(!this.storage)return Promise.resolve(!1);return this.storage.setItem(u8,"1"),this.storage.removeItem(u8),Promise.resolve(!0)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class u9 extends u7{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ud(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});let n=e.key;t?this.detachListener():this.stopPolling();let r=()=>{let e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(function(){let e=Y();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0})()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}u9.type="LOCAL";class ce extends u7{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ce.type="SESSION";class ct{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;let n=new ct(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let{eventId:t,eventType:n,data:r}=e.data,i=this.handlersMap[n];if(!i?.size)return;e.ports[0].postMessage({status:"ack",eventId:t,eventType:n});let s=Array.from(i).map(async t=>t(e.origin,r)),a=await Promise.all(s.map(async e=>{try{let t=await e;return{fulfilled:!0,value:t}}catch(e){return{fulfilled:!1,reason:e}}}));e.ports[0].postMessage({status:"done",eventId:t,eventType:n,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function cn(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}ct.receivers=[];class cr{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){let r,i,s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw Error("connection_unavailable");return new Promise((a,o)=>{let l=cn("",20);s.port1.start();let u=setTimeout(()=>{o(Error("unsupported_event"))},n);i={messageChannel:s,onMessage(e){if(e.data.eventId===l)switch(e.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{o(Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(e.data.response);break;default:clearTimeout(u),clearTimeout(r),o(Error("invalid_response"))}}},this.handlers.add(i),s.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[s.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function ci(){return window}function cs(){return void 0!==ci().WorkerGlobalScope&&"function"==typeof ci().importScripts}async function ca(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}const co="firebaseLocalStorageDb",cl="firebaseLocalStorage",cu="fbase_key";class cc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ch(e,t){return e.transaction([cl],t?"readwrite":"readonly").objectStore(cl)}function cd(){let e=indexedDB.open(co,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{let t=e.result;try{t.createObjectStore(cl,{keyPath:cu})}catch(e){n(e)}}),e.addEventListener("success",async()=>{let n=e.result;n.objectStoreNames.contains(cl)?t(n):(n.close(),await new cc(indexedDB.deleteDatabase(co)).toPromise(),t(await cd()))})})}async function cf(e,t,n){return new cc(ch(e,!0).put({[cu]:t,value:n})).toPromise()}async function cp(e,t){let n=ch(e,!1).get(t),r=await new cc(n).toPromise();return void 0===r?null:r.value}function cm(e,t){return new cc(ch(e,!0).delete(t)).toPromise()}class cg{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await cd()),this.db}async _withRetries(e){let t=0;for(;;)try{let t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cs()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ct._getInstance(cs()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ca(),!this.activeServiceWorker)return;this.sender=new cr(this.activeServiceWorker);let e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&(navigator?.serviceWorker?.controller||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await cd();return await cf(e,u8,"1"),await cm(e,u8),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>cf(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(t=>cp(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>cm(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>new cc(ch(e,!1).getAll()).toPromise());if(!e||0!==this.pendingWrites)return[];let t=[],n=new Set;if(0!==e.length)for(let{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(let e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}function cy(e,t){return lL(e,"POST","/v2/accounts/mfaSignIn:start",lD(e,t))}cg.type="LOCAL",uw("rcb"),new lI(3e4,6e4);const cv="recaptcha";async function cb(e,t,n){if(!e._getRecaptchaConfig())try{await uC(e)}catch(e){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(r="string"==typeof t?{phoneNumber:t}:t,"session"in r){let t=r.session;if("phoneNumber"in r){lk("enroll"===t.type,e,"internal-error");let i={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===u_){lk(n?.type===cv,e,"argument-error");let r=await cw(e,t,n);return u5(e,r)}return u5(e,t)},a=ux(e,i,"mfaSmsEnrollment",s,"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{lk("signin"===t.type,e,"internal-error");let i=r.multiFactorHint?.uid||r.multiFactorUid;lk(i,e,"missing-multi-factor-info");let s={mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===u_){lk(n?.type===cv,e,"argument-error");let r=await cw(e,t,n);return cy(e,r)}return cy(e,t)},o=ux(e,s,"mfaSmsSignIn",a,"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{let t={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"},i=async(e,t)=>{if(t.captchaResponse===u_){lk(n?.type===cv,e,"argument-error");let r=await cw(e,t,n);return uU(e,r)}return uU(e,t)},s=ux(e,t,"sendVerificationCode",i,"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).sessionInfo}}finally{n?._reset()}}async function cw(e,t,n){lk(n.type===cv,e,"argument-error");let r=await n.verify();lk("string"==typeof r,e,"argument-error");let i={...t};if("phoneEnrollmentInfo"in i){let e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if(!("phoneSignInInfo"in i))return Object.assign(i,{recaptchaToken:r}),i;{let e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}}class cE{constructor(e){this.providerId=cE.PROVIDER_ID,this.auth=eo(e)}verifyPhoneNumber(e,t){return cb(this.auth,e,eo(t))}static credential(e,t){return u$._fromVerification(e,t)}static credentialFromResult(e){return cE.credentialFromTaggedObject(e)}static credentialFromError(e){return cE.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:n}=e;return t&&n?u$._fromTokenResponse(t,n):null}}function cS(e,t){return t?l9(t):(lk(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}cE.PROVIDER_ID="phone",cE.PHONE_SIGN_IN_METHOD="phone";class c_ extends uA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uM(e,this._buildIdpRequest())}_linkToIdToken(e,t){return uM(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return uM(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ck(e){return u4(e.auth,new c_(e),e.bypassAuthState)}function cT(e){let{auth:t,user:n}=e;return lk(n,t,"internal-error"),u3(n,new c_(e),e.bypassAuthState)}async function cx(e){let{auth:t,user:n}=e;return lk(n,t,"internal-error"),u2(n,new c_(e),e.bypassAuthState)}class cC{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);let o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ck;case"linkViaPopup":case"linkViaRedirect":return cx;case"reauthViaPopup":case"reauthViaRedirect":return cT;default:lb(this.auth,"internal-error")}}resolve(e){var t,n;t=this.pendingPromise,n="Pending promise was never set",t||lT(n),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){var t,n;t=this.pendingPromise,n="Pending promise was never set",t||lT(n),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cI=new lI(2e3,1e4);async function cN(e,t,n){if(eB(e.app))return Promise.reject(lw(e,"operation-not-supported-in-this-environment"));let r=eo(e);if(!(t instanceof uG))throw uG.name!==t.constructor.name&&lb(e,"argument-error"),lE(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`);let i=cS(r,n);return new cA(r,"signInViaPopup",t,i).executeNotNull()}class cA extends cC{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,cA.currentPopupAction&&cA.currentPopupAction.cancel(),cA.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return lk(e,this.auth,"internal-error"),e}async onExecution(){var e,t;e=1===this.filter.length,t="Popup operations only handle one event",e||lT(t);let n=cn();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(lw(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(lw(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cA.currentPopupAction=null}pollUserCancellation(){let e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lw(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cI.get())};e()}}cA.currentPopupAction=null;const cR=new Map;class cP extends cC{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=cR.get(this.auth._key());if(!e){try{let t=await cO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}cR.set(this.auth._key(),e)}return this.bypassAuthState||cR.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"===e.type)return void this.resolve(null);if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cO(e,t){var n;let r=ut("pendingRedirect",(n=t).config.apiKey,n.name),i=l9(e._redirectPersistence);if(!await i._isAvailable())return!1;let s=await i._get(r)==="true";return await i._remove(r),s}function cD(e,t){cR.set(e._key(),t)}async function cL(e,t,n=!1){if(eB(e.app))return Promise.reject(lS(e));let r=eo(e),i=cS(r,t),s=new cP(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class cM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cU(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!cU(e)){let n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(lw(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(cF(e))}saveEventToCache(e){this.cachedEventUids.add(cF(e)),this.lastProcessedEventTime=Date.now()}}function cF(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function cU({type:e,error:t}){return"unknown"===e&&t?.code==="auth/no-auth-event"}async function cj(e,t={}){return lL(e,"GET","/v1/projects",t)}const cV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cz=/^https?/;async function cB(e){if(e.config.emulator)return;let{authorizedDomains:t}=await cj(e);for(let e of t)try{if(function(e){let t=lx(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){let i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!cz.test(n))return!1;if(cV.test(e))return r===e;let i=e.replace(/\./g,"\\.");return RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}(e))return}catch{}lb(e,"unauthorized-domain")}const c$=new lI(3e4,6e4);function cq(){let e=ci().___jsl;if(e?.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}}let cH=null;const cG=new lI(5e3,15e3),cW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);async function cQ(e){let t=await (cH=cH||new Promise((t,n)=>{function r(){cq(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{cq(),n(lw(e,"network-request-failed"))},timeout:c$.get()})}if(ci().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ci().gapi?.load)r();else{var i;let t=uw("iframefcb");return ci()[t]=()=>{gapi.load?r():n(lw(e,"network-request-failed"))},(i=`${ub.gapiScript}?onload=${t}`,ub.loadJS(i)).catch(e=>n(e))}}).catch(e=>{throw cH=null,e})),n=ci().gapi;return lk(n,e,"internal-error"),t.open({where:document.body,url:function(e){let t=e.config;lk(t.authDomain,e,"auth-domain-config-required");let n=t.emulator?lN(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:eH},i=cK.get(e.config.apiHost);i&&(r.eid=i);let s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${en(r).slice(1)}`}(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cW,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});let i=lw(e,"network-request-failed"),s=ci().setTimeout(()=>{r(i)},cG.get());function a(){ci().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}const cY={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class cX{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}const cJ=encodeURIComponent("fac");async function cZ(e,t,n,r,i,s){lk(e.config.authDomain,e,"auth-domain-config-required"),lk(e.config.apiKey,e,"invalid-api-key");let a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:eH,eventId:i};if(t instanceof uG)for(let[n,r]of(t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",!function(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())&&(a.customParameters=JSON.stringify(t.getCustomParameters())),Object.entries(s||{})))a[n]=r;if(t instanceof uW){let e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}for(let t of(e.tenantId&&(a.tid=e.tenantId),Object.keys(a)))void 0===a[t]&&delete a[t];let o=await e._getAppCheckToken(),l=o?`#${cJ}=${encodeURIComponent(o)}`:"";return`${function({config:e}){return e.emulator?lN(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${en(a).slice(1)}${l}`}const c0="webStorageSupport",c1=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ce,this._completeRedirectFn=cL,this._overrideRedirectResult=cD}async _openPopup(e,t,n,r){var i,s;i=this.eventManagers[e._key()]?.manager,s="_initialize() not called before _openPopup()",i||lT(s);let a=await cZ(e,t,n,lx(),r);return function(e,t,n,r=500,i=600){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString(),o="",l={...cY,width:r.toString(),height:i.toString(),top:s,left:a},u=Y().toLowerCase();n&&(o=ua(u)?"_blank":n),ui(u)&&(t=t||"http://localhost",l.scrollbars="yes");let c=Object.entries(l).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=Y()){return uh(e)&&!!window.navigator?.standalone}(u)&&"_self"!==o)return function(e,t){let n=document.createElement("a");n.href=e,n.target=t;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new cX(null);let h=window.open(t||"",o,c);lk(h,e,"popup-blocked");try{h.focus()}catch(e){}return new cX(h)}(e,a,cn())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=await cZ(e,t,n,lx(),r),ci().location.href=i,new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){var n;let{manager:e,promise:r}=this.eventManagers[t];return e?Promise.resolve(e):(n="If manager is not set, promise should be",r||lT(n),r)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await cQ(e),n=new cM(e);return t.register("authEvent",t=>(lk(t?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(c0,{type:c0},n=>{let r=n?.[0]?.[c0];void 0!==r&&t(!!r),lb(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=cB(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ud()||us()||uh()}};var c2="@firebase/auth",c3="1.11.0";class c4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return(this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser)?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e(t?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){lk(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const c6=$("authIdTokenMaxAge")||300;let c5=null;ub={loadJS:e=>new Promise((t,n)=>{let r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{let t=lw("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(document.getElementsByTagName("head")?.[0]??document).appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},a="Browser",eV(new el("auth",(e,{options:t})=>{let n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;lk(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});let l=new uy(n,r,i,{apiKey:s,authDomain:o,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uf(a)}),u=t?.persistence||[],c=(Array.isArray(u)?u:[u]).map(l9);return t?.errorMap&&l._updateErrorMap(t.errorMap),l._initializeWithPersistence(c,t?.popupRedirectResolver),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),eV(new el("auth-internal",e=>new c4(eo(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),eK(c2,c3,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(a)),eK(c2,c3,"esm2020");const c8={apiKey:"AIzaSyDV-Mh1URUCTsnii3Q-AnJpkQGupk7ylc0",authDomain:"akagamestudio-2683c.firebaseapp.com",projectId:"akagamestudio-2683c",storageBucket:"akagamestudio-2683c.firebasestorage.app",messagingSenderId:"448840278625",appId:"1:448840278625:web:1744317a62c6709e7d4020",measurementId:"G-3GFF17JXL8"},c7=()=>(0,A.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mr-2 inline-block text-yellow-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,A.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 11l3-3m0 0l3 3m-3-3v8m0-13a9 9 0 110 18 9 9 0 010-18z"}),(0,A.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20l4-4m0 0l-4-4m4 4H3"})]}),c9=()=>(0,A.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,A.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21v-4a6 6 0 00-12 0v4"})}),he=()=>(0,A.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,A.jsx)("path",{fillRule:"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 001 1h3v-2H5V5h1v11h2v-2.293l6-6V5a1 1 0 00-1-1H4a1 1 0 00-1-1zm7.707 5.293a1 1 0 010 1.414l-3 3a1 1 0 01-1.414-1.414l3-3a1 1 0 011.414 0z",clipRule:"evenodd"})}),ht=()=>(0,A.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,A.jsx)("path",{fillRule:"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 102 0V5a1 1 0 011-1h4a1 1 0 100-2H4a1 1 0 00-1 1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z",clipRule:"evenodd"})}),hn=({title:e,message:t,onConfirm:n,onCancel:r,confirmText:i,cancelText:s})=>(0,A.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center z-50 p-4",children:(0,A.jsxs)("div",{className:"bg-gray-900 text-white rounded-lg shadow-xl p-6 w-full max-w-md mx-auto border border-gray-700",children:[(0,A.jsx)("h3",{className:"text-xl font-bold text-blue-300 mb-4",children:e}),(0,A.jsx)("p",{className:"text-gray-400 mb-6 whitespace-pre-wrap",children:t}),(0,A.jsxs)("div",{className:"flex justify-end space-x-4",children:[r&&(0,A.jsx)("button",{onClick:r,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-500 transition",children:s||"Cancel"}),n&&(0,A.jsx)("button",{onClick:n,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition",children:i||"OK"})]})]})});function hr({onJoinRoom:e,onLogin:t,user:n,showCreateForm:r,onSetShowCreateForm:i,onCreateRoom:s}){let[a,o]=(0,R.useState)(""),[l,u]=(0,R.useState)(!1),[c,h]=(0,R.useState)(""),d=async()=>{if(!a.trim())return void h("Please enter a room code.");u(!0),h(""),await e(a.trim().toLowerCase())||(h("Room not found. Please check the code."),u(!1))};return(0,A.jsxs)("div",{className:"max-w-md mx-auto text-center animate-fade-in p-8 bg-gray-800 rounded-xl",children:[(0,A.jsx)("h2",{className:"text-3xl font-bold text-blue-300 mb-4",children:"Welcome!"}),(0,A.jsx)("p",{className:"text-gray-400 mb-8",children:"Join a room to start or create a new one."}),(0,A.jsxs)("div",{className:"bg-gray-700 p-6 rounded-lg",children:[(0,A.jsx)("h3",{className:"text-xl font-semibold mb-3",children:"Join an Existing Room"}),(0,A.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,A.jsx)("input",{type:"text",value:a,onChange:e=>o(e.target.value),onKeyPress:e=>"Enter"===e.key&&d(),placeholder:"Enter Room Code",className:"w-full bg-gray-900 text-white placeholder-gray-400 rounded-md px-4 py-3 text-center text-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,A.jsx)("button",{onClick:d,disabled:l,className:"w-full bg-blue-600 text-white font-bold py-3 px-6 rounded-md hover:bg-blue-700 disabled:bg-gray-500",children:l?"Joining...":"Join Room"}),c&&(0,A.jsx)("p",{className:"text-red-400 mt-2",children:c})]})]}),(0,A.jsxs)("div",{className:"mt-8",children:[(0,A.jsx)("p",{className:"text-gray-500 mb-3",children:"or"}),n&&!n.isAnonymous&&r?(0,A.jsx)(hi,{onCreateRoom:s,user:n}):(0,A.jsx)("button",{onClick:()=>{n&&!n.isAnonymous?i(!0):t(!0)},className:"bg-green-600 text-white font-bold py-3 px-6 rounded-md hover:bg-green-700",children:"Create a Room"})]})]})}function hi({onCreateRoom:e,user:t}){let[n,r]=(0,R.useState)(""),[i,s]=(0,R.useState)(!1),[a,o]=(0,R.useState)(""),l=async()=>{if(!n.trim())return void o("Please enter a code for your new room.");s(!0),o(""),await e(n.trim().toLowerCase())||s(!1)};return(0,A.jsxs)("div",{className:"bg-gray-700 p-6 rounded-lg",children:[(0,A.jsx)("h3",{className:"text-xl font-semibold mb-3",children:"Create a New Room"}),(0,A.jsxs)("p",{className:"text-sm text-gray-400 mb-4",children:["You are signed in as ",t.displayName,"."]}),(0,A.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,A.jsx)("input",{type:"text",value:n,onChange:e=>r(e.target.value),onKeyPress:e=>"Enter"===e.key&&l(),placeholder:"Choose a Room Code",className:"w-full bg-gray-900 text-white placeholder-gray-400 rounded-md px-4 py-3 text-center text-lg focus:outline-none focus:ring-2 focus:ring-green-500"}),(0,A.jsx)("button",{onClick:l,disabled:i,className:"w-full bg-green-600 text-white font-bold py-3 px-6 rounded-md hover:bg-green-700 disabled:bg-gray-500",children:i?"Creating...":"Create Room"}),a&&(0,A.jsx)("p",{className:"text-red-400 mt-2",children:a})]})]})}function hs({roomId:e,onLeaveRoom:t,onSignOut:n,user:r,db:i}){let s="undefined"!=typeof __app_id?__app_id:"default-app-id",[a,o]=(0,R.useState)("scoreboard"),[l,u]=(0,R.useState)([]),[c,h]=(0,R.useState)([]),[d,f]=(0,R.useState)(""),[p,m]=(0,R.useState)(null),[g,y]=(0,R.useState)(null),v=l.some(e=>e.points>0);(0,R.useEffect)(()=>{if(!i||!e)return;console.log(`Setting up listeners for room: ${e}`);let t=`artifacts/${s}/public/data/rooms/${e}/players`,n=`artifacts/${s}/public/data/rooms/${e}/games`,r=ld(o3(ow(i,t)),e=>{u(e.docs.map(e=>({id:e.id,...e.data()})).sort((e,t)=>t.points-e.points))},e=>console.error("Player listener error:",e)),a=ld(o3(ow(i,n),function(e,t="asc"){let n=oZ("orderBy",e);return o5._create(n,t)}("createdAt","desc")),e=>h(e.docs.map(e=>({id:e.id,...e.data()}))),e=>console.error("History listener error:",e));return()=>{console.log("Cleaning up listeners."),r(),a()}},[i,e,s]);let b=()=>`artifacts/${s}/public/data/rooms/${e}/players`,w=async()=>{let e=d.trim();if(""===e)return void y({title:"Invalid Name",message:"Player name cannot be empty.",onConfirm:()=>y(null)});if(l.length>=15)return void y({title:"Player Limit Reached",message:"You can only register a maximum of 15 players.",onConfirm:()=>y(null)});f("");let t={name:e,points:0,createdAt:new Date};try{await lh(ow(i,b()),t)}catch(t){console.error("Error adding player: ",t),y({title:"Error",message:`Could not save player. Firebase error: ${t.message}`,onConfirm:()=>y(null)}),f(e)}},E=()=>{v?y({title:"Add New Player?",message:"Adding a player after points are awarded is fine, but they will start with 0 points.\nContinue?",confirmText:"Yes, Add",onConfirm:()=>{y(null),w()},cancelText:"Cancel",onCancel:()=>y(null)}):w()},S=async e=>await lc(oE(i,b(),e)),_=e=>{let t=l.find(t=>t.id===e);t&&t.points>0?y({title:"Remove Player?",message:`Removing ${t.name} is permanent and cannot be undone.
Are you sure?`,confirmText:"Yes, Remove",onConfirm:async()=>{y(null),await S(e)},cancelText:"Cancel",onCancel:()=>y(null)}):S(e)},k=()=>y({title:"Reset Game?",message:"This will delete all players, points, and history for everyone in this room. This is irreversible.",confirmText:"Yes, Reset",onConfirm:async()=>{let t=o3(ow(i,b())),n=o3(ow(i,`artifacts/${s}/public/data/rooms/${e}/games`)),[r,a]=await Promise.all([ll(t),ll(n)]);await Promise.all([...r.docs.map(e=>lc(e.ref)),...a.docs.map(e=>lc(e.ref))]),o("register"),m(null),y(null)}}),T=async t=>{for(let n of(await lh(ow(i,`artifacts/${s}/public/data/rooms/${e}/games`),{...t,createdAt:new Date}),t.results)){let e=oE(i,b(),n.id),t=l.find(e=>e.id===n.id);t&&await lu(e,{points:t.points+n.points})}m(null),o("scoreboard")},x=t=>y({title:"Delete Game Record?",message:`This will delete "${t.gameName}" and subtract points from the scoreboard. This cannot be undone.`,confirmText:"Yes, Delete",onConfirm:async()=>{for(let e of t.results){let t=oE(i,b(),e.id),n=l.find(t=>t.id===e.id);n&&await lu(t,{points:n.points-e.points})}await lc(oE(i,`artifacts/${s}/public/data/rooms/${e}/games`,t.id)),y(null)},cancelText:"Cancel",onCancel:()=>y(null)}),C=async(t,n)=>{if(!n.trim())return;let r=oE(i,`artifacts/${s}/public/data/rooms/${e}/games`,t);try{await lu(r,{gameName:n.trim()})}catch(e){console.error("Error updating game name:",e),y({title:"Error",message:"Could not update game name.",onConfirm:()=>y(null)})}},I=e=>{let t=()=>{m(null),"1v1"===e&&N(),"team"===e&&P(),"ffa"===e&&O(),"mariokart"===e&&D(),"justfu"===e&&L()};if(p&&p.type!==e){var n;y({title:"Start New Tournament?",message:`An existing ${"1v1"===(n=p.type)?"1v1 Tournament":"team"===n?"Team Based":"ffa"===n?"Free For All":"mariokart"===n?"Mario Kart":"justfu"===n?"Just Fu":"tournament"} tournament is in progress. Starting a new one will delete its progress. Are you sure?`,confirmText:"Yes, Start New",onConfirm:()=>{y(null),t()},cancelText:"Cancel",onCancel:()=>y(null)})}else t()},N=()=>{let e=[...l].sort((e,t)=>t.points-e.points),t=[];for(let n=0;n<e.length;n+=2)e[n+1]?t.push({p1:e[n],p2:e[n+1],winner:null,matchId:`R1M${n/2+1}`}):t.push({p1:e[n],p2:{id:"bye",name:"BYE"},winner:e[n].id,matchId:`R1M${n/2+1}`});m({type:"1v1",players:l.map(e=>({...e,wins:0,opponents:[]})),rounds:[{round:1,matches:t}],status:"active"}),o("1v1_tournament")},P=()=>{let e=[...l].sort((e,t)=>t.points-e.points),t=[],n=[];e.forEach((e,r)=>{r%2==0?t.push(e):n.push(e)}),m({type:"team",teamA:t,teamB:n,scoreA:0,scoreB:0,status:"active"}),o("team_based_game")},O=()=>{let e={};l.forEach(t=>{e[t.id]=0}),m({type:"ffa",players:[...l],scores:e,status:"active"}),o("free_for_all_game")},D=()=>{if(14!==l.length)return void y({title:"Incorrect Player Count",message:"Mario Kart tournament requires exactly 14 players.",onConfirm:()=>y(null),confirmText:"OK"});let e=[...l].sort((e,t)=>t.points-e.points),t={A:[],B:[],C:[],D:[]},n=["A","B","C","D"];e.forEach((e,r)=>{t[n[Math.floor(r/4)%2==0?r%4:3-r%4]].push(e)}),m({type:"mariokart",stage:"groups",groups:t,groupResults:{},status:"active"}),o("mario_kart_tournament")},L=()=>{if(14!==l.length)return void y({title:"Incorrect Player Count",message:"This tournament requires exactly 14 players.",onConfirm:()=>y(null),confirmText:"OK"});let e=[...l].sort((e,t)=>t.points-e.points),t={A:[],B:[],C:[]},n=["A","B","C"];e.forEach((e,r)=>{let i;t[n[i=Math.floor(r/3)%2==0?r%3:2-r%3]]&&t[n[i]].push(e)});let r={};l.forEach(e=>{r[e.id]=0}),m({type:"justfu",stage:"groups",groups:t,groupScores:r,status:"active"}),o("just_fu_tournament")},M=()=>{p&&("1v1"===p.type&&o("1v1_tournament"),"team"===p.type&&o("team_based_game"),"ffa"===p.type&&o("free_for_all_game"),"mariokart"===p.type&&o("mario_kart_tournament"),"justfu"===p.type&&o("just_fu_tournament"))};return(0,A.jsxs)("div",{className:"bg-gray-900 text-white min-h-screen font-sans p-4 sm:p-6 lg:p-8",children:[g&&(0,A.jsx)(hn,{...g}),(0,A.jsxs)("div",{className:"max-w-full mx-auto",children:[(0,A.jsxs)("header",{className:"text-center mb-8 relative",children:[(0,A.jsxs)("h1",{className:"text-4xl sm:text-5xl font-bold text-blue-400 tracking-wider",children:[(0,A.jsx)(c7,{})," Akavin games"]}),(0,A.jsx)("p",{className:"text-gray-400 mt-2",children:"AkaGamestudio "}),(0,A.jsxs)("div",{className:"absolute top-0 right-0 flex items-start gap-4",children:[r&&!r.isAnonymous&&(0,A.jsxs)("button",{onClick:n,className:"bg-gray-700 text-white font-bold py-2 px-4 rounded-md hover:bg-gray-600 flex items-center",children:[(0,A.jsx)(ht,{})," Sign Out"]}),(0,A.jsxs)("div",{className:"flex flex-col items-center",children:[(0,A.jsxs)("button",{onClick:t,className:"bg-red-600 text-white font-bold py-2 px-4 rounded-md hover:bg-red-700 flex items-center",children:[(0,A.jsx)(he,{})," Leave Room"]}),(0,A.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Room: ",e]})]})]})]}),(0,A.jsx)("main",{className:"bg-gray-800 rounded-xl shadow-2xl p-6",children:(()=>{switch(a){case"register":default:return(0,A.jsx)(PlayerRegistration,{players:l,newPlayerName:d,setNewPlayerName:f,onAddPlayer:E,onRemovePlayer:_,onStart:()=>o("scoreboard")});case"scoreboard":return(0,A.jsx)(Scoreboard,{players:l,onPlay:()=>o("play_menu"),onGoToRegister:()=>o("register"),onResetGame:k,onShowHistory:()=>o("history")});case"play_menu":return(0,A.jsx)(PlayMenu,{tournament:p,players:l,onCreateTournament:I,onResume:M,onAddPoints:()=>o("add_points"),onBack:()=>o("scoreboard")});case"add_points":return(0,A.jsx)(AddPoints,{players:l,onConfirm:T,onCancel:()=>o("play_menu")});case"history":return(0,A.jsx)(GameHistory,{history:c,onBack:()=>o("scoreboard"),onDeleteGame:x,onRenameGame:C});case"1v1_tournament":return(0,A.jsx)(ha,{tournament:p,setTournament:m,players:l,onFinish:T,onCancel:()=>o("scoreboard")});case"team_based_game":return(0,A.jsx)(ho,{tournament:p,setTournament:m,onFinish:T,onCancel:()=>o("scoreboard")});case"free_for_all_game":return(0,A.jsx)(hl,{tournament:p,setTournament:m,onFinish:T,onCancel:()=>o("scoreboard")});case"mario_kart_tournament":return(0,A.jsx)(hu,{tournament:p,players:l,setTournament:m,onFinish:T,onCancel:()=>o("scoreboard")});case"just_fu_tournament":return(0,A.jsx)(hc,{tournament:p,players:l,setTournament:m,onFinish:T,onCancel:()=>o("scoreboard")})}})()}),(0,A.jsx)("footer",{className:"text-center mt-8 text-gray-500 text-sm",children:r&&!r.isAnonymous?(0,A.jsxs)("p",{children:["Host: ",r.displayName]}):(0,A.jsx)("p",{children:"Guest User"})})]})]})}function ha({tournament:e,setTournament:t,players:n,onFinish:r,onCancel:i}){let[s,a]=(0,R.useState)(null),[o,l]=(0,R.useState)(null),u=e.rounds.length-1,c=e.rounds[u],h=c.matches.every(e=>e.winner),d=Math.ceil(Math.log2(n.length)),f=(0,R.useMemo)(()=>{let t=e.players.map(e=>({...e,wins:0,losses:0}));return e.rounds.forEach(e=>{e.matches.forEach(e=>{if(e.winner){let n=t.find(t=>t.id===e.winner);if(n&&n.wins++,"bye"!==e.p2.id){let n=t.find(t=>t.id===(e.p1.id===e.winner?e.p2.id:e.p1.id));n&&n.losses++}}})}),t.sort((e,t)=>t.wins-e.wins||e.losses-t.losses)},[e]),p=(n,r)=>{let i=JSON.parse(JSON.stringify(e)),s=i.rounds[u].matches.find(e=>e.matchId===n);s&&(s.winner=s.winner===r?null:r),t(i)};if(s)return(0,A.jsx)(AddPoints,{players:n,onConfirm:r,onCancel:()=>a(null),tournamentResults:s});let m=c.matches.reduce((t,n)=>{let r=((t,n)=>{let r=0;for(let i=0;i<n-1;i++)e.rounds[i]?.matches.some(e=>e.winner===t)&&r++;return r})(n.p1.id,c.round);return t[r]=t[r]||[],t[r].push(n),t},{}),g=Math.ceil(f.length/2),y=f.slice(0,g),v=f.slice(g);return(0,A.jsxs)("div",{className:"animate-fade-in",children:["",o&&(0,A.jsx)(hn,{...o}),"",(0,A.jsxs)("div",{className:"flex justify-between items-center mb-4",children:["",(0,A.jsx)("h2",{className:"text-3xl font-bold text-blue-300",children:"1v1 Tournament"}),"",(0,A.jsx)("button",{onClick:i,className:"text-gray-400 hover:text-white transition bg-gray-700 px-3 py-1 rounded-md",children:" Exit"}),""]})," ",(0,A.jsxs)("div",{className:"p-4 bg-gray-900/50 rounded-lg mb-8",children:["",(0,A.jsx)("h3",{className:"text-xl font-bold text-center mb-4 text-yellow-300",children:"Tournament Standings"}),"",(0,A.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-2",children:["",(0,A.jsxs)("div",{className:"flex flex-col space-y-2",children:["",(0,A.jsxs)("div",{className:"grid grid-cols-4 font-bold text-gray-400",children:[(0,A.jsx)("span",{children:"Rank"}),(0,A.jsx)("span",{children:"Player"}),(0,A.jsx)("span",{className:"text-center",children:"Wins"}),(0,A.jsx)("span",{className:"text-center",children:"Losses"})]}),"",y.map((e,t)=>(0,A.jsxs)("div",{className:"grid grid-cols-4 bg-gray-700 p-2 rounded-md items-center",children:[(0,A.jsxs)("span",{children:["#",t+1]}),(0,A.jsx)("span",{className:"truncate",children:e.name}),(0,A.jsx)("span",{className:"text-center font-mono text-green-400",children:e.wins}),(0,A.jsx)("span",{className:"text-center font-mono text-red-400",children:e.losses})]},e.id)),""]}),"",(0,A.jsxs)("div",{className:"flex flex-col space-y-2",children:["",(0,A.jsxs)("div",{className:"grid grid-cols-4 font-bold text-gray-400",children:[(0,A.jsx)("span",{children:"Rank"}),(0,A.jsx)("span",{children:"Player"}),(0,A.jsx)("span",{className:"text-center",children:"Wins"}),(0,A.jsx)("span",{className:"text-center",children:"Losses"})]}),"",v.map((e,t)=>(0,A.jsxs)("div",{className:"grid grid-cols-4 bg-gray-700 p-2 rounded-md items-center",children:[(0,A.jsxs)("span",{children:["#",g+t+1]}),(0,A.jsx)("span",{className:"truncate",children:e.name}),(0,A.jsx)("span",{className:"text-center font-mono text-green-400",children:e.wins}),(0,A.jsx)("span",{className:"text-center font-mono text-red-400",children:e.losses})]},e.id)),""]}),""]}),""]}),"",(0,A.jsxs)("div",{className:"max-w-3xl mx-auto",children:["",Object.keys(m).sort((e,t)=>t-e).map(e=>(0,A.jsxs)("div",{className:"mb-6",children:["",(0,A.jsxs)("h3",{className:"text-xl font-bold text-center mb-4 text-purple-300",children:["Round ",c.round,": ",e,"-Win Bracket"]}),"",(0,A.jsxs)("div",{className:"space-y-3",children:["",m[e].map(e=>(0,A.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4 shadow-md",children:["",(0,A.jsxs)("div",{className:"flex justify-between items-center",children:["",(0,A.jsx)("button",{onClick:()=>p(e.matchId,e.p1.id),className:`w-2/5 text-lg font-semibold p-3 rounded-md transition truncate ${e.winner===e.p1.id?"bg-green-600":"bg-gray-800 hover:bg-blue-600"}`,children:e.p1.name}),"",(0,A.jsx)(c9,{}),"",(0,A.jsx)("button",{onClick:()=>p(e.matchId,e.p2.id),disabled:"bye"===e.p2.id,className:`w-2/5 text-lg font-semibold p-3 rounded-md transition truncate ${e.winner===e.p2.id?"bg-green-600":"bg-gray-800 hover:bg-blue-600"}`,children:e.p2.name}),""]}),""]},e.matchId)),""]}),""]},e))," ",(0,A.jsxs)("div",{className:"mt-8 text-center flex justify-center items-center flex-wrap gap-4",children:["",e.rounds.length>1&&(0,A.jsx)("button",{onClick:()=>{l({title:"Edit Previous Round?",message:"This will reset the current round and allow you to change the results of the previous round. Are you sure?",confirmText:"Yes, Go Back",onConfirm:()=>{let n=JSON.parse(JSON.stringify(e));n.rounds.pop();let r=n.players.map(e=>({...e,wins:0,opponents:[]}));n.rounds.forEach(e=>{e.matches.forEach(e=>{if(e.winner){let t=r.find(t=>t.id===e.winner);t&&t.wins++;let n=r.find(t=>t.id===e.p1.id),i=r.find(t=>t.id===e.p2.id);n&&i&&(n.opponents.push(i.id),i.opponents.push(n.id))}})}),n.players=r,t(n),l(null)},cancelText:"Cancel",onCancel:()=>l(null)})},className:"bg-yellow-600 text-white font-bold py-3 px-8 rounded-md hover:bg-yellow-700",children:"Edit Previous Round"}),"",h&&c.round<d&&(0,A.jsx)("button",{onClick:()=>{let n=[...e.players];c.matches.forEach(e=>{let t=n.find(t=>t.id===e.winner);t&&(t.wins=(t.wins||0)+1);let r=n.find(t=>t.id===e.p1.id),i=n.find(t=>t.id===e.p2.id);r&&i&&(r.opponents.push(i.id),i.opponents.push(r.id))});let r=n.reduce((e,t)=>{let n=t.wins||0;return e[n]=e[n]||[],e[n].push(t),e},{}),i=[];Object.keys(r).sort((e,t)=>t-e).forEach(e=>{let t=[...r[e]];for(t.sort(()=>Math.random()-.5);t.length>0;){if(1===t.length){let e=t.shift();i.push({p1:e,p2:{id:"bye",name:"BYE"},winner:e.id,matchId:`R${c.round+1}M${i.length+1}`});break}let e=t.shift(),n=t.findIndex(t=>!e.opponents.includes(t.id));-1===n&&(n=0);let r=t.splice(n,1)[0];i.push({p1:e,p2:r,winner:null,matchId:`R${c.round+1}M${i.length+1}`})}});let s=JSON.parse(JSON.stringify(e));s.players=n,s.rounds.push({round:c.round+1,matches:i}),t(s)},className:"bg-green-600 text-white font-bold py-3 px-8 rounded-md hover:bg-green-700",children:"Start Next Round"}),"",h&&c.round>=d&&(0,A.jsx)("button",{onClick:()=>{let e=[...f],t=n.length,r=e.map((e,n)=>({id:e.id,name:e.name,points:t-n,rank:n+1,wins:e.wins,losses:e.losses}));a({gameName:`1v1 Tournament - ${new Date().toLocaleDateString()}`,results:r,type:"1v1"})},className:"bg-purple-600 text-white font-bold py-3 px-8 rounded-md hover:bg-purple-700",children:"Finish Tournament & Award Points"}),""]}),""]}),""]})}function ho({tournament:e,setTournament:t,onFinish:n,onCancel:r}){let[i,s]=(0,R.useState)(null),{teamA:a,teamB:o,scoreA:l,scoreB:u}=e,c=a.length+o.length,h=(n,r)=>{let i=parseInt(r,10)||0,s={...e};"A"===n&&(s.scoreA=i),"B"===n&&(s.scoreB=i),t(s)};return i?(0,A.jsx)(AddPoints,{players:[...a,...o],onConfirm:n,onCancel:()=>s(null),tournamentResults:i}):(0,A.jsxs)("div",{className:"animate-fade-in max-w-4xl mx-auto",children:["",(0,A.jsxs)("div",{className:"flex justify-between items-center mb-4",children:["",(0,A.jsx)("h2",{className:"text-3xl font-bold text-blue-300",children:"Team Based Game"}),"",(0,A.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-white transition bg-gray-700 px-3 py-1 rounded-md",children:" Exit"}),""]}),"",(0,A.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:["","",(0,A.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg",children:["",(0,A.jsx)("h3",{className:"text-xl font-bold text-center mb-4 text-red-400",children:"Team A"}),"",(0,A.jsxs)("div",{className:"space-y-2 mb-4",children:["",a.map(e=>(0,A.jsx)("div",{className:"bg-gray-800 p-2 rounded text-center",children:e.name},e.id)),""]}),"",(0,A.jsx)("input",{type:"number",value:l,onChange:e=>h("A",e.target.value),className:"w-full bg-gray-900 text-white text-center font-mono text-2xl rounded-md py-2 px-2 focus:outline-none",placeholder:"Score"}),""]}),"","",(0,A.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg",children:["",(0,A.jsx)("h3",{className:"text-xl font-bold text-center mb-4 text-blue-400",children:"Team B"}),"",(0,A.jsxs)("div",{className:"space-y-2 mb-4",children:["",o.map(e=>(0,A.jsx)("div",{className:"bg-gray-800 p-2 rounded text-center",children:e.name},e.id)),""]}),"",(0,A.jsx)("input",{type:"number",value:u,onChange:e=>h("B",e.target.value),className:"w-full bg-gray-900 text-white text-center font-mono text-2xl rounded-md py-2 px-2 focus:outline-none",placeholder:"Score"}),""]}),""]}),"",(0,A.jsxs)("div",{className:"mt-8 text-center",children:["",(0,A.jsx)("button",{onClick:()=>{let e=Math.max(l,u),t=Math.min(l,u);if(0===e)return void s({gameName:"Team Game (Tie)",results:[...a,...o].map((e,t)=>({id:e.id,name:e.name,points:0,rank:t+1})),type:"team"});let n=l>u?a:o,r=l>u?o:a,i=Math.round(t/e*c);s({gameName:"Team Game",results:[...n.map(e=>({id:e.id,name:e.name,points:c,rank:1})),...r.map(e=>({id:e.id,name:e.name,points:i,rank:n.length+1}))],type:"team"})},className:"bg-purple-600 text-white font-bold py-3 px-8 rounded-md hover:bg-purple-700",children:"Finish Game & Award Points"}),""]}),""]})}function hl({tournament:e,setTournament:t,onFinish:n,onCancel:r}){let[i,s]=(0,R.useState)(null),[a,o]=(0,R.useState)(e.scores||{});return i?(0,A.jsx)(AddPoints,{players:e.players,onConfirm:n,onCancel:()=>s(null),tournamentResults:i}):(0,A.jsxs)("div",{className:"animate-fade-in max-w-2xl mx-auto",children:["",(0,A.jsxs)("div",{className:"flex justify-between items-center mb-4",children:["",(0,A.jsx)("h2",{className:"text-3xl font-bold text-blue-300",children:"Free For All"}),"",(0,A.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-white transition bg-gray-700 px-3 py-1 rounded-md",children:" Exit"}),""]})," ",(0,A.jsx)("p",{className:"text-center text-gray-400 mb-6",children:"Enter the score for each player from the game."}),"",(0,A.jsxs)("div",{className:"space-y-3",children:["",e.players.map(n=>(0,A.jsxs)("div",{className:"bg-gray-700 rounded-lg p-3 flex justify-between items-center shadow-md",children:["",(0,A.jsx)("span",{className:"font-medium text-lg",children:n.name}),"",(0,A.jsxs)("div",{className:"flex items-center gap-2",children:["",(0,A.jsx)("label",{htmlFor:`score-${n.id}`,className:"text-sm text-gray-400",children:"Score:"}),"",(0,A.jsx)("input",{id:`score-${n.id}`,type:"number",value:a[n.id]||"",onChange:r=>((n,r)=>{let i={...a,[n]:parseInt(r,10)||0};o(i),t({...e,scores:i})})(n.id,r.target.value),className:"bg-gray-900 w-24 text-white text-center font-mono rounded-md py-1 px-2 focus:outline-none focus:ring-2 focus:ring-purple-500"}),""]}),""]},n.id)),""]}),"",(0,A.jsxs)("div",{className:"mt-8 text-center",children:["",(0,A.jsx)("button",{onClick:()=>{let t=e.players.map(e=>({...e,score:a[e.id]||0}));t.sort((e,t)=>t.score-e.score);let n=t.length;s({gameName:"Free For All",results:t.map((e,t)=>({id:e.id,name:e.name,points:n-t,rank:t+1})),type:"ffa"})},className:"bg-purple-600 text-white font-bold py-3 px-8 rounded-md hover:bg-purple-700",children:"Finish Game & Award Points"}),""]}),""]})}function hu({tournament:e,players:t,setTournament:n,onFinish:r,onCancel:i}){let[s,a]=(0,R.useState)(null),o=(0,R.useRef)(null),l=(0,R.useRef)(null);return s?(0,A.jsx)(AddPoints,{players:t,onConfirm:r,onCancel:()=>a(null),tournamentResults:s}):(0,A.jsxs)("div",{className:"animate-fade-in max-w-6xl mx-auto",children:["",(0,A.jsxs)("div",{className:"flex justify-between items-center mb-4",children:["",(0,A.jsx)("h2",{className:"text-3xl font-bold text-blue-300",children:"Mario Kart Tournament"}),"",(0,A.jsx)("button",{onClick:i,className:"text-gray-400 hover:text-white transition bg-gray-700 px-3 py-1 rounded-md",children:" Exit"}),""]}),"","groups"===e.stage&&(0,A.jsxs)("div",{children:["",(0,A.jsx)("h3",{className:"text-xl font-bold text-center mb-4 text-yellow-300",children:"Group Stage: Drag to Rank Players"}),"",(0,A.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:["",Object.keys(e.groups).map(t=>(0,A.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg",children:["",(0,A.jsxs)("h4",{className:"font-bold text-center mb-2",children:["Group ",t]}),"",(0,A.jsxs)("div",{className:"space-y-2",children:["",e.groups[t].map((r,i)=>(0,A.jsxs)("div",{draggable:!0,onDragStart:()=>o.current=i,onDragEnter:()=>l.current=i,onDragEnd:()=>((t,r)=>{let i=[...r],s=i[o.current];i.splice(o.current,1),i.splice(l.current,0,s);let a=JSON.parse(JSON.stringify(e));a.groups[t]=i,n(a)})(t,e.groups[t]),onDragOver:e=>e.preventDefault(),className:"bg-gray-800 p-3 rounded-md cursor-grab active:cursor-grabbing flex items-center gap-4",children:["",(0,A.jsxs)("span",{className:"font-bold text-lg text-yellow-400",children:["#",i+1]}),"",(0,A.jsx)("span",{children:r.name}),""]},r.id)),""]}),""]},t)),""]}),"",(0,A.jsxs)("div",{className:"mt-8 text-center",children:["",(0,A.jsx)("button",{onClick:()=>{let t={},r={championship:{name:"Championship Final (1st-4th)",players:[]},silver:{name:"Silver Final (5th-8th)",players:[]},bronze:{name:"Bronze Final (9th-12th)",players:[]},last:{name:"Last Place Final (13th-14th)",players:[]}};Object.keys(e.groups).forEach(n=>{e.groups[n].forEach((e,n)=>{t[e.id]=n+1,0===n?r.championship.players.push(e):1===n?r.silver.players.push(e):2===n?r.bronze.players.push(e):3===n&&r.last.players.push(e)})}),n({...e,stage:"finals",groupResults:t,finals:r})},className:"bg-green-600 text-white font-bold py-3 px-8 rounded-md hover:bg-green-700",children:"Confirm Group Results"}),""]}),""]})," ","finals"===e.stage&&(0,A.jsxs)("div",{children:["",(0,A.jsx)("h3",{className:"text-xl font-bold text-center mb-4 text-yellow-300",children:"Finals Stage: Drag to Rank Players"}),"",(0,A.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:["",Object.keys(e.finals).map(t=>(0,A.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg",children:["",(0,A.jsx)("h4",{className:"font-bold text-center mb-2",children:e.finals[t].name}),"",(0,A.jsxs)("div",{className:"space-y-2",children:["",e.finals[t].players.map((r,i)=>(0,A.jsxs)("div",{draggable:!0,onDragStart:()=>o.current=i,onDragEnter:()=>l.current=i,onDragEnd:()=>((t,r)=>{let i=[...r],s=i[o.current];i.splice(o.current,1),i.splice(l.current,0,s);let a=JSON.parse(JSON.stringify(e));a.finals[t].players=i,n(a)})(t,e.finals[t].players),onDragOver:e=>e.preventDefault(),className:"bg-gray-800 p-3 rounded-md cursor-grab active:cursor-grabbing flex items-center gap-4",children:["",(0,A.jsxs)("span",{className:"font-bold text-lg text-yellow-400",children:["#",i+1]}),"",(0,A.jsx)("span",{children:r.name}),""]},r.id)),""]}),""]},t)),""]}),"",(0,A.jsxs)("div",{className:"mt-8 text-center",children:["",(0,A.jsx)("button",{onClick:()=>{let t=[],{finals:n}=e;n.championship.players.forEach((e,n)=>t[n]=e),n.silver.players.forEach((e,n)=>t[n+4]=e),n.bronze.players.forEach((e,n)=>t[n+8]=e),n.last.players.forEach((e,n)=>t[n+12]=e);let r=t.length;a({gameName:"Mario Kart Tournament",results:t.map((e,t)=>({id:e.id,name:e.name,points:r-t,rank:t+1})),type:"mariokart"})},className:"bg-purple-600 text-white font-bold py-3 px-8 rounded-md hover:bg-purple-700",children:"Finish Tournament & Award Points"}),""]}),""]}),""]})}function hc({tournament:e,players:t,setTournament:n,onFinish:r,onCancel:i}){let[s,a]=(0,R.useState)(null),[o,l]=(0,R.useState)(e.groupScores||{});return s?(0,A.jsx)(AddPoints,{players:t,onConfirm:r,onCancel:()=>a(null),tournamentResults:s}):(0,A.jsxs)("div",{className:"animate-fade-in max-w-6xl mx-auto",children:["",(0,A.jsxs)("div",{className:"flex justify-between items-center mb-4",children:["",(0,A.jsx)("h2",{className:"text-3xl font-bold text-blue-300",children:"Just Fu Tournament"}),"",(0,A.jsx)("button",{onClick:i,className:"text-gray-400 hover:text-white transition bg-gray-700 px-3 py-1 rounded-md",children:" Exit"}),""]}),"","groups"===e.stage&&(0,A.jsxs)("div",{children:["",(0,A.jsx)("h3",{className:"text-xl font-bold text-center mb-4 text-yellow-300",children:"Group Stage: Enter Scores"}),"",(0,A.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["",Object.keys(e.groups).map(t=>(0,A.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg",children:["",(0,A.jsxs)("h4",{className:"font-bold text-center mb-2",children:["Group ",t]}),"",(0,A.jsxs)("div",{className:"space-y-2",children:["",e.groups[t].map(t=>(0,A.jsxs)("div",{className:"bg-gray-800 p-3 rounded-md flex justify-between items-center",children:["",(0,A.jsx)("span",{children:t.name}),"",(0,A.jsx)("input",{type:"number",value:o[t.id]||"",onChange:r=>((t,r)=>{let i={...o,[t]:parseInt(r,10)||0};l(i),n({...e,groupScores:i})})(t.id,r.target.value),className:"bg-gray-900 w-20 text-white text-center font-mono rounded-md py-1 px-2 focus:outline-none"}),""]},t.id)),""]}),""]},t)),""]}),"",(0,A.jsxs)("div",{className:"mt-8 text-center",children:["",(0,A.jsx)("button",{onClick:()=>{let r=t.map(e=>({...e,score:o[e.id]||0})),i=[],s=new Set;Object.values(e.groups).forEach(e=>{if(0===e.length)return;let t=e.map(e=>r.find(t=>t.id===e.id)).filter(Boolean);if(0===t.length)return;t.sort((e,t)=>t.score-e.score);let n=t[0];i.push(n),s.add(n.id)});let a=r.filter(e=>!s.has(e.id)).sort((e,t)=>t.score-e.score).slice(0,3),l=new Set(a.map(e=>e.id)),u=[...i,...a],c=r.filter(e=>!s.has(e.id)&&!l.has(e.id)).sort((e,t)=>t.score-e.score),h=c.slice(0,4),d=c.slice(4,8),f={championship:{name:`Championship Final (1st-${u.length}th)`,players:u,scores:{}},silver:{name:`Silver Final (${u.length+1}th-${u.length+h.length}th)`,players:h,scores:{}},bronze:{name:`Bronze Final (${u.length+h.length+1}th-14th)`,players:d,scores:{}}};t.forEach(e=>{f.championship.scores[e.id]=0,f.silver.scores[e.id]=0,f.bronze.scores[e.id]=0}),n({...e,stage:"finals",finals:f})},className:"bg-green-600 text-white font-bold py-3 px-8 rounded-md hover:bg-green-700",children:"Confirm Group Scores"}),""]}),""]})," ","finals"===e.stage&&(0,A.jsxs)("div",{children:["",(0,A.jsx)("h3",{className:"text-xl font-bold text-center mb-4 text-yellow-300",children:"Finals Stage: Enter Scores"}),"",(0,A.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["",Object.keys(e.finals).map(t=>(0,A.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg",children:["",(0,A.jsx)("h4",{className:"font-bold text-center mb-2",children:e.finals[t].name}),"",(0,A.jsxs)("div",{className:"space-y-2",children:["",e.finals[t].players.map(r=>(0,A.jsxs)("div",{className:"bg-gray-800 p-3 rounded-md flex justify-between items-center",children:["",(0,A.jsx)("span",{children:r.name}),"",(0,A.jsx)("input",{type:"number",value:e.finals[t].scores[r.id]||"",onChange:i=>((t,r,i)=>{let s=JSON.parse(JSON.stringify(e));s.finals[t].scores[r]=parseInt(i,10)||0,n(s)})(t,r.id,i.target.value),className:"bg-gray-900 w-20 text-white text-center font-mono rounded-md py-1 px-2 focus:outline-none"}),""]},r.id)),""]}),""]},t)),""]}),"",(0,A.jsxs)("div",{className:"mt-8 text-center",children:["",(0,A.jsx)("button",{onClick:()=>{let{finals:t}=e,n=t.championship.players.map(e=>({...e,score:t.championship.scores[e.id]})).sort((e,t)=>t.score-e.score),r=[...n,...t.silver.players.map(e=>({...e,score:t.silver.scores[e.id]})).sort((e,t)=>t.score-e.score),...t.bronze.players.map(e=>({...e,score:t.bronze.scores[e.id]})).sort((e,t)=>t.score-e.score)],i=r.length;a({gameName:"Just Fu Tournament",results:r.map((e,t)=>({id:e.id,name:e.name,points:i-t,rank:t+1})),type:"justfu"})},className:"bg-purple-600 text-white font-bold py-3 px-8 rounded-md hover:bg-purple-700",children:"Finish Tournament & Award Points"}),""]}),""]}),""]})}i(P).createRoot(document.getElementById("root")).render((0,A.jsx)(i(R).StrictMode,{children:(0,A.jsx)(function(){let[e,t]=(0,R.useState)(null),[n,r]=(0,R.useState)(null),[i,s]=(0,R.useState)(!1),[a,o]=(0,R.useState)(null),[l,u]=(0,R.useState)(!0),[c,h]=(0,R.useState)(null),[d,f]=(0,R.useState)(!1),[p,m]=(0,R.useState)(null),g="undefined"!=typeof __app_id?__app_id:"default-app-id";(0,R.useEffect)(()=>{try{var e;console.log("Initializing Firebase...");let n=eG(c8),i=function(e,t){let n=ez("object"==typeof e?e:eW(),"firestore").getImmediate({identifier:"string"==typeof e?e:nJ});if(!n._initialized){let e=(e=>{let t=z(e);if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&function(e,t,n,r={}){e=ny(e,og);let i=H(t),s=e._getSettings(),a={...s,emulatorOptions:e._getEmulatorOptions()},o=`${t}:${n}`;i&&(G(`https://${o}`),Q("Firestore",!0)),s.host!==op&&s.host!==o&&tQ("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l={...s,host:o,ssl:i,emulatorOptions:r};if(!ee(l,a)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=t$.MOCK_USER;else{t=function(e,t){if(e.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...e};return[U(JSON.stringify({alg:"none",type:"JWT"})),U(JSON.stringify(s)),""].join(".")}(r.mockUserToken,e._app?.options.projectId);let i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new t1(t0.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new t$(i)}e._authCredentials=new t6(new t3(t,n))}}(n,...e)}return n}(n),a=function(e=eW()){let t=ez(e,"auth");if(t.isInitialized())return t.getImmediate();let n=function(e,t){let n=ez(e,"auth");if(n.isInitialized()){let e=n.getImmediate();if(ee(n.getOptions(),t??{}))return e;lb(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:c1,persistence:[cg,u9,ce]}),r=$("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){let e=new URL(r,location.origin);if(location.origin===e.origin){let t,r=(t=e.toString(),async e=>{let n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>c6)return;let i=n?.token;c5!==i&&(c5=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});eo(n).beforeAuthStateChanged(r,()=>r(n.currentUser)),eo(n).onIdTokenChanged(e=>r(e),void 0,void 0)}}let i=z("auth");return i&&function(e,t,n){let r=eo(e);lk(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");let i=uI(t),{host:s,port:a}=function(e){let t=uI(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let e=i[1];return{host:e,port:uN(r.substr(e.length+1))}}{let[e,t]=r.split(":");return{host:e,port:uN(t)}}}(t),o=null===a?"":`:${a}`,l={url:`${i}//${s}${o}/`},u=Object.freeze({host:s,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:!1})});if(!r._canInitEmulator){lk(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),lk(ee(l,r.config.emulator)&&ee(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,H(s)?(G(`${i}//${s}${o}`),Q("Auth",!0)):function(){function e(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(n,`http://${i}`),n}(n);t({db:i,auth:a}),console.log("Firebase initialized successfully.");let o=(e=e=>{console.log("Auth state changed. User:",e?e.uid:"null"),r(e),s(!0),e&&!e.isAnonymous&&"create"===p?(f(!0),m(null)):(!e||e.isAnonymous)&&f(!1)},eo(a).onAuthStateChanged(e,void 0,void 0));return()=>o()}catch(e){console.error("CRITICAL: Firebase init failed:",e),h({title:"Initialization Error",message:`Could not connect to services. Error: ${e.message}`,onConfirm:()=>h(null)}),s(!0)}},[]),(0,R.useEffect)(()=>{let e=localStorage.getItem("akavin-room-id");e&&o(e),u(!1)},[]);let y=async(t=!1)=>{if(!e)return;t&&m("create");let n=new uQ;try{e.auth.currentUser&&e.auth.currentUser.isAnonymous&&await u6(e.auth),await cN(e.auth,n)}catch(e){m(null),console.error("Google sign-in error:",e),h({title:"Sign-In Error",message:`An error occurred: ${e.code}`,onConfirm:()=>h(null)})}},v=async()=>{e&&(await u6(e.auth),E())},b=async t=>{if(!e)return!1;let n=oE(e.db,`artifacts/${g}/public/data/rooms/${t}`);try{if((await la(n)).exists())return localStorage.setItem("akavin-room-id",t),o(t),!0;return!1}catch(e){return console.error("Error checking room:",e),h({title:"Error",message:`Could not check room. Error: ${e.message}`,onConfirm:()=>h(null)}),!1}},w=async t=>{if(!e||!n||n.isAnonymous)return h({title:"Creation Failed",message:n?"Only signed-in users can create rooms.":"No user is signed in.",onConfirm:()=>h(null)}),!1;console.log(`Attempting to create room '${t}' for user ${n.uid}`);let r=oE(e.db,`artifacts/${g}/public/data/rooms/${t}`);try{if((await la(r)).exists())return h({title:"Room Exists",message:"This room code is already taken. Please try another.",onConfirm:()=>h(null)}),!1;return await function(e,t,n){e=ny(e,ov);let r=ny(e.firestore,ox),i=lt(e.converter,t,void 0);return lf(r,[oV(oj(r),"setDoc",e._key,i,null!==e.converter,void 0).toMutation(e._key,il.none())])}(r,{createdAt:new Date,createdBy:n.uid,creatorName:n.displayName||n.email}),console.log(`Room '${t}' created successfully.`),localStorage.setItem("akavin-room-id",t),o(t),!0}catch(e){return console.error("FATAL: Error creating room:",e),h({title:"Database Error",message:`Could not create room. Firebase returned the following error:

${e.message}`,onConfirm:()=>h(null)}),!1}},E=()=>{localStorage.removeItem("akavin-room-id"),o(null),f(!1)};return i&&!l&&e?a?(0,A.jsx)(hs,{roomId:a,onLeaveRoom:E,onSignOut:v,user:n,db:e.db}):(0,A.jsxs)("div",{className:"bg-gray-900 text-white min-h-screen flex items-center justify-center",children:[c&&(0,A.jsx)(hn,{...c}),(0,A.jsx)(hr,{onJoinRoom:b,onCreateRoom:w,onLogin:y,user:n,showCreateForm:d,onSetShowCreateForm:f})]}):(0,A.jsx)("div",{className:"bg-gray-900 text-white min-h-screen flex items-center justify-center",children:(0,A.jsx)("p",{className:"text-xl",children:"Loading Services..."})})},{})}));
//# sourceMappingURL=akavin-scoreboard.0cefa1ef.js.map
